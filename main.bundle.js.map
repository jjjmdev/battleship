{"version":3,"file":"main.bundle.js","mappings":"wCAAA,SAASA,EAAWC,GAA2B,IAAlBC,EAASC,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAG,KACnCD,IAEoB,iBAAdA,EACVD,EAAQK,UAAUC,IAAIL,GAEtBD,EAAQK,UAAUC,OAAOL,GAE3B,CAEO,SAASM,IAA0B,IAAlBN,EAASC,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAG,KACnC,MAAMF,EAAUQ,SAASC,cAAc,OAEvC,OADAV,EAAWC,EAASC,GACbD,CACR,CAEO,SAASU,IAA6B,IAAlBT,EAASC,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAG,KACtC,MAAMF,EAAUQ,SAASC,cAAc,UAEvC,OADAV,EAAWC,EAASC,GACbD,CACR,CAEO,SAASW,IAAoC,IAA7BV,EAASC,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAG,KAAMU,EAAIV,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAG,GAC/C,MAAMF,EAAUQ,SAASC,cAAc,MAGvC,OAFAV,EAAWC,EAASC,GACpBD,EAAQa,YAAcD,EACfZ,CACR,CAEO,SAASc,IAAoC,IAA7Bb,EAASC,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAG,KAAMU,EAAIV,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAG,GAC/C,MAAMF,EAAUQ,SAASC,cAAc,MAGvC,OAFAV,EAAWC,EAASC,GACpBD,EAAQa,YAAcD,EACfZ,CACR,CAEO,SAASe,IAAoC,IAA7Bd,EAASC,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAG,KAAMU,EAAIV,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAG,GAC/C,MAAMF,EAAUQ,SAASC,cAAc,MAGvC,OAFAV,EAAWC,EAASC,GACpBD,EAAQa,YAAcD,EACfZ,CACR,CAEO,SAASgB,IAAmC,IAA7Bf,EAASC,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAG,KAAMU,EAAIV,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAG,GAC9C,MAAMF,EAAUQ,SAASC,cAAc,KAGvC,OAFAV,EAAWC,EAASC,GACpBD,EAAQa,YAAcD,EACfZ,CACR,CAEO,SAASiB,IAKd,IAJDhB,EAASC,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAG,KACZgB,EAAahB,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAG,OAChBiB,EAAIjB,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAG,SACPW,EAAWX,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EAEX,MAAMJ,EAAUQ,SAASC,cAAc,UAKvC,OAJAV,EAAWC,EAASC,GACpBD,EAAQoB,iBAAiB,QAASF,GAClClB,EAAQmB,KAAOA,EACfnB,EAAQa,YAAcA,EACfb,CACR,CAEO,SAASqB,IAAqD,IAA/CpB,EAASC,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAG,KAAMoB,EAAIpB,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAG,GAAIqB,EAAMrB,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAG,QAC3D,MAAMF,EAAUQ,SAASC,cAAc,KAIvC,OAHAV,EAAWC,EAASC,GACpBD,EAAQsB,KAAOA,EACftB,EAAQuB,OAASA,EACVvB,CACR,CAEO,SAASwB,IAA8C,IAAtCvB,EAASC,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAG,KAAMuB,EAAGvB,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAG,GAAIwB,EAAGxB,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAG,GACzD,MAAMF,EAAUQ,SAASC,cAAc,OAIvC,OAHAV,EAAWC,EAASC,GACpBD,EAAQyB,IAAMA,EACdzB,EAAQ0B,IAAMA,EACP1B,CACR,CAEO,SAAS2B,IAQd,IAPD1B,EAASC,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAG,KACZ0B,EAAE1B,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAG,GACL2B,EAAI3B,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAG,GACP4B,EAAW5B,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAG,GACd6B,EAAQ7B,UAAAC,OAAA,QAAAC,IAAAF,UAAA,IAAAA,UAAA,GACR8B,EAAS9B,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAG,GACZiB,EAAIjB,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAG,OAEP,MAAMF,EAAUQ,SAASC,cAAc,SAUvC,OATAV,EAAWC,EAASC,GAEpBD,EAAQ4B,GAAKA,EACb5B,EAAQ6B,KAAOA,EACf7B,EAAQ8B,YAAcA,EACtB9B,EAAQ+B,SAAWA,EACnB/B,EAAQgC,UAAYA,EACpBhC,EAAQmB,KAAOA,EAERnB,CACR,CAEO,SAASiC,IAOd,IANDhC,EAASC,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAG,KACZ0B,EAAE1B,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAG,GACL2B,EAAI3B,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAG,GACP4B,EAAW5B,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAG,GACd6B,EAAQ7B,UAAAC,OAAA,QAAAC,IAAAF,UAAA,IAAAA,UAAA,GACR8B,EAAS9B,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAG,GAEZ,MAAMF,EAAUQ,SAASC,cAAc,YASvC,OARAV,EAAWC,EAASC,GAEpBD,EAAQ4B,GAAKA,EACb5B,EAAQ6B,KAAOA,EACf7B,EAAQ8B,YAAcA,EACtB9B,EAAQ+B,SAAWA,EACnB/B,EAAQgC,UAAYA,EAEbhC,CACR,CAEO,SAASkC,IAAiD,IAAvCjC,EAASC,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAG,KAAMiC,EAAYjC,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAG,KAC1D,MAAMF,EAAUQ,SAASC,cAAc,SAKvC,OAJAV,EAAWC,EAASC,GAEpBD,EAAQoC,aAAa,MAAOD,GAErBnC,CACR,CAEO,SAASqC,IAAiD,IAAtCpC,EAASC,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAG,KAAM0B,EAAE1B,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAG,GAAI2B,EAAI3B,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAG,GAC5D,MAAMF,EAAUQ,SAASC,cAAc,UAIvC,OAHAV,EAAWC,EAASC,GACpBD,EAAQ4B,GAAKA,EACb5B,EAAQ6B,KAAOA,EACR7B,CACR,CAEO,SAASsC,IAAwC,IAA3BrC,EAASC,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAG,KAAM0B,EAAE1B,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAG,GACnD,MAAMF,EAAUQ,SAASC,cAAc,YAGvC,OAFAV,EAAWC,EAASC,GACpBD,EAAQ4B,GAAKA,EACN5B,CACR,CAEO,SAASuC,IAKd,IAJDtC,EAASC,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAG,KACZsC,EAAKtC,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAG,GACRuC,EAAKvC,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAG,GACRW,EAAWX,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAG,GAEd,MAAMF,EAAUQ,SAASC,cAAc,UAKvC,OAJAV,EAAWC,EAASC,GACpBD,EAAQwC,MAAQA,EAChBxC,EAAQyC,MAAQA,EAChBzC,EAAQa,YAAcA,EACfb,CACR,CAEO,SAAS0C,EACfC,GAMA,MAAM3C,EAAUuC,EALPrC,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAG,KACPA,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAG,GACHA,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAG,GACGA,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAG,IAId,OADAyC,EAAWC,YAAY5C,GAChBA,CACR,CAEO,SAAS6C,IAAyB,IAAlB5C,EAASC,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAG,KAClC,MAAMF,EAAUQ,SAASC,cAAc,MAEvC,OADAV,EAAWC,EAASC,GACbD,CACR,CAEO,SAAS8C,IAAyB,IAAlB7C,EAASC,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAG,KAClC,MAAMF,EAAUQ,SAASC,cAAc,MAEvC,OADAV,EAAWC,EAASC,GACbD,CACR,CAEO,SAAS+C,IAAyB,IAAlB9C,EAASC,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAG,KAClC,MAAMF,EAAUQ,SAASC,cAAc,MAEvC,OADAV,EAAWC,EAASC,GACbD,CACR,CAEO,SAASgD,EAAoBL,GACnC,MAAM3C,EAAU+C,EADwC7C,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAG,MAG3D,OADAyC,EAAWC,YAAY5C,GAChBA,CACR,CAEO,SAASiD,IAAyB,IAAlBhD,EAASC,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAG,KAClC,MAAMF,EAAUQ,SAASC,cAAc,MAEvC,OADAV,EAAWC,EAASC,GACbD,CACR,CAEO,SAASkD,IAA2B,IAAlBjD,EAASC,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAG,KACpC,MAAMF,EAAUQ,SAASC,cAAc,QAEvC,OADAV,EAAWC,EAASC,GACbD,CACR,CAEO,SAASmD,IAA6B,IAAlBlD,EAASC,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAG,KACtC,MAAMF,EAAUQ,SAASC,cAAc,UAEvC,OADAV,EAAWC,EAASC,GACbD,CACR,C,weChNIoD,EAAgC,IAAIC,IAAI,YACxCC,EAAgC,IAAID,IAAI,YACxCE,EAAgC,IAAIF,IAAI,WACxCG,EAAgC,IAAIH,IAAI,YACxCI,EAAgC,IAAIJ,IAAI,YACxCK,EAAgC,IAAIL,IAAI,YACxCM,EAAgC,IAAIN,IAAI,YACxCO,EAAgC,IAAIP,IAAI,YACxCQ,EAAgC,IAAIR,IAAI,YACxCS,EAA0B,IAA4B,KAC1DA,EAAwBC,KAAK,CAACC,EAAOpC,GAAI,mGACzC,IAAIqC,EAAqC,IAAgCb,GACrEc,EAAqC,IAAgCZ,GACrEa,EAAqC,IAAgCZ,GACrEa,EAAqC,IAAgCZ,GACrEa,EAAqC,IAAgCZ,GACrEa,EAAqC,IAAgCZ,GACrEa,EAAqC,IAAgCZ,GACrEa,EAAqC,IAAgCZ,GACrEa,EAAqC,IAAgCZ,GAEzEC,EAAwBC,KAAK,CAACC,EAAOpC,GAAI,uwUAydhBqC,uIAKAC,wEAIAC,sEAIAC,kFAKAC,wDAIAC,gEAIAC,kDAIAC,2HAKAC,wxLA6QtB,GAAG,CAAC,QAAU,EAAE,QAAU,CAAC,8BAA8B,MAAQ,GAAG,SAAW,soLAAsoL,eAAiB,CAAC,imiBAAyniB,WAAa,MAEh3tB,S,uBC9xBAT,EAAOU,QAAU,SAAUC,GACzB,IAAIC,EAAO,GA4EX,OAzEAA,EAAKC,SAAW,WACd,OAAOC,KAAKC,KAAI,SAAUC,GACxB,IAAIC,EAAU,GACVC,OAA+B,IAAZF,EAAK,GAoB5B,OAnBIA,EAAK,KACPC,GAAW,cAAcE,OAAOH,EAAK,GAAI,QAEvCA,EAAK,KACPC,GAAW,UAAUE,OAAOH,EAAK,GAAI,OAEnCE,IACFD,GAAW,SAASE,OAAOH,EAAK,GAAG7E,OAAS,EAAI,IAAIgF,OAAOH,EAAK,IAAM,GAAI,OAE5EC,GAAWN,EAAuBK,GAC9BE,IACFD,GAAW,KAETD,EAAK,KACPC,GAAW,KAETD,EAAK,KACPC,GAAW,KAENA,CACT,IAAGG,KAAK,GACV,EAGAR,EAAKS,EAAI,SAAWC,EAASC,EAAOC,EAAQC,EAAUC,GAC7B,iBAAZJ,IACTA,EAAU,CAAC,CAAC,KAAMA,OAASlF,KAE7B,IAAIuF,EAAyB,CAAC,EAC9B,GAAIH,EACF,IAAK,IAAII,EAAI,EAAGA,EAAId,KAAK3E,OAAQyF,IAAK,CACpC,IAAIhE,EAAKkD,KAAKc,GAAG,GACP,MAANhE,IACF+D,EAAuB/D,IAAM,EAEjC,CAEF,IAAK,IAAIiE,EAAK,EAAGA,EAAKP,EAAQnF,OAAQ0F,IAAM,CAC1C,IAAIb,EAAO,GAAGG,OAAOG,EAAQO,IACzBL,GAAUG,EAAuBX,EAAK,WAGrB,IAAVU,SACc,IAAZV,EAAK,KAGdA,EAAK,GAAK,SAASG,OAAOH,EAAK,GAAG7E,OAAS,EAAI,IAAIgF,OAAOH,EAAK,IAAM,GAAI,MAAMG,OAAOH,EAAK,GAAI,MAF/FA,EAAK,GAAKU,GAMVH,IACGP,EAAK,IAGRA,EAAK,GAAK,UAAUG,OAAOH,EAAK,GAAI,MAAMG,OAAOH,EAAK,GAAI,KAC1DA,EAAK,GAAKO,GAHVP,EAAK,GAAKO,GAMVE,IACGT,EAAK,IAGRA,EAAK,GAAK,cAAcG,OAAOH,EAAK,GAAI,OAAOG,OAAOH,EAAK,GAAI,KAC/DA,EAAK,GAAKS,GAHVT,EAAK,GAAK,GAAGG,OAAOM,IAMxBb,EAAKb,KAAKiB,GACZ,CACF,EACOJ,CACT,C,uBClFAZ,EAAOU,QAAU,SAAUoB,EAAKC,GAI9B,OAHKA,IACHA,EAAU,CAAC,GAERD,GAGLA,EAAME,OAAOF,EAAIG,WAAaH,EAAII,QAAUJ,GAGxC,eAAeK,KAAKL,KACtBA,EAAMA,EAAIM,MAAM,GAAI,IAElBL,EAAQM,OACVP,GAAOC,EAAQM,MAKb,oBAAoBF,KAAKL,IAAQC,EAAQO,WACpC,IAAKnB,OAAOW,EAAIS,QAAQ,KAAM,OAAOA,QAAQ,MAAO,OAAQ,KAE9DT,GAjBEA,CAkBX,C,uBCvBA9B,EAAOU,QAAU,SAAUM,GACzB,IAAIC,EAAUD,EAAK,GACfwB,EAAaxB,EAAK,GACtB,IAAKwB,EACH,OAAOvB,EAET,GAAoB,mBAATwB,KAAqB,CAC9B,IAAIC,EAASD,KAAKE,SAASC,mBAAmBC,KAAKC,UAAUN,MACzDO,EAAO,+DAA+D5B,OAAOuB,GAC7EM,EAAgB,OAAO7B,OAAO4B,EAAM,OACxC,MAAO,CAAC9B,GAASE,OAAO,CAAC6B,IAAgB5B,KAAK,KAChD,CACA,MAAO,CAACH,GAASG,KAAK,KACxB,C,iCCRC,SAAU6B,GACP,aAEA,IAAIC,EAAS,CAAC,EAEVD,EAAKC,QACLA,EAASD,EAAKC,OACdC,QAAQC,KAAK,mDAEbH,EAAKC,OAASA,EAkBwC,SAAUA,GAGpE,IAAIG,EAAW,CAAC,EACZC,GAAW,EA0Bf,SAASC,EAAqCC,EAAYC,EAASV,GAC/D,IACIS,EAAYC,EAASV,EACzB,CAAE,MAAOW,GACLC,WAVR,SAAyBD,GACrB,OAAO,WACH,MAAMA,CACV,CACJ,CAMoBE,CAAgBF,GAAM,EACtC,CACJ,CAEA,SAASG,EAAuCL,EAAYC,EAASV,GACjES,EAAYC,EAASV,EACzB,CAEA,SAASe,EAAgBC,EAAiBC,EAAgBjB,EAAMkB,GAC5D,IAEIC,EAFAC,EAAcd,EAASW,GACvBI,EAAiBH,EAAsBJ,EAAwCN,EAGnF,GAAMc,OAAOC,UAAUC,eAAeC,KAAMnB,EAAUW,GAItD,IAAKE,KAAKC,EACDE,OAAOC,UAAUC,eAAeC,KAAKL,EAAaD,IACnDE,EAAgBD,EAAYD,GAAIH,EAAiBhB,EAG7D,CAqBA,SAAS0B,EAAyBhB,GAC9B,IAAIiB,EAAQ1C,OAAQyB,GAGpB,OAFYkB,QAAQN,OAAOC,UAAUC,eAAeC,KAAMnB,EAAUqB,IAxExE,SAAiBE,GACb,IAAIC,EAEJ,IAAKA,KAAOD,EACR,GAAKP,OAAOC,UAAUC,eAAeC,KAAKI,EAAKC,GAC3C,OAAO,EAGf,OAAO,CACX,CA+DmFC,CAAQzB,EAASqB,IAGpG,CAgBA,SAASK,EAAStB,EAASV,EAAMiC,EAAMf,GAGnC,IAAIgB,EA3CR,SAAiCxB,EAASV,EAAMkB,GAC5C,OAAO,WACH,IAAIS,EAAQ1C,OAAQyB,GAChByB,EAAWR,EAAMS,YAAa,KAMlC,IAHArB,EAAeL,EAASA,EAASV,EAAMkB,IAGlB,IAAdiB,GAEHA,GADAR,EAAQA,EAAMU,OAAQ,EAAGF,IACRC,YAAY,KAC7BrB,EAAgBL,EAASiB,EAAO3B,EAAMkB,GAG1CH,EAAeL,EApEG,IAoE2BV,EAAMkB,EACvD,CACJ,CA0BkBoB,CAFd5B,EAA8B,iBAAZA,EAAwBA,EAAQ5C,WAAa4C,EAEhBV,EAAMkB,GAGrD,QApBJ,SAAgCR,GAK5B,IAJA,IAAIiB,EAAQ1C,OAAQyB,GAChB6B,EAAQb,EAAwBC,IAAUD,EAjFxB,KAkFlBS,EAAWR,EAAMS,YAAa,MAEzBG,IAAuB,IAAdJ,GAEdA,GADAR,EAAQA,EAAMU,OAAQ,EAAGF,IACRC,YAAa,KAC9BG,EAAQb,EAAwBC,GAGpC,OAAOY,CACX,CAMyBC,CAAuB9B,MAM9B,IAATuB,EACDC,IAEAtB,WAAYsB,EAAS,IAElB,EACX,CAUA/B,EAAO6B,QAAU,SAAUtB,EAASV,GAChC,OAAOgC,EAAStB,EAASV,GAAM,EAAOG,EAAOe,oBACjD,EAUAf,EAAOsC,YAAc,SAAU/B,EAASV,GACpC,OAAOgC,EAAStB,EAASV,GAAM,EAAMG,EAAOe,oBAChD,EAUAf,EAAOuC,UAAY,SAAUhC,EAASiC,GAClC,GAAqB,mBAATA,EACR,OAAO,EAGXjC,EAA8B,iBAAZA,EAAwBA,EAAQ5C,WAAa4C,EAGzDY,OAAOC,UAAUC,eAAeC,KAAMnB,EAAUI,KAClDJ,EAASI,GAAW,CAAC,GAKzB,IAAIkC,EAAQ,OAAS3D,SAASsB,GAI9B,OAHAD,EAASI,GAASkC,GAASD,EAGpBC,CACX,EAEAzC,EAAO0C,aAAe,SAAUF,GAC5B,OAAOxC,EAAOuC,UArKQ,IAqKuBC,EACjD,EAUAxC,EAAO2C,cAAgB,SAAUpC,EAASiC,GACtC,IAAIC,EAAQzC,EAAOuC,UAAWhC,GAAS,WAEnCP,EAAO4C,YAAaH,GACpBD,EAAKK,MAAOjF,KAAM5E,UACtB,IACA,OAAOgH,CACX,EAQAA,EAAO8C,sBAAwB,WAC3B3C,EAAW,CAAC,CAChB,EASAH,EAAO+C,mBAAqB,SAA4BvB,GACpD,IAAIwB,EACJ,IAAKA,KAAK7C,EACFgB,OAAOC,UAAUC,eAAeC,KAAKnB,EAAU6C,IAA2B,IAArBA,EAAEC,QAAQzB,WACxDrB,EAAS6C,EAG5B,EASAhD,EAAOkD,mBAAqB,SAA4B1B,GACpD,IAAIwB,EAEAP,EACAU,EAAQ,EACZ,IAAKH,KAAK7C,EACN,GAAIgB,OAAOC,UAAUC,eAAeC,KAAKnB,EAAU6C,IAA2B,IAArBA,EAAEC,QAAQzB,GAAc,CAC7E,IAAKiB,KAAStC,EAAS6C,GACnBG,IAEJ,KACJ,CAEJ,OAAOA,CACX,EASAnD,EAAOoD,iBAAmB,SAA0B5B,GAChD,IAAIwB,EACAtF,EAAO,GACX,IAAKsF,KAAK7C,EACFgB,OAAOC,UAAUC,eAAeC,KAAKnB,EAAU6C,IAA2B,IAArBA,EAAEC,QAAQzB,IAC/D9D,EAAKb,KAAKmG,GAGlB,OAAOtF,CACX,EAsBAsC,EAAO4C,YAAc,SAAStH,GAC1B,IAeI0H,EAAGzC,EAAS8C,EAJZC,EAA8B,iBAAVhI,IAAwB6F,OAAOC,UAAUC,eAAeC,KAAKnB,EAAU7E,IAXnE,SAASkG,GAC7B,IAAIwB,EACJ,IAAMA,KAAK7C,EACP,GAAKgB,OAAOC,UAAUC,eAAeC,KAAKnB,EAAU6C,IAA2B,IAArBA,EAAEC,QAAQzB,GAEhE,OAAO,EAIf,OAAO,CACX,CACqG+B,CAAsBjI,IAC3HkI,GAAcF,GAA4B,iBAAVhI,EAChCmI,EAA8B,mBAAVnI,EACpBoI,GAAS,EAGb,IAAIJ,EAAJ,CAKA,IAAMN,KAAK7C,EACP,GAAKgB,OAAOC,UAAUC,eAAeC,KAAMnB,EAAU6C,GAAK,CAGtD,GAFAzC,EAAUJ,EAAS6C,GAEdQ,GAAWjD,EAAQjF,GAAQ,QACrBiF,EAAQjF,GACfoI,EAASpI,EAET,KACJ,CAEA,GAAImI,EACA,IAAMJ,KAAK9C,EACHY,OAAOC,UAAUC,eAAeC,KAAKf,EAAS8C,IAAM9C,EAAQ8C,KAAO/H,WAC5DiF,EAAQ8C,GACfK,GAAS,EAIzB,CAGJ,OAAOA,CAxBP,CAFI1D,EAAO+C,mBAAmBzH,EA2BlC,CACJ,CArVQqI,CAAQ3D,SAIO9G,IAAX4D,GAAwBA,EAAOU,UAC/BA,EAAUV,EAAOU,QAAUwC,GAE/BxC,EAAQwC,OAASA,EACjBlD,EAAOU,QAAUA,EAAUwC,CASnC,CA3BA,CA2BsB,iBAAX4D,QAAuBA,QAAYhG,MAAQ,EAAAiG,E,sBChCtD,IAAIC,EAAc,GAClB,SAASC,EAAqBC,GAE5B,IADA,IAAIN,GAAU,EACLvF,EAAI,EAAGA,EAAI2F,EAAY7K,OAAQkF,IACtC,GAAI2F,EAAY3F,GAAG6F,aAAeA,EAAY,CAC5CN,EAASvF,EACT,KACF,CAEF,OAAOuF,CACT,CACA,SAASO,EAAavG,EAAMmB,GAG1B,IAFA,IAAIqF,EAAa,CAAC,EACdC,EAAc,GACThG,EAAI,EAAGA,EAAIT,EAAKzE,OAAQkF,IAAK,CACpC,IAAIL,EAAOJ,EAAKS,GACZzD,EAAKmE,EAAQuF,KAAOtG,EAAK,GAAKe,EAAQuF,KAAOtG,EAAK,GAClDqF,EAAQe,EAAWxJ,IAAO,EAC1BsJ,EAAa,GAAG/F,OAAOvD,EAAI,KAAKuD,OAAOkF,GAC3Ce,EAAWxJ,GAAMyI,EAAQ,EACzB,IAAIkB,EAAoBN,EAAqBC,GACzCtC,EAAM,CACR4C,IAAKxG,EAAK,GACVO,MAAOP,EAAK,GACZyG,UAAWzG,EAAK,GAChBS,SAAUT,EAAK,GACfU,MAAOV,EAAK,IAEd,IAA2B,IAAvBuG,EACFP,EAAYO,GAAmBG,aAC/BV,EAAYO,GAAmBI,QAAQ/C,OAClC,CACL,IAAI+C,EAAUC,EAAgBhD,EAAK7C,GACnCA,EAAQ8F,QAAUxG,EAClB2F,EAAYc,OAAOzG,EAAG,EAAG,CACvB6F,WAAYA,EACZS,QAASA,EACTD,WAAY,GAEhB,CACAL,EAAYtH,KAAKmH,EACnB,CACA,OAAOG,CACT,CACA,SAASO,EAAgBhD,EAAK7C,GAC5B,IAAIgG,EAAMhG,EAAQiG,OAAOjG,GAYzB,OAXAgG,EAAIE,OAAOrD,GACG,SAAiBsD,GAC7B,GAAIA,EAAQ,CACV,GAAIA,EAAOV,MAAQ5C,EAAI4C,KAAOU,EAAO3G,QAAUqD,EAAIrD,OAAS2G,EAAOT,YAAc7C,EAAI6C,WAAaS,EAAOzG,WAAamD,EAAInD,UAAYyG,EAAOxG,QAAUkD,EAAIlD,MACzJ,OAEFqG,EAAIE,OAAOrD,EAAMsD,EACnB,MACEH,EAAII,QAER,CAEF,CACAnI,EAAOU,QAAU,SAAUE,EAAMmB,GAG/B,IAAIqG,EAAkBjB,EADtBvG,EAAOA,GAAQ,GADfmB,EAAUA,GAAW,CAAC,GAGtB,OAAO,SAAgBsG,GACrBA,EAAUA,GAAW,GACrB,IAAK,IAAIhH,EAAI,EAAGA,EAAI+G,EAAgBjM,OAAQkF,IAAK,CAC/C,IACIiH,EAAQrB,EADKmB,EAAgB/G,IAEjC2F,EAAYsB,GAAOZ,YACrB,CAEA,IADA,IAAIa,EAAqBpB,EAAakB,EAAStG,GACtCyG,EAAK,EAAGA,EAAKJ,EAAgBjM,OAAQqM,IAAM,CAClD,IACIC,EAASxB,EADKmB,EAAgBI,IAEK,IAAnCxB,EAAYyB,GAAQf,aACtBV,EAAYyB,GAAQd,UACpBX,EAAYc,OAAOW,EAAQ,GAE/B,CACAL,EAAkBG,CACpB,CACF,C,uBCjFA,IAAIG,EAAO,CAAC,EA+BZ1I,EAAOU,QAPP,SAA0BiI,EAAQC,GAChC,IAAIrL,EAtBN,SAAmBA,GACjB,QAA4B,IAAjBmL,EAAKnL,GAAyB,CACvC,IAAIsL,EAAcrM,SAASsM,cAAcvL,GAGzC,GAAIuJ,OAAOiC,mBAAqBF,aAAuB/B,OAAOiC,kBAC5D,IAGEF,EAAcA,EAAYG,gBAAgBC,IAC5C,CAAE,MAAOC,GAEPL,EAAc,IAChB,CAEFH,EAAKnL,GAAUsL,CACjB,CACA,OAAOH,EAAKnL,EACd,CAIe4L,CAAUR,GACvB,IAAKpL,EACH,MAAM,IAAI6L,MAAM,2GAElB7L,EAAOqB,YAAYgK,EACrB,C,uBCvBA5I,EAAOU,QANP,SAA4BqB,GAC1B,IAAI/F,EAAUQ,SAASC,cAAc,SAGrC,OAFAsF,EAAQsH,cAAcrN,EAAS+F,EAAQuH,YACvCvH,EAAQ4G,OAAO3M,EAAS+F,EAAQA,SACzB/F,CACT,C,4BCCAgE,EAAOU,QANP,SAAwC6I,GACtC,IAAIC,EAAmD,KACnDA,GACFD,EAAanL,aAAa,QAASoL,EAEvC,C,uBCoDAxJ,EAAOU,QAjBP,SAAgBqB,GACd,GAAwB,oBAAbvF,SACT,MAAO,CACLyL,OAAQ,WAAmB,EAC3BE,OAAQ,WAAmB,GAG/B,IAAIoB,EAAexH,EAAQ0H,mBAAmB1H,GAC9C,MAAO,CACLkG,OAAQ,SAAgBrD,IAjD5B,SAAe2E,EAAcxH,EAAS6C,GACpC,IAAI4C,EAAM,GACN5C,EAAInD,WACN+F,GAAO,cAAcrG,OAAOyD,EAAInD,SAAU,QAExCmD,EAAIrD,QACNiG,GAAO,UAAUrG,OAAOyD,EAAIrD,MAAO,OAErC,IAAIL,OAAiC,IAAd0D,EAAIlD,MACvBR,IACFsG,GAAO,SAASrG,OAAOyD,EAAIlD,MAAMvF,OAAS,EAAI,IAAIgF,OAAOyD,EAAIlD,OAAS,GAAI,OAE5E8F,GAAO5C,EAAI4C,IACPtG,IACFsG,GAAO,KAEL5C,EAAIrD,QACNiG,GAAO,KAEL5C,EAAInD,WACN+F,GAAO,KAET,IAAIC,EAAY7C,EAAI6C,UAChBA,GAA6B,oBAAThF,OACtB+E,GAAO,uDAAuDrG,OAAOsB,KAAKE,SAASC,mBAAmBC,KAAKC,UAAU2E,MAAe,QAKtI1F,EAAQ2H,kBAAkBlC,EAAK+B,EAAcxH,EAAQA,QACvD,CAoBMgE,CAAMwD,EAAcxH,EAAS6C,EAC/B,EACAuD,OAAQ,YArBZ,SAA4BoB,GAE1B,GAAgC,OAA5BA,EAAaI,WACf,OAAO,EAETJ,EAAaI,WAAWC,YAAYL,EACtC,CAgBMM,CAAmBN,EACrB,EAEJ,C,uBC9CAvJ,EAAOU,QAVP,SAA2B8G,EAAK+B,GAC9B,GAAIA,EAAaO,WACfP,EAAaO,WAAWC,QAAUvC,MAC7B,CACL,KAAO+B,EAAaS,YAClBT,EAAaK,YAAYL,EAAaS,YAExCT,EAAa3K,YAAYpC,SAASyN,eAAezC,GACnD,CACF,C,gBCZA,kBAA0F,SAAS0C,EAAGC,EAAEC,EAAEC,GAAG,OAAOF,EAAE3F,KAAKuB,MAAMoE,EAAEG,KAAKpO,UAAU,CAAC,SAASqO,EAAGJ,EAAEC,EAAEC,GAAG,IAAIF,EAAE,MAAMf,QAAQ,GAAG,EAAElN,UAAUC,OAAO,CAAC,IAAIqO,EAAEC,MAAMnG,UAAUlC,MAAMoC,KAAKtI,UAAU,GAAG,OAAO,WAAW,IAAImO,EAAEI,MAAMnG,UAAUlC,MAAMoC,KAAKtI,WAA8C,OAAnCuO,MAAMnG,UAAUoG,QAAQ3E,MAAMsE,EAAEG,GAAUL,EAAEpE,MAAMqE,EAAEC,EAAE,CAAC,CAAC,OAAO,WAAW,OAAOF,EAAEpE,MAAMqE,EAAElO,UAAU,CAAC,CAAC,SAASyO,EAAER,EAAEC,EAAEC,GAAkG,OAA/FM,EAAEC,SAAStG,UAAUgG,OAAO,GAAGM,SAAStG,UAAUgG,KAAKzJ,WAAWsF,QAAQ,eAAe+D,EAAGK,GAAYxE,MAAM,KAAK7J,UAAU,CAAC,IAAI2O,EAAEC,KAAKC,KAAK,WAAW,OAAO,IAAID,IAAI,EAAE,SAASE,EAAGb,EAAEC,GAAGtJ,KAAKqJ,EAAEA,EAAErJ,KAAKmK,EAAEb,GAAGD,EAAErJ,KAAKuJ,EAAEvJ,KAAKmK,EAAEzO,QAAQ,CAAC,IAAI0O,IAAKpE,OAAOqE,SAAS,SAAS5E,EAAE4D,EAAEC,EAAEC,EAAEG,GAA0B,GAAvBJ,EAAED,EAAEE,EAAE5N,cAAc2N,GAAMC,EAAE,IAAI,IAAInB,KAAKmB,EAAEA,EAAE9F,eAAe2E,KAAK,SAASA,EAAEkB,EAAExB,MAAMmB,QAAQM,EAAEnB,GAAGkB,EAAEhM,aAAa8K,EAAEmB,EAAEnB,KAA6C,OAAxCsB,GAAGJ,EAAExL,YAAYuL,EAAEE,EAAEJ,eAAeO,IAAWJ,CAAC,CAAC,SAASgB,EAAEjB,EAAEC,EAAEC,IAAGF,EAAEA,EAAEE,EAAEgB,qBAAqBjB,GAAG,MAAOD,EAAE3N,SAAS8O,iBAAiBnB,EAAEoB,aAAalB,EAAEF,EAAEqB,UAAU,CAAC,SAASC,EAAEtB,GAAGA,EAAER,YAAYQ,EAAER,WAAWC,YAAYO,EAAE,CAC5hC,SAASuB,EAAEvB,EAAEC,EAAEC,GAAGD,EAAEA,GAAG,GAAGC,EAAEA,GAAG,GAAG,IAAI,IAAIG,EAAEL,EAAElO,UAAU0P,MAAM,OAAOzC,EAAE,EAAEA,EAAEkB,EAAEjO,OAAO+M,GAAG,EAAE,CAAC,IAAI,IAAI0C,GAAE,EAAG7E,EAAE,EAAEA,EAAEyD,EAAErO,OAAO4K,GAAG,EAAE,GAAGqD,EAAElB,KAAKsB,EAAEzD,GAAG,CAAC6E,GAAE,EAAG,KAAK,CAACA,GAAGpB,EAAEzK,KAAKqK,EAAElB,GAAG,CAAM,IAALkB,EAAE,GAAOlB,EAAE,EAAEA,EAAEsB,EAAErO,OAAO+M,GAAG,EAAE,CAAM,IAAL0C,GAAE,EAAO7E,EAAE,EAAEA,EAAEsD,EAAElO,OAAO4K,GAAG,EAAE,GAAGyD,EAAEtB,KAAKmB,EAAEtD,GAAG,CAAC6E,GAAE,EAAG,KAAK,CAACA,GAAGxB,EAAErK,KAAKyK,EAAEtB,GAAG,CAACiB,EAAElO,UAAUmO,EAAEhJ,KAAK,KAAKmB,QAAQ,OAAO,KAAKA,QAAQ,YAAY,GAAG,CAAC,SAASsJ,EAAE1B,EAAEC,GAAG,IAAI,IAAIC,EAAEF,EAAElO,UAAU0P,MAAM,OAAOnB,EAAE,EAAEtB,EAAEmB,EAAElO,OAAOqO,EAAEtB,EAAEsB,IAAI,GAAGH,EAAEG,IAAIJ,EAAE,OAAM,EAAG,OAAM,CAAE,CACnX,SAAS0B,EAAE3B,EAAEC,EAAEC,GAAG,SAASG,IAAItE,GAAGgD,GAAG0C,IAAI1F,EAAEa,GAAGb,EAAE,KAAK,CAACkE,EAAE7D,EAAE4D,EAAE,OAAO,CAAC4B,IAAI,aAAazO,KAAK8M,EAAE7I,MAAM,QAAQ,IAAI2H,GAAE,EAAG0C,GAAE,EAAG7E,EAAE,KAAKb,EAAEmE,GAAG,KAAKa,GAAId,EAAE4B,OAAO,WAAW9C,GAAE,EAAGsB,GAAG,EAAEJ,EAAE6B,QAAQ,WAAW/C,GAAE,EAAGnC,EAAEqC,MAAM,6BAA6BoB,GAAG,GAAG7G,YAAW,WAAWuF,GAAE,EAAGsB,GAAG,GAAE,GAAGY,EAAEjB,EAAE,OAAOC,EAAE,CACnW,SAAS8B,EAAE/B,EAAEC,EAAEC,EAAEG,GAAG,IAAItB,EAAEiB,EAAEE,EAAEgB,qBAAqB,QAAQ,GAAG,GAAGnC,EAAE,CAAC,IAAI0C,EAAErF,EAAE4D,EAAE,SAAS,CAAC1M,IAAI2M,IAAIrD,GAAE,EAA0T,OAAvT6E,EAAEI,OAAOJ,EAAEO,mBAAmB,WAAWpF,GAAGjG,KAAKsL,YAAY,UAAUtL,KAAKsL,YAAY,YAAYtL,KAAKsL,aAAarF,GAAE,EAAGsD,GAAGA,EAAE,MAAMuB,EAAEI,OAAOJ,EAAEO,mBAAmB,KAAK,QAAQP,EAAEjC,WAAW0C,SAASnD,EAAEU,YAAYgC,GAAG,EAAE1C,EAAEtK,YAAYgN,GAAGjI,YAAW,WAAWoD,IAAIA,GAAE,EAAGsD,GAAGA,EAAEjB,MAAM,wBAAwB,GAAEoB,GAAG,KAAYoB,CAAC,CAAC,OAAO,IAAI,CAAE,SAASU,IAAIxL,KAAKqJ,EAAE,EAAErJ,KAAKuJ,EAAE,IAAI,CAAC,SAASkC,EAAEpC,GAAS,OAANA,EAAEA,IAAW,WAAWA,EAAEA,IAAIqC,EAAErC,EAAE,CAAC,CAAC,SAASsC,EAAEtC,EAAEC,GAAGD,EAAEE,EAAED,EAAEoC,EAAErC,EAAE,CAAC,SAASqC,EAAErC,GAAG,GAAGA,EAAEA,GAAGA,EAAEE,IAAIF,EAAEE,IAAIF,EAAEE,EAAE,KAAK,CAAE,SAASqC,EAAEvC,GAAGrJ,KAAKqJ,EAAEA,GAAG,GAAG,CAAmJ,SAASwC,EAAExC,EAAEC,GAAGtJ,KAAKuJ,EAAEF,EAAErJ,KAAK8K,EAAE,EAAE9K,KAAKqJ,EAAE,IAAI,IAAIE,GAAGD,GAAG,MAAMwC,MAAM,qBAAqBvC,IAAIvJ,KAAKqJ,EAAEE,EAAE,GAAGvJ,KAAK8K,EAAEiB,SAASxC,EAAE,GAAG,IAAI,CAA4D,SAASyC,EAAE3C,GAAG,IAAIC,EAAE,GAAGD,EAAEA,EAAEwB,MAAM,QAAQ,IAAI,IAAItB,EAAE,EAAEA,EAAEF,EAAEhO,OAAOkO,IAAI,CAAC,IAAIG,EAAEL,EAAEE,GAAG9H,QAAQ,QAAQ,KAAK,GAAGiI,EAAErE,QAAQ,MAAM,MAAMhE,KAAKqI,GAAGJ,EAAErK,KAAK,IAAIyK,EAAE,KAAKJ,EAAErK,KAAKyK,EAAE,CAAC,OAAOJ,EAAEhJ,KAAK,IAAI,CAAC,SAAS2L,EAAE5C,GAAG,OAAOA,EAAEA,EAAEA,EAAEyB,CAAC,CAAC,SAASoB,EAAE7C,GAAG,IAAIC,EAAE,SAAuD,MAA9C,MAAMD,EAAEA,EAAEC,EAAE,UAAU,MAAMD,EAAEA,IAAIC,EAAE,UAAiBA,CAAC,CAC9tC,SAAS6C,EAAG9C,GAAG,IAAIC,EAAE,EAAEC,EAAE,IAAIG,EAAE,KAA0N,OAArNL,KAAKK,EAAEL,EAAEyC,MAAM,8BAA8BpC,EAAE,KAAKH,EAAEG,EAAE,GAAGpF,OAAO,EAAE,GAAG8H,gBAAgB1C,EAAEL,EAAEyC,MAAM,4BAA4BpC,EAAE,KAAK,QAAQrI,KAAKqI,EAAE,IAAIJ,EAAE,EAAE,UAAUjI,KAAKqI,EAAE,MAAMJ,EAAEyC,SAASrC,EAAE,GAAGpF,OAAO,EAAE,GAAG,OAAciF,EAAED,CAAC,CAAE,SAAS+C,EAAGhD,EAAEC,GAAGtJ,KAAKuJ,EAAEF,EAAErJ,KAAK8K,EAAEzB,EAAEc,EAAEzO,SAAS8O,gBAAgBxK,KAAKsM,EAAEhD,EAAEtJ,KAAKqJ,EAAE,IAAIuC,EAAE,KAAK5L,KAAKuM,GAAE,IAAKjD,EAAEkD,OAAOxM,KAAKiG,GAAE,IAAKqD,EAAEmD,OAAO,CAAmE,SAASC,EAAErD,GAAG,GAAGA,EAAEpD,EAAE,CAAC,IAAIqD,EAAEyB,EAAE1B,EAAEyB,EAAEzB,EAAEA,EAAEE,EAAE,KAAK,WAAWA,EAAE,GAAGG,EAAE,CAACL,EAAEA,EAAEE,EAAE,KAAK,YAAYD,GAAGC,EAAEtK,KAAKoK,EAAEA,EAAEE,EAAE,KAAK,aAAaqB,EAAEvB,EAAEyB,EAAEvB,EAAEG,EAAE,CAACiD,EAAEtD,EAAE,WAAW,CAAC,SAASsD,EAAEtD,EAAEC,EAAEC,GAAMF,EAAEkD,GAAGlD,EAAEiD,EAAEhD,KAAMC,EAAEF,EAAEiD,EAAEhD,GAAGC,EAAEA,EAAE0C,EAAE1C,IAASF,EAAEiD,EAAEhD,KAAI,CAAE,SAASsD,IAAK5M,KAAKuJ,EAAE,CAAC,CAAC,CAA8G,SAASsD,EAAExD,EAAEC,GAAGtJ,KAAKuJ,EAAEF,EAAErJ,KAAK8K,EAAExB,EAAEtJ,KAAKqJ,EAAE5D,EAAEzF,KAAKuJ,EAAE,OAAO,CAAC,cAAc,QAAQvJ,KAAK8K,EAAE,CAAC,SAASgC,EAAEzD,GAAGiB,EAAEjB,EAAEE,EAAE,OAAOF,EAAEA,EAAE,CAAC,SAAS0D,EAAE1D,GAAG,MAAM,4LAA4L2C,EAAE3C,EAAEE,GAAhM,eAAsN2C,EAAE7C,GAAG,gBAAiBA,EAAEyB,EAAvC,KAAmD,CAAE,SAASkC,EAAE3D,EAAEC,EAAEC,EAAEG,EAAEtB,EAAE0C,GAAG9K,KAAKiG,EAAEoD,EAAErJ,KAAKuM,EAAEjD,EAAEtJ,KAAKqJ,EAAEK,EAAE1J,KAAKuJ,EAAEA,EAAEvJ,KAAK8K,EAAE1C,GAAG,IAAIpI,KAAKsM,EAAExB,QAAG,CAAM,CAAyX,SAASmC,EAAE5D,EAAEC,EAAEC,EAAEG,EAAEtB,EAAE0C,EAAE7E,GAAGjG,KAAK2K,EAAEtB,EAAErJ,KAAKwL,EAAElC,EAAEtJ,KAAKuJ,EAAEA,EAAEvJ,KAAKqJ,EAAEK,EAAE1J,KAAKoD,EAAE6C,GAAG,UAAUjG,KAAK8K,EAAE,CAAC,EAAE9K,KAAK4K,EAAExC,GAAG,IAAIpI,KAAKsK,EAAEQ,GAAG,KAAK9K,KAAKoF,EAAEpF,KAAKuM,EAAEvM,KAAKsM,EAAEtM,KAAKiG,EAAE,KAAKjG,KAAKiG,EAAE,IAAI4G,EAAE7M,KAAKuJ,EAAEvJ,KAAKoD,GAAGpD,KAAKsM,EAAE,IAAIO,EAAE7M,KAAKuJ,EAAEvJ,KAAKoD,GAAGpD,KAAKuM,EAAE,IAAIM,EAAE7M,KAAKuJ,EAAEvJ,KAAKoD,GAAGpD,KAAKoF,EAAE,IAAIyH,EAAE7M,KAAKuJ,EAAEvJ,KAAKoD,GAAwCiG,EAAE0D,EAAvC1D,EAAE,IAAIwC,EAAE7L,KAAKqJ,EAAEE,EAAE,SAAS0C,EAAEjM,KAAKqJ,KAAWrJ,KAAKiG,EAAEoD,EAAEvB,MAAMmB,QAAQI,EAA4CA,EAAE0D,EAA5C1D,EAAE,IAAIwC,EAAE7L,KAAKqJ,EAAEE,EAAE,cAAc0C,EAAEjM,KAAKqJ,KAAWrJ,KAAKsM,EAAEjD,EAAEvB,MAAMmB,QAAQI,EAA6BA,EAAE0D,EAA7B1D,EAAE,IAAIwC,EAAE,QAAQI,EAAEjM,KAAKqJ,KAAWrJ,KAAKuM,EAAElD,EAAEvB,MAAMmB,QAAQI,EAAkCA,EACznE0D,EADylE1D,EAAE,IAAIwC,EAAE,aAAaI,EAAEjM,KAAKqJ,KAChnErJ,KAAKoF,EAAEiE,EAAEvB,MAAMmB,QAAQI,EAAEyD,EAAE9M,KAAKiG,GAAG6G,EAAE9M,KAAKsM,GAAGQ,EAAE9M,KAAKuM,GAAGO,EAAE9M,KAAKoF,EAAE,CAFqiBwG,EAAEpI,UAAU+F,EAAE,SAASF,GAAG,IAAI,IAAIC,EAAE,GAAGC,EAAE,EAAEA,EAAEnO,UAAUC,OAAOkO,IAAID,EAAErK,KAAK7D,UAAUmO,GAAG9H,QAAQ,UAAU,IAAI2K,eAAe,OAAO9C,EAAEhJ,KAAKN,KAAKqJ,EAAE,EACmhB2D,EAAExJ,UAAU0J,MAAM,WAAW,IAAI7D,EAAErJ,KAAKuJ,EAAEY,EAAEzO,SAAS4N,EAAEtJ,KAAKuJ,EAAEQ,IAAIL,EAAE,IAAIyD,SAAQ,SAASzD,EAAEtB,IAAG,SAAS0C,IAAIf,IAAIR,GAAGD,EAAEwB,EAAE1C,IAAIiB,EAAE+D,MAAMC,KADjhB,SAAYhE,GAAG,OAAO6C,EAAE7C,GAAG,IAAKA,EAAEyB,EAAZoB,YAA8BF,EAAE3C,EAAEE,EAAE,CAC4d+D,CAAGhE,EAAED,GAAGC,EAAEgD,GAAGiB,MAAK,SAASlE,GAAG,GAAGA,EAAEhO,OAAOqO,IAAI7G,WAAWiI,EAAE,GAAG,IAAE,WAAW1C,GAAG,GAAE,CAAC0C,EAAG,IAAG1C,EAAE,KAAK0C,EAAE,IAAIqC,SAAQ,SAAS9D,EAAEK,GAAGtB,EAAEvF,WAAW6G,EAAEJ,EAAEwB,EAAE,IAAGqC,QAAQK,KAAK,CAAC1C,EAAEpB,IAAI6D,MAAK,WAAWnF,IAAIqF,aAAarF,GAAGA,EAAE,MAAMkB,EAAErD,EAAEqD,EAAED,EAAE,IAAE,WAAWC,EAAEiD,EAAEjD,EAAED,EAAE,GAAE,EAC7jD,IAAIqE,EAAE,CAAChC,EAAE,QAAQD,EAAE,cAAckC,EAAE,KAAK,SAASC,IAAI,GAAG,OAAOD,EAAE,CAAC,IAAItE,EAAE,sCAAsCwE,KAAK7H,OAAO8H,UAAUC,WAAWJ,IAAItE,IAAI,IAAI0C,SAAS1C,EAAE,GAAG,KAAK,MAAM0C,SAAS1C,EAAE,GAAG,KAAK,IAAI0C,SAAS1C,EAAE,GAAG,IAAI,CAAC,OAAOsE,CAAC,CAC5S,SAASK,EAAG3E,EAAEC,EAAEC,GAAG,IAAI,IAAIG,KAAKgE,EAAE,GAAGA,EAAEjK,eAAeiG,IAAIJ,IAAID,EAAEyB,EAAE4C,EAAEhE,KAAKH,IAAIF,EAAEyB,EAAE4C,EAAEhE,IAAI,OAAM,EAAG,OAAM,CAAE,CAAC,SAASuE,EAAE5E,GAAG,IAA4CK,EAAxCJ,EAAED,EAAEpD,EAAEoD,EAAE6E,YAAY3E,EAAEF,EAAEiD,EAAEjD,EAAE6E,aAAexE,EAAEJ,IAAID,EAAEyB,EAAEqD,OAAO5E,IAAIF,EAAEyB,EAAE,iBAAiBpB,EAAEkE,KAAKI,EAAG3E,EAAEC,EAAEC,IAAIG,EAAEK,IAAIV,EAAE+B,GAAG/B,EAAEuB,EAAEgD,KAAKI,EAAG3E,EAAEC,EAAEC,KAAK,OAAOF,EAAEiB,GAAGjB,EAAEiB,EAAE7G,eAAe4F,EAAEA,EAAEE,IAAI6E,EAAE/E,EAAEA,EAAEsB,GAAGyD,EAAE/E,EAAEA,EAAEmC,GAAkB,SAAYnC,GAAGxG,WAAWgH,GAAE,WAAWoE,EAAEjO,KAAK,GAAEqJ,GAAG,GAAG,CAArEgF,CAAGhF,GAAG+E,EAAE/E,EAAEA,EAAEsB,EAAE,CAAwD,SAASyD,EAAE/E,EAAEC,GAAGzG,WAAWgH,GAAE,WAAWc,EAAE3K,KAAKiG,EAAEoD,GAAGsB,EAAE3K,KAAKsM,EAAEjD,GAAGsB,EAAE3K,KAAKuM,EAAElD,GAAGsB,EAAE3K,KAAKoF,EAAEiE,GAAGC,EAAEtJ,KAAKqJ,EAAE,GAAEA,GAAG,EAAE,CAAE,SAASiF,EAAEjF,EAAEC,EAAEC,GAAGvJ,KAAKuJ,EAAEF,EAAErJ,KAAKqJ,EAAEC,EAAEtJ,KAAK8K,EAAE,EAAE9K,KAAKoF,EAAEpF,KAAKuM,GAAE,EAAGvM,KAAKoD,EAAEmG,CAAC,CADpQ0D,EAAEzJ,UAAU0J,MAAM,WAAWlN,KAAK8K,EAAEqD,MAAMnO,KAAKuM,EAAElD,EAAE6E,YAAYlO,KAAK8K,EAAE,cAAc9K,KAAKoF,EAAEiE,EAAE6E,YAAYlO,KAAKoL,EAAErB,IAAIkE,EAAEjO,KAAK,EAC0I,IAAIuO,EAAE,KAC/T,SAASC,EAAGnF,GAAG,KAAKA,EAAEyB,GAAGzB,EAAEkD,IAAIlD,EAAEjE,IAAGiE,EAAEA,EAAEA,GAAIpD,GAAG2E,EAAEvB,EAAEyB,EAAE,CAACzB,EAAEA,EAAEE,EAAE,KAAK,WAAW,CAACF,EAAEA,EAAEE,EAAE,KAAK,WAAWF,EAAEA,EAAEE,EAAE,KAAK,cAAcoD,EAAEtD,EAAE,WAAWqD,EAAErD,EAAEA,GAAG,CAAE,SAASoF,EAAGpF,GAAGrJ,KAAKuM,EAAElD,EAAErJ,KAAKqJ,EAAE,IAAIuD,EAAG5M,KAAKsM,EAAE,EAAEtM,KAAK8K,EAAE9K,KAAKiG,GAAE,CAAE,CAC5c,SAASyI,EAAGrF,EAAEC,EAAEC,EAAEG,EAAEtB,GAAG,IAAI0C,EAAE,KAAKzB,EAAEiD,GAAGjD,EAAEyB,GAAGzB,EAAEpD,IAAIpD,YAAW,WAAW,IAAIwG,EAAEjB,GAAG,KAAKhD,EAAEsE,GAAS,CAAC,EAAE,GAAG,IAAIH,EAAElO,QAAQyP,EAAE4B,EAAEpD,EAAED,OAAO,CAACC,EAAEwB,GAAGvB,EAAElO,OAAOyP,IAAIxB,EAAEiD,EAAEzB,GAAG,IAAIwB,EAAEqC,EAAE,GAAG,IAAIrC,EAAE,EAAEA,EAAE/C,EAAElO,OAAOiR,IAAI,CAAC,IAAIxL,EAAEyI,EAAE+C,GAAGsC,EAAExJ,EAAEtE,EAAEyI,GAAGsF,EAAEvF,EAAED,EAAEyF,EAAEhO,EAAsF,GAApF+N,EAAE5I,GAAG2E,EAAEiE,EAAE/D,EAAE,CAAC+D,EAAExF,EAAEE,EAAE,KAAKuF,EAAEvF,EAAE0C,EAAE6C,GAAG/O,WAAW,aAAa4M,EAAEkC,EAAE,cAAcC,GAAGD,EAAE,KAAQ,OAAON,EAAE,GAAGvI,OAAOqE,SAAS,CAAKyE,EAAE,wBAAwBjB,KAAK7H,OAAO8H,UAAUC,WAApD,IAA+DgB,EAAG,8BAA8BlB,KAAK7H,OAAO8H,UAAUC,YAAY,QAAQF,KAAK7H,OAAO8H,UAAUkB,QACjfT,EAAEO,EAAE,GAAG/C,SAAS+C,EAAE,GAAG,KAAIC,CAAQ,MAAMR,GAAE,EAAKM,EAAFN,EAAI,IAAIvB,EAAEnD,EAAEP,EAAErD,EAAEqD,GAAGO,EAAEP,EAAEgD,EAAEhD,GAAGA,EAAEC,EAAEzI,EAAEwI,EAAElG,EAAEwL,GAAK,IAAI3B,EAAEpD,EAAEP,EAAErD,EAAEqD,GAAGO,EAAEP,EAAEgD,EAAEhD,GAAGA,EAAEC,EAAEzI,EAAEwI,EAAElG,EAAEiG,EAAEuF,GAAGD,EAAE1P,KAAK4P,EAAE,CAAC,IAAIvC,EAAE,EAAEA,EAAEqC,EAAEtT,OAAOiR,IAAIqC,EAAErC,GAAGY,OAAO,CAAC,GAAE,EAAE,CAAuK,SAAS+B,EAAG5F,EAAEC,GAAGtJ,KAAKuJ,EAAEF,EAAErJ,KAAKqJ,EAAEC,CAAC,CAE/S,SAAS4F,EAAG7F,EAAEC,GAAGtJ,KAAKuJ,EAAEF,EAAErJ,KAAKqJ,EAAEC,CAAC,CAAsV,SAAS6F,EAAG9F,EAAEC,GAAKtJ,KAAKuJ,EAAPF,GAAkB+F,EAAGpP,KAAKqJ,EAAE,GAAGrJ,KAAK8K,EAAE,GAAG9K,KAAKiG,EAAEqD,GAAG,EAAE,CALqDgF,EAAE9K,UAAUyC,EAAE,SAASoD,GAAG,IAAIC,EAAEtJ,KAAKqJ,EAAEC,EAAErD,GAAG2E,EAAEtB,EAAEwB,EAAE,CAACxB,EAAED,EAAEE,EAAE,KAAKF,EAAEE,EAAE0C,EAAE5C,GAAGtJ,WAAW,WAAW,CAACuJ,EAAED,EAAEE,EAAE,KAAKF,EAAEE,EAAE0C,EAAE5C,GAAGtJ,WAAW,WAAWuJ,EAAED,EAAEE,EAAE,KAAKF,EAAEE,EAAE0C,EAAE5C,GAAGtJ,WAAW,cAAc4M,EAAErD,EAAE,aAAaD,GAAGrJ,KAAKoF,GAAE,EAAGoJ,EAAGxO,KAAK,EACxxBsO,EAAE9K,UAAU8I,EAAE,SAASjD,GAAG,IAAIC,EAAEtJ,KAAKqJ,EAAE,GAAGC,EAAErD,EAAE,CAAC,IAAIsD,EAAEwB,EAAEzB,EAAEwB,EAAExB,EAAED,EAAEE,EAAE,KAAKF,EAAEE,EAAE0C,EAAE5C,GAAGtJ,WAAW,WAAW2J,EAAE,GAAGtB,EAAE,CAACkB,EAAED,EAAEE,EAAE,KAAKF,EAAEE,EAAE0C,EAAE5C,GAAGtJ,WAAW,YAAYwJ,GAAGG,EAAEzK,KAAKqK,EAAED,EAAEE,EAAE,KAAKF,EAAEE,EAAE0C,EAAE5C,GAAGtJ,WAAW,aAAa6K,EAAEtB,EAAEwB,EAAEpB,EAAEtB,EAAE,CAACuE,EAAErD,EAAE,eAAeD,GAAGmF,EAAGxO,KAAK,EAAsNyO,EAAGjL,UAAU6J,KAAK,SAAShE,GAAGrJ,KAAKuJ,EAAE,IAAIW,EAAGlK,KAAKuM,EAAElD,EAAEgG,SAASrP,KAAKuM,GAAGvM,KAAKiG,GAAE,IAAKoD,EAAEmD,OAAOxM,KAAK8K,GAAE,IAAKzB,EAAEoD,QAErY,SAAYpD,EAAEC,EAAEC,GAAG,IAAIG,EAAE,GAAGtB,EAAEmB,EAAE+F,SALwL,SAAYjG,GAAGA,EAAEpD,GAAG2E,EAAEvB,EAAEyB,EAAE,CAACzB,EAAEA,EAAEE,EAAE,KAAK,aAAaoD,EAAEtD,EAAE,UAAU,CAKjPkG,CAAGjG,GAAOI,EAL0d,SAAYL,EAAEC,EAAEC,GAAG,IAASnB,EAALsB,EAAE,GAAK,IAAItB,KAAKkB,EAAE,GAAGA,EAAE7F,eAAe2E,GAAG,CAAC,IAAI0C,EAAEzB,EAAEE,EAAEnB,GAAG0C,GAAGpB,EAAEzK,KAAK6L,EAAExB,EAAElB,GAAGmB,GAAG,CAAC,OAAOG,CAAC,CAKnkB8F,CAAGnG,EAAEA,EAAEE,EAAEF,EAAEE,GAAjB,IAAoBuB,EAAE,IAAIwD,EAAEjF,EAAEE,EAAED,EAAElB,GAAoB,IAAjBiB,EAAEiD,EAAE5C,EAAErO,OAAOiO,EAAE,EAAMC,EAAEG,EAAErO,OAAOiO,EAAEC,EAAED,IAAII,EAAEJ,GAAG+D,MAAK,SAAS/D,EAAEI,EAAEH,GAAGmF,EAAGrF,EAAEyB,EAAExB,EAAEI,EAAEH,EAAE,GAAE,CAFyOkG,CAAGzP,KAAK,IAAIqM,EAAGrM,KAAKuJ,EAAEF,GAAGA,EAAE,EAGzlB4F,EAAGzL,UAAU6J,KAAK,SAAShE,GAAG,SAASC,IAAI,GAAGwB,EAAE,eAAepB,GAAG,CAAC,IAAiC4C,EAA7B/C,EAAEuB,EAAE,eAAepB,KAAKtB,EAAE,GAAK,GAAGmB,EAAE,IAAI,IAAIoF,EAAE,EAAEA,EAAEpF,EAAElO,OAAOsT,IAAI,CAAC,IAAI7N,EAAEyI,EAAEoF,GAAGe,WAAW,MAAQnG,EAAEoF,GAAGgB,WAAW,MAAQpG,EAAEoF,GAAGiB,YAAYtD,EAAE/C,EAAEoF,GAAGgB,UAAUpG,EAAEoF,GAAGiB,WAAWxH,EAAEnJ,KAAK,IAAI4M,EAAE/K,EAAEwL,KAAKlE,EAAEnJ,KAAK,IAAI4M,EAAE/K,GAAG,CAACuI,EAAEjB,EAAE,MAAMvF,YAAW,WAAWyG,GAAG,GAAE,GAAG,CAAC,IAAIC,EAAEvJ,KAAK0J,EAAEH,EAAEF,EAAEwG,UAAUzH,EAAEmB,EAAEF,EAAEyG,QAAQ,GAAGpG,EAAE,CAAC,IAAIoB,EAAEvB,EAAEA,EAAEY,EAAEiB,EAAEpL,KAAKuJ,GAAGA,EAAEF,EAAEpC,KAAK,gCAAgC,IAAIyC,EAAE,OAAOtB,EAAE,MAAMA,EAAE,KAAI,SAASA,GAAGA,EAAEiB,EAAE,KAAKyB,EAAE,4BAC7dpB,GAAG,WAAW,OAAOH,EAAEF,CAAC,EAAEC,IAAI,IAAGxM,GAAG,wBAAwB4M,CAAC,MAAML,EAAE,GAAG,EAAqC6F,EAAG1L,UAAU6J,KAAK,SAAShE,GAAG,IAAIC,EAAEC,EAAEG,EAAE1J,KAAKqJ,EAAE0G,MAAM,GAAG3H,EAAEpI,KAAKqJ,EAAE2G,UAAU,GAAGlF,EAAE9K,KAAKqJ,EAAE4G,aAAa,CAAC,EAAEhK,EAAE,IAAIuF,EAAM,IAAJlC,EAAE,EAAMC,EAAEG,EAAErO,OAAOiO,EAAEC,EAAED,IAAI0B,EAAEhL,KAAKuJ,EAAEG,EAAEJ,GAAGmC,EAAExF,IAAI,IAAIb,EAAE,GAAO,IAAJkE,EAAE,EAAMC,EAAEnB,EAAE/M,OAAOiO,EAAEC,EAAED,IAAI,IAAGI,EAAEtB,EAAEkB,GAAGuB,MAAM,MAAO,GAAG,IAAI,IAAIyB,EAAE5C,EAAE,GAAGmB,MAAM,KAAK8D,EAAE,EAAEA,EAAErC,EAAEjR,OAAOsT,GAAG,EAAEvJ,EAAEnG,KAAK,IAAI4M,EAAEnC,EAAE,GAAG4C,EAAEqC,UAAUvJ,EAAEnG,KAAK,IAAI4M,EAAEnC,EAAE,KAAKiC,EAAE1F,GAAE,WAAWoD,EAAEjE,EAAE0F,EAAE,GAAE,EAAyE,IAAIsE,EAAG,mCACzN,SAASc,EAAG7G,GAAGrJ,KAAK8K,EAAEzB,EAAErJ,KAAKqJ,EAAE,GAAGrJ,KAAKuJ,EAAE,CAAC,CAAC,CAClW,IAAI4G,EAAG,CAACC,MAAM,UAAU,YAAY,QAAiCC,SAAS,MAAqBC,MAAM,MAAqBC,MAAM,MAAqBC,QAAQ,OAAsBC,EAAG,CAACC,KAAK,IAAIC,WAAW,IAAI,cAAc,IAAIC,WAAW,IAAI,cAAc,IAAIC,MAAM,IAAIC,QAAQ,IAAIC,KAAK,IAAIC,OAAO,IAAI,YAAY,IAAIC,SAAS,IAAI,YAAY,IAAIC,SAAS,IAAIC,KAAK,IAAI,aAAa,IAAIC,UAAU,IAAI,aAAa,IAAIC,UAAU,IAAIC,MAAM,IAAIC,MAAM,IAAI5C,EAAE,IAAIE,EAAE,IAAIvF,EAAE,KAAKkI,GAAG,CAACjR,EAAE,IAAIkR,OAAO,IAAI7C,EAAE,IAAI8C,OAAO,KAC1fC,GAAG,+IAEqH,SAASC,GAAGvI,EAAEC,GAAGtJ,KAAKuJ,EAAEF,EAAErJ,KAAKqJ,EAAEC,CAAC,CAAC,IAAIuI,GAAG,CAACC,OAAM,EAAGC,SAAQ,EAAGC,OAAM,GAAwL,SAASC,GAAG5I,EAAEC,GAAGtJ,KAAKuJ,EAAEF,EAAErJ,KAAKqJ,EAAEC,CAAC,CAAmZ,SAAS4I,GAAG7I,EAAEC,GAAGtJ,KAAKuJ,EAAEF,EAAErJ,KAAK8K,EAAExB,EAAEtJ,KAAKqJ,EAAE,EAAE,CAArpBuI,GAAGpO,UAAU6J,KAAK,SAAShE,GAAG,IAAIC,EAAE,IAAIkC,EAAEjC,EAAEvJ,KAAKuJ,EAAEG,EAAE,IAAIyF,EAAGnP,KAAKqJ,EAAEpC,IAAIjH,KAAKqJ,EAAEvN,MAAMsM,EAAEpI,KAAKqJ,EAAE2G,UALqR,SAAY3G,EAAEC,GAAG,IAAI,IAAIC,EAAED,EAAEjO,OAAOqO,EAAE,EAAEA,EAAEH,EAAEG,IAAI,CAAC,IAAItB,EAAEkB,EAAEI,GAAGmB,MAAM,KAAK,GAAGzC,EAAE/M,QAAQgO,EAAEyB,EAAE7L,KAAKmJ,EAAE+J,OAAO,IAAIrH,EAAE,GAAG,GAAG1C,EAAE/M,QAAQ,IAAI+M,EAAE,KAAK0C,EAAE,KAAKzB,EAAEA,EAAEpK,KAAKmJ,EAAE9H,KAAKwK,GAAG,CAAC,CAK9asH,CAAG1I,EAAEtB,GAAG,IAAI0C,EAAE,IAAIoF,EAAG9H,IAD5T,SAAYiB,GAAG,IAAI,IAAIC,EAAED,EAAEyB,EAAEzP,OAAOkO,EAAE,EAAEA,EAAED,EAAEC,IAAI,CAAC,IAAIG,EAAEL,EAAEyB,EAAEvB,GAAGsB,MAAM,KAAKzC,EAAEsB,EAAE,GAAGjI,QAAQ,MAAM,KAAKqJ,EAAE,CAAC,MAAM,GAAG,GAAGpB,EAAErO,OAAO,CAAC,IAAI4K,EAAkB,GAALA,EAAE,GAATb,EAAEsE,EAAE,GAAa,IAAI,IAAItE,EAAekH,GAAflH,EAAEA,EAAEyF,MAAM,MAASxP,OAAOsT,EAAE,EAAEA,EAAErC,EAAEqC,IAAI,CAAC,IAAI7N,EAAS,IAAPA,EAAEsE,EAAEuJ,IAAQ7C,MAAM,YAA4C,GAAG,OAA9B8C,EAAE+C,GAAG9D,KAAK/M,EAAEsL,gBAA0BtL,EAAE,OAAO,CAA0C,GAAlCA,EAAE,OAATA,EAAE8N,EAAE,KAAc,IAAI9N,EAAE,IAAI0Q,GAAG1Q,GAAa,OAAV8N,EAAEA,EAAE,KAAe,IAAIA,EAAEA,EAAE,SAAS,IAAYA,EAAN6B,EAAG7B,KAASyD,MAAMzD,GAAG,IAAIA,EAAEtK,OAAO,EAAE,IAAGxD,EAAE,CAACA,EAAE8N,GAAGtO,KAAK,GAAG,MAAOQ,EAAE,GAAGA,GAAGmF,EAAEhH,KAAK6B,EAAE,CAAC,EAAEmF,EAAE5K,SAASyP,EAAE7E,GAAG,GAAGyD,EAAErO,SAAgB4K,EAAE,GACle,GADqeyD,GAAZA,EAAEA,EAAE,IAAYA,EAAEmB,MAAM,KACnf5E,GAAM5K,SAASqO,EAAEyG,EAAGzG,EAAE,OAAOL,EAAEE,EAAEnB,GAAGsB,GAAG,CAA+B,IAA9BL,EAAEE,EAAEnB,KAAKsB,EAAEyG,EAAG/H,MAAMiB,EAAEE,EAAEnB,GAAGsB,GAAOA,EAAE,EAAEA,EAAEoB,EAAEzP,OAAOqO,GAAG,EAAEL,EAAEA,EAAEpK,KAAK,IAAI4M,EAAEzD,EAAE0C,EAAEpB,IAAI,CAAC,CAAyM4I,CAAGxH,GAAGE,EAAEzB,EAJvU,SAAYF,GAAG,GAAG,GAAGA,EAAEA,EAAEhO,OAAO,MAAMiN,MAAM,qBAAqB,IAAI,GAAGe,EAAEE,EAAElE,QAAQ,QAAQ,OAAOgE,EAAEE,EAAE,IAAI,IAAID,EAAED,EAAEA,EAAEhO,OAAOkO,EAAE,GAAGG,EAAE,EAAEA,EAAEJ,EAAEI,IAAIH,EAAEtK,KAAKoK,EAAEA,EAAEK,GAAGjI,QAAQ,KAAK,MAAqI,OAA/H6H,EAAED,EAAEE,EAAE,WAAWA,EAAEjJ,KAAK,OAAO,EAAE+I,EAAEyB,EAAEzP,SAASiO,GAAG,WAAWD,EAAEyB,EAAExK,KAAK,MAAM,EAAE+I,EAAEpD,EAAE5K,SAASiO,GAAG,SAASxH,mBAAmBuH,EAAEpD,IAAWqD,CAAC,CAIoBiJ,CAAG7I,GAAG+B,EAAEnC,IAAIqC,EAAErC,GAAE,WAAWD,EAAEyB,EAAEzB,EAAEyB,EAAEvB,EAAEsI,GAAG,GAAE,EAAqCI,GAAGzO,UAAU6J,KAAK,SAAShE,GAAG,IAAIC,EAAEtJ,KAAKqJ,EAAEvM,GAAGyM,EAAEvJ,KAAKuJ,EAAEY,EAAEb,EAAE8B,EAAEpL,KAAKuJ,GAAGvJ,KAAKqJ,EAAEpC,KAAK,2BAA2B,IAAIqC,EAAE,OAAM,SAASA,GAAG,GAAGA,EAAED,EAAE,SAAS,GAAGE,EAAEiJ,SAASjJ,EAAEiJ,QAAQC,QAAQlJ,EAAEiJ,QAAQC,OAAOC,GAAG,CAACpJ,EAAEC,EAAEiJ,QAAQC,OAAOC,GAAG,IAAI,IAAItK,EAAE,GAAG0C,EAAE,EAAEA,EAAExB,EAAEjO,OAAOyP,GAAG,EAAE,IAAI,IAAI7E,EAAEqD,EAAEwB,GAAG1F,EAAEkE,EAAEwB,EAAE,GAAGwB,EAAE,EAAEA,EAAElH,EAAE/J,OAAOiR,IAAIlE,EAAEnJ,KAAK,IAAI4M,EAAE5F,EAAEb,EAAEkH,KAAK,IAAI/C,EAAEiJ,QAAQnF,KAAK,CAACb,QAAO,EAAGC,SAAQ,EAAGkG,OAAM,GAAI,CAAC,MAAMhE,GAAG,CAACtF,EAAEjB,EAAE,CAAC,GAAE,KAAKiB,EAAE,GAAG,EAA+C6I,GAAG1O,UAAU6J,KAAK,SAAShE,GAAG,IAAIC,EAAEtJ,KAAK8K,EAAEhO,GAAGyM,EAAEvJ,KAAKuJ,EAAEY,EAAET,EAAE1J,KAAKsJ,GAAGC,EAAEqJ,4BAA4BrJ,EAAEqJ,0BAA0B,CAAC,GAAGrJ,EAAEqJ,0BAA0BtJ,GAAG,SAASA,EAAEC,GAAG,IAAI,IAAItD,EAAE,EAAEb,EAAEmE,EAAE6D,MAAM/R,OAAO4K,EAAEb,IAAIa,EAAE,CAAC,IAAIqG,EAAE/C,EAAE6D,MAAMnH,GAAGyD,EAAEL,EAAEpK,KAAK,IAAI4M,EAAES,EAAEvP,KAAKoP,EAAG,eAAeG,EAAEuG,OAAO,eAAevG,EAAExE,QAAQ,CAACuB,EAAEK,EAAEL,EAAE,EAAE+B,EAAEpL,KAAKuJ,GAAGvJ,KAAK8K,EAAE7D,KAAK,oCAdrqC,SAAYoC,GAAG,OAAOA,EAAEc,EAAE2I,SAASC,UAAU1J,EAAEA,EAAEyJ,SAASC,QAAQ,CAcuoCC,CAAGhT,KAAKuJ,GAAG,IAAID,EAAE,OAAM,SAASA,GAAGA,GAAGD,EAAE,GAAG,KAAIA,EAAE,GAAG,EAAE,IAAI4J,GAAE,IAAIxE,EAAGzI,QAAQiN,GAAE5J,EAAEE,EAAE2J,OAAO,SAAS7J,EAAEC,GAAG,OAAO,IAAI4F,EAAG5F,EAAED,EAAE,EAAE4J,GAAE5J,EAAEE,EAAE4J,SAAS,SAAS9J,EAAEC,GAAG,OAAO,IAAI4I,GAAG5I,EAAED,EAAE,EAAE4J,GAAE5J,EAAEE,EAAE6J,SAAS,SAAS/J,EAAEC,GAAG,OAAO,IAAI2F,EAAG3F,EAAED,EAAE,EAAE4J,GAAE5J,EAAEE,EAAE8J,QAAQ,SAAShK,EAAEC,GAAG,OAAO,IAAI2I,GAAG3I,EAAED,EAAE,EAAE4J,GAAE5J,EAAEE,EAAE+J,OAAO,SAASjK,EAAEC,GAAG,OAAO,IAAIsI,GAAGtI,EAAED,EAAE,EAAE,IAAIkK,GAAE,CAAClG,KAAKxD,EAAEoJ,GAAE5F,KAAK4F,UAAsE,KAA3B,aAAkB,OAAOM,EAAE,+BAAqI,CAhBpuD,E,+mBCCIC,EAA2B,CAAC,EAGhC,SAASC,EAAoBC,GAE5B,IAAIC,EAAeH,EAAyBE,GAC5C,QAAqBpY,IAAjBqY,EACH,OAAOA,EAAa/T,QAGrB,IAAIV,EAASsU,EAAyBE,GAAY,CACjD5W,GAAI4W,EACJE,QAAQ,EACRhU,QAAS,CAAC,GAUX,OANAiU,EAAoBH,GAAUhQ,KAAKxE,EAAOU,QAASV,EAAQA,EAAOU,QAAS6T,GAG3EvU,EAAO0U,QAAS,EAGT1U,EAAOU,OACf,CAGA6T,EAAoBrO,EAAIyO,EC3BxBJ,EAAoB7E,EAAK1P,IACxB,IAAI4U,EAAS5U,GAAUA,EAAOiC,WAC7B,IAAOjC,EAAiB,QACxB,IAAM,EAEP,OADAuU,EAAoB/J,EAAEoK,EAAQ,CAAEzK,EAAGyK,IAC5BA,CAAM,ECLdL,EAAoB/J,EAAI,CAAC9J,EAASmU,KACjC,IAAI,IAAIhQ,KAAOgQ,EACXN,EAAoBtJ,EAAE4J,EAAYhQ,KAAS0P,EAAoBtJ,EAAEvK,EAASmE,IAC5ER,OAAOyQ,eAAepU,EAASmE,EAAK,CAAEkQ,YAAY,EAAMC,IAAKH,EAAWhQ,IAE1E,ECND0P,EAAoBxN,EAAI,WACvB,GAA0B,iBAAfkO,WAAyB,OAAOA,WAC3C,IACC,OAAOnU,MAAQ,IAAI8J,SAAS,cAAb,EAChB,CAAE,MAAO1B,GACR,GAAsB,iBAAXpC,OAAqB,OAAOA,MACxC,CACA,CAPuB,GCAxByN,EAAoBtJ,EAAI,CAACrG,EAAKsQ,IAAU7Q,OAAOC,UAAUC,eAAeC,KAAKI,EAAKsQ,GCClFX,EAAoB5E,EAAKjP,IACH,oBAAXyU,QAA0BA,OAAOC,aAC1C/Q,OAAOyQ,eAAepU,EAASyU,OAAOC,YAAa,CAAE5W,MAAO,WAE7D6F,OAAOyQ,eAAepU,EAAS,aAAc,CAAElC,OAAO,GAAO,ECL9D+V,EAAoBc,IAAOrV,IAC1BA,EAAOsV,MAAQ,GACVtV,EAAOuV,WAAUvV,EAAOuV,SAAW,IACjCvV,G,MCHR,IAAIwV,EACAjB,EAAoBxN,EAAE0O,gBAAeD,EAAYjB,EAAoBxN,EAAE6M,SAAW,IACtF,IAAIpX,EAAW+X,EAAoBxN,EAAEvK,SACrC,IAAKgZ,GAAahZ,IACbA,EAASkZ,eAAkE,WAAjDlZ,EAASkZ,cAAcrJ,QAAQsJ,gBAC5DH,EAAYhZ,EAASkZ,cAAcjY,MAC/B+X,GAAW,CACf,IAAII,EAAUpZ,EAAS6O,qBAAqB,UAC5C,GAAGuK,EAAQzZ,OAEV,IADA,IAAIkF,EAAIuU,EAAQzZ,OAAS,EAClBkF,GAAK,KAAOmU,IAAc,aAAarT,KAAKqT,KAAaA,EAAYI,EAAQvU,KAAK5D,GAE3F,CAID,IAAK+X,EAAW,MAAM,IAAIpM,MAAM,yDAChCoM,EAAYA,EAAUjT,QAAQ,OAAQ,IAAIA,QAAQ,QAAS,IAAIA,QAAQ,YAAa,KACpFgS,EAAoB5J,EAAI6K,C,KClBxBjB,EAAoBnK,EAAI5N,SAASqZ,SAAWC,KAAKlC,SAAStW,KCA1DiX,EAAoBwB,QAAK3Z,E,0ICWrB2F,EAAU,CAAC,EAEfA,EAAQ2H,kBAAoB,IAC5B3H,EAAQsH,cAAgB,IACxBtH,EAAQ4G,OAAS,SAAc,KAAM,QACrC5G,EAAQiG,OAAS,IACjBjG,EAAQ0H,mBAAqB,IAEhB,IAAI,IAAS1H,GAKJ,KAAW,IAAQiU,QAAS,IAAQA,O,+BCtBnD,MAAMC,EACE,iBADFA,EAEK,qBAFLA,EAGS,yBAHTA,EAIE,iBAJFA,EAKS,yBALTA,EAMS,wBANTA,EAOG,iBAPHA,EAQF,YAREA,EASU,yBATVA,EAUQ,uBAIRC,EAAiB,CAC7BC,iBAAmBC,GAAW,WAAWA,EAAOvY,yBAChDwY,wBAA0BD,GACzB,wBAAwBA,EAAOvY,iBAChCyY,kBAAoBF,GAAW,sBAAsBA,EAAOvY,iBAC5D0Y,YAAcH,GAAW,OAAOA,EAAOvY,qBACvC2Y,yBAA2BJ,GAC1B,gCAAgCA,EAAOvY,iBACxC4Y,uBAAyBL,GACxB,8BAA8BA,EAAOvY,iBACtC6Y,yBAA2BN,GAC1B,gCAAgCA,EAAOvY,iBACxC8Y,cAAe,iBACfC,iBAAkB,8BAClBC,cAAe,yBC9BV,QAAEta,GAAYua,EAAQ,KAIb,MAAMC,EACpB,GACA,GAEAC,WAAAA,CAAYC,GACXnW,MAAK,EAAQmW,EACbnW,MAAK,EA8BP,SAAqBmW,GACpB,MAAMC,EAAM3a,EAvCK,QA2CjB,OAHA2a,EAAItO,MAAMuO,WAAaF,EAAKrH,EAAI,EAChCsH,EAAItO,MAAMwO,QAAUH,EAAKpL,EAAI,EAC7BqL,EAAItO,MAAMyO,YAAc,EACjBH,CACR,CApCcI,CAAYL,GACxBnW,MAAK,EAAK8D,IAAM9D,KAIhBA,KAAKyW,iBACN,CAEA,OAAIL,GACH,OAAOpW,MAAK,CACb,CAEA,QAAImW,GACH,OAAOnW,MAAK,CACb,CAEAyW,eAAAA,GACKzW,KAAKmW,KAAKO,oBACT1W,KAAKmW,KAAKQ,UACb3W,KAAKoW,IAAI7a,UAAUC,IAAI,OAEvBwE,KAAKoW,IAAI7a,UAAUC,IAAI,QAG1B,EChCc,MAAMob,EACpB,GACAC,iBAAmB,mBACnBA,cAAgB,EAEhBX,WAAAA,CAAYY,GACX9W,MAAK,EAAOA,MAAK,EAAe8W,GAChC9W,MAAK,EAAK8D,IAAM9D,IACjB,CAEA,OAAIoW,GACH,OAAOpW,MAAK,CACb,CAEA,GAAe8W,GACd,MAAMV,GAAM3a,EAAAA,EAAAA,SAAQuE,KAAKkW,YAAYa,WAErC,OADA/W,MAAK,EAAiBoW,EAAKU,GACpBV,CACR,CAEA,GAAiBA,EAAKU,GACrB,MAAME,EAASF,EAAYG,QAC1B,CAACC,EAAKhX,IAAUA,EAAK,GAAKgX,EAAMhX,EAAK,GAAKgX,GAC1CJ,EAAY,GAAG,IAGVK,EAASL,EAAYG,QAC1B,CAACC,EAAKhX,IAAUA,EAAK,GAAKgX,EAAMhX,EAAK,GAAKgX,GAC1CJ,EAAY,GAAG,IAGVM,EAASN,EAAYG,QAC1B,CAACI,EAAKnX,IAAUA,EAAK,GAAKmX,EAAMnX,EAAK,GAAKmX,GAC1CP,EAAY,GAAG,IAGVQ,EAASR,EAAYG,QAC1B,CAACI,EAAKnX,IAAUA,EAAK,GAAKmX,EAAMnX,EAAK,GAAKmX,GAC1CP,EAAY,GAAG,IAKhBV,EAAItO,MAAMuO,WAAa,GAAGW,EAAS,OAAOI,EAAS,IACnDhB,EAAItO,MAAMwO,QAAU,GAAGa,EAAS,OAAOG,EAAS,IAChDlB,EAAItO,MAAMyP,MAAQ,OAClBnB,EAAItO,MAAM0P,OAAS,OACnBpB,EAAItO,MAAM2P,OAASzX,KAAKkW,YAAYuB,OACpCrB,EAAItO,MAAMyO,YAAc,GAAGa,EAASJ,EAAS,OAAOM,EAASH,EAAS,GACvE,CAEAO,cAAAA,CAAeZ,GACd9W,MAAK,EAAiBA,MAAK,EAAM8W,EAClC,E,MCxCYa,EAAQ,CACpBC,QAAS,CACRjK,E,+BACAhC,E,gCAEDkM,QAAS,CACRlK,E,+BACAhC,E,gCAEDmM,QAAS,CACRnK,E,+BACAhC,E,gCAEDoM,QAAS,CACRpK,E,+BACAhC,E,gCAEDqM,OAAQ,CACPrK,E,+BACAhC,E,gCAEDsM,OAAQ,CACPtK,E,+BACAhC,E,gCAEDuM,OAAQ,CACPvK,E,+BACAhC,E,iCCtCa,MAAMwM,UAAgBvB,EACpCC,iBAAmB,OACnBA,uBAAyB,cACzBA,cAAgB,EAChB,GACA,GAEAX,WAAAA,CAAYnZ,EAAM+Z,EAAasB,GAC9BC,MAAMvB,GAEN9W,MAAK,EAAQjD,EAGbiD,MAAK,GAAWvE,EAAAA,EAAAA,SAAQ,GAAGuE,KAAKkW,YAAYa,mBAC5C/W,MAAK,EAAS8H,MAAMwQ,QAAU,OAC9BtY,KAAKoW,IAAImC,OAAOvY,MAAK,GAErBA,MAAK,EAAYjD,EAAMqb,EACxB,CAEAV,cAAAA,CAAeZ,EAAasB,GAC3BC,MAAMX,eAAeZ,GACrB9W,MAAK,EAAYA,MAAK,EAAOoY,EAC9B,CAEAI,UAAAA,GACCxY,KAAKoW,IAAI7a,UAAUC,IAAI,QACvBwE,MAAK,EAAS8H,MAAMwQ,QAAU,OAC/B,CAEAG,iBAAAA,GACC,MAAMC,EAAgB1Y,KAAKoW,IAAIuC,WAAU,GAMzC,OALAD,EAAcnd,UAAU8L,OAAOrH,KAAKkW,YAAYa,WAChD2B,EAAcnd,UAAUC,IAAIwE,KAAKkW,YAAY0C,iBAE7CF,EAAc5Q,MAAM2P,OAASzX,KAAKkW,YAAYuB,OAAS,EAEhDiB,CACR,CAEA,GAAY3b,EAAMqb,GACjB,MAEMS,EAAQlB,EAAM5a,GAAQ4a,EAAM5a,GAFA,KAAbqb,GAAiC,KAAbA,EAAmB,IAAM,KAEV,KAExD,GAAIS,EACH7Y,KAAKoW,IAAItO,MAAMgR,gBAAkB,QAAQD,MACzC7Y,KAAKoW,IAAItO,MAAMiR,iBAAmB,YAClC/Y,KAAKoW,IAAItO,MAAMkR,eAAiB,YAG/BhZ,KAAKoW,IAAItO,MAAMmR,UADC,KAAbb,GAAiC,KAAbA,EACI,iBAEA,YAI5BpY,MAAK,EAAS8H,MAAMoR,UAAY,QAAQL,MACxC7Y,MAAK,EAAS8H,MAAMqR,WAAa,YACjCnZ,MAAK,EAAS8H,MAAMsR,SAAW,OAC/BpZ,MAAK,EAAS8H,MAAMyP,MAAQ,OAC5BvX,MAAK,EAAS8H,MAAM0P,OAAS,WACvB,CAENxX,KAAKoW,IAAItO,MAAMuR,WAAa,qBAC5BrZ,KAAKoW,IAAItO,MAAMuR,WACd,oGAED,MAAOxK,EAAGnB,GAAK,CAAC,OAAQ,OACxB,IAAI4L,EACJ,OAAQlB,GACP,IAAK,IACJkB,EAAe,GAAGzK,KAAKA,KAAKnB,KAAKA,IACjC,MACD,IAAK,IACJ4L,EAAe,GAAG5L,KAAKA,KAAKmB,KAAKA,IACjC,MACD,IAAK,IACJyK,EAAe,GAAGzK,KAAKnB,KAAKA,KAAKmB,IACjC,MACD,IAAK,IACJyK,EAAe,GAAG5L,KAAKmB,KAAKA,KAAKnB,IACjC,MACD,QACC4L,EAAezK,EAGlB,CACD,EC1Fc,MAAM0K,UAAoB3C,EACxCC,iBAAmB,YACnBA,cAAgB,EAEhBX,WAAAA,CAAYY,GACXuB,MAAM,CAACvB,GACR,ECNc,MAAM0C,UAAmB5C,EACvCC,iBAAmB,WACnBA,cAAgB,EAEhBX,WAAAA,CAAYY,GACXuB,MAAM,CAACvB,GACR,ECJM,SAAS2C,EAAaC,IAJtB,SAA2Bxe,GAAiC,IAAxBye,EAAUve,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,QAAGE,EACvDJ,EAAQ0e,gBAAgBD,EACzB,CAGCE,CAAkBH,EADgCte,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,QAAGE,GAErDoe,EAAWpc,aAAa,QAAS,IACjC0I,OAAO8T,SAAS,EAAG,EACpB,CAEO,SAASC,EAAwBC,EAAOC,GAC9C,MAAMC,EAAiBxe,SAASye,qBAAqBH,GAErD,IAAK,MAAM9e,KAAWgf,EAGrB,GAAI,IAFchf,EAAQK,WAEP6e,SAASH,GAC3B,OAAO/e,EAIT,OAAO,IACR,CAEO,SAASmf,EAAaC,GAC5B,OAAO,IAAInN,SAASoN,GAAY1X,WAAW0X,EAASD,IACrD,CAEO3H,eAAe6H,UACf,IAAIrN,SAASoN,GAAYE,sBAAsBF,WAC/CF,EAAa,EACpB,CAEO1H,eAAe+H,EACrBtE,EACAuE,EACAC,GAcA,OAbIxf,UAAAC,OAAA,QAAAC,IAAAF,UAAA,IAAAA,UAAA,GAKDgb,EAAI7a,UAAU8L,OAAOsT,GACrBvE,EAAI7a,UAAUC,IAAImf,SAEfH,IAENpE,EAAI7a,UAAUsf,OAAOF,GAGdN,EAAaO,EACrB,CCjDO,MAAMA,EAAoB,ICc3BE,EAAc,SAEdH,EAA6B,gBAC7BI,EAAoB,gBACpBC,EAAc,UACdC,EAA6B,qBAKnCvf,SAAS8O,gBAAgB1C,MAAMoT,YAC9B,mBACA,SAGc,MAAMC,EACpB,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GAEAjF,WAAAA,CAAYkF,GAAkC,IAAvBC,EAAajgB,UAAAC,OAAA,QAAAC,IAAAF,UAAA,IAAAA,UAAA,GACnC4E,MAAK,EAAaob,EAClBpb,MAAK,EAAS,IAAIsb,IAClBtb,MAAK,EAAOA,MAAK,EAAkBob,GACnCpb,MAAK,EAAK8D,IAAM9D,KAEhBA,MAAK,EACJA,MAAK,EAAgCwJ,KAAKxJ,MAC3CA,MAAK,EACJA,MAAK,EAAiCwJ,KAAKxJ,MAE5CA,MAAK,EAAY,IAAIsb,IACrBtb,MAAK,IACLA,MAAK,GAAyB,EAC9BA,MAAK,GAA4B,EAE7Bqb,GACHrb,MAAK,GAEP,CAGA,aAAIob,GACH,OAAOpb,MAAK,CACb,CAEA,OAAIoW,GACH,OAAOpW,MAAK,CACb,CAEA,uBAAMwV,CAAkB+F,EAAQC,GAEfxb,MAAK,EAAOkU,IAAIqH,EAAOjb,KAAK,MACpCmW,kBAER,MAAMgF,EAAiBD,EAAQE,MAC5B,IAAIlC,EAAW+B,GACf,IAAIhC,EAAYgC,GASnB,GARAvb,MAAK,EAAKuY,OAAOkD,EAAerF,WAE1BsE,EACLe,EAAerF,IACfuE,EACAC,GAGGY,EAAQG,OAAQ,CACnB,MAAMC,EAAWJ,EAAQK,SAAS9e,KAC5B+e,EAAU9b,MAAK,EAAUkU,IAAI0H,GACnCE,EAAQtD,mBACFxY,MAAK,EAAU8b,EACtB,CACA1Z,IAAAA,QAAe+S,EAAiC,CAAEoG,SAAQC,WAC3D,CAEAO,YAAAA,GACC/b,MAAK,EAAKzE,UAAUC,IAAIsf,GAExB9a,MAAK,EAAK1D,iBACT,QACA0D,MAAK,EAEP,CAEA,GAAe4b,GAKd,OAJgB,IAAIzD,EACnByD,KACG5b,MAAK,EAAWgc,gBAAgBJ,GAGrC,CAEA,OAAM,CAAUE,GAEf9b,MAAK,EAAKuY,OAAOuD,EAAQ1F,WACnBsE,EACLoB,EAAQ1F,IACRuE,EACAC,EAEF,CAEA,OAAM,CAAUkB,SAETpB,EACLoB,EAAQ1F,IACRuE,EACAC,GACA,GAGD5a,MAAK,EAAK8I,YAAYgT,EAAQ1F,IAC/B,CAEA,KAECpW,MAAK,EAAWic,MAAMC,SAASN,IAC9B,MAAME,EAAU9b,MAAK,EAAe4b,GACpC5b,MAAK,EAAUmc,IAAIP,EAAUE,EAAQ,GAEvC,CAGA,uBAAMM,GAEL,IAAKpc,MAAK,IAA2BA,MAAK,EAA2B,CACpEA,MAAK,GAA4B,EAGjC,MAAMqc,EAAe,GAErBrc,MAAK,EAAWsc,cAAcJ,SAASN,IACtC,MAAME,EAAU9b,MAAK,EAAUkU,IAAI0H,GACnCS,EAAapd,KAAKe,MAAK,EAAU8b,GAAS,UAGrC3O,QAAQoP,IAAIF,GAElBrc,MAAK,GAAyB,EAC9BA,MAAK,GAA4B,CAClC,CACD,CAGA,uBAAMwc,GAEL,GAAIxc,MAAK,IAA2BA,MAAK,EAA2B,CACnEA,MAAK,GAA4B,EAGjC,MAAMqc,EAAe,GACrBrc,MAAK,EAAWsc,cAAcJ,SAASN,IACtC,MAAME,EAAU9b,MAAK,EAAUkU,IAAI0H,GACnCS,EAAapd,KAAKe,MAAK,EAAU8b,GAAS,UAGrC3O,QAAQoP,IAAIF,GAElBrc,MAAK,GAAyB,EAC9BA,MAAK,GAA4B,CAClC,CACD,CAEAyc,mBAAAA,GACKzc,MAAK,EACRA,KAAKwc,oBAELxc,KAAKoc,mBAEP,CAEA,yBAAMM,SACC1c,KAAKwc,oBAGXxc,MAAK,EAAWic,MAAMC,SAASN,IACd5b,MAAK,EAAUkU,IAAI0H,GAC3BlE,kBAAkB1X,MAAK,EAAWgc,gBAAgBJ,GAAU,UAG/D5b,KAAKoc,mBACZ,CAEA,wBAAMO,CAAmBf,GACxB,MAAME,EAAU9b,MAAK,EAAUkU,IAAI0H,SAE7B5b,MAAK,EAAU8b,GAGrBA,EAAQpE,kBAAkB1X,MAAK,EAAWgc,gBAAgBJ,UAEpD5b,MAAK,EAAU8b,EACtB,CAEA,GAAkBV,GACjB,MAAMhF,GAAM3a,EAAAA,EAAAA,SAzMI,aA0NhB,OAdA2a,EAAItO,MAAMwQ,QAAU,OACpBlC,EAAItO,MAAMyO,YAAc,GAAG6E,EAAUwB,SAASxB,EAAUyB,QACxDzG,EAAItO,MAAMgV,oBAAsB,UAAU1B,EAAUwB,yBACpDxG,EAAItO,MAAMiV,iBAAmB,UAAU3B,EAAUyB,yBAEnCzB,EAAU4B,MAClBd,SAASe,IACdA,EAAOf,SAAS/F,IACf,MAAM+G,EAAU,IAAIjH,EAAQE,GAC5BnW,MAAK,EAAOmc,IAAIhG,EAAKoF,OAAOjb,KAAK,KAAM4c,GACvC9G,EAAImC,OAAO2E,EAAQ9G,IAAI,GACtB,IAGIA,CACR,CAEA,GAAgChO,GAG/B,MACM+U,EAAUpD,EADF,CAAC3R,EAAEgV,QAAShV,EAAEiV,SACmB,QAE/C,GAAe,MAAXF,EACH,OAGD,MAAMhH,EAAOgH,EAAQrZ,IAAIqS,KACpBA,EAAKO,oBAET1W,MAAK,EAAKzE,UAAU8L,OAAOyT,GAC3B9a,MAAK,EAAKsd,oBACT,QACAtd,MAAK,GAGNoC,IAAAA,QAAe+S,EAAmCgB,EAAKoF,QAEzD,CAEA,KAGCvb,MAAK,IAILA,MAAK,IAILA,MAAK,EAAK1D,iBACT,cACA0D,MAAK,EAEP,CAEA,6BAAMud,CACL3B,EACA4B,EACAC,EACAC,GAMA,MAAM5B,EAAU9b,MAAK,EAAUkU,IAAI0H,GAC7B+B,EAAU7B,EAAQ1F,IAGxBpW,KAAK4d,iBAAiBD,EAASH,EAAaC,EAAWC,SAGjDrD,EAAaO,GAGnB+C,EAAQpiB,UAAUC,IAAIuf,SAChBP,IAGNsB,EAAQpE,kBAAkB1X,MAAK,EAAWgc,gBAAgBJ,IAG1D+B,EAAQ7V,MAAMmR,UAAYyE,QAGpBlD,UACAH,ED9SoB,ICgT1BsD,EAAQpiB,UAAU8L,OAAO0T,EAC1B,CAEA6C,gBAAAA,CAAiBD,EAASE,EAAaJ,EAAWC,GACjD,MAAMI,EAAeD,EAAYE,wBAC3BC,EAAaP,EAAUM,wBAEvBE,EAASD,EAAWlP,EAAIgP,EAAahP,EACrCoP,EAASF,EAAWjT,EAAI+S,EAAa/S,EAE3C4S,EAAQ7V,MAAMmR,UAAY,aAAagF,OAAYC,QAAaR,GACjE,CAEA,GAAiCtV,GAOhCA,EAAE+V,iBAGF,MAAMnE,EAAQ,CAAC5R,EAAEgV,QAAShV,EAAEiV,SACtBM,EAAU5D,EAAwBC,EAAO,QAG/C,GAAe,MAAX2D,EACH,OAGD3d,MAAK,EAAKsd,oBACT,cACAtd,MAAK,GAIN,MAAMwd,EAAczD,EAAwBC,EAAO,QAC7CoE,EAAWZ,EAAY1Z,IAAIqS,KAC3ByF,EAAWwC,EAASC,UAAUthB,KAK9BuhB,EAAwBX,EAAQ7Z,IAAI2U,oBAC1C6F,EAAsB/iB,UAAUC,IA3UF,YA4U9B,MAAMkd,EAAgBiF,EAAQ7Z,IAAI2U,oBAGlC,IAAI8F,EAAcf,EAGlB,MAAME,EAAuBC,EAAQ7V,MAAMmR,UAGrCuF,EAAQpW,EAAEgV,QACVqB,EAAQrW,EAAEiV,QAIhB,IAAIqB,GAAS,EAyGb,MAAMC,EArGN,SAA+BvW,GAC9B,MAAM6V,EAAS7V,EAAEgV,QAAUoB,EACrBN,EAAS9V,EAAEiV,QAAUoB,EAE3B,IAAKC,EAAQ,CAEZ,GADiBE,KAAKvH,IAAIuH,KAAKC,IAAIZ,GAASW,KAAKC,IAAIX,KAV9B,EAatB,OAGDQ,GAAS,EAGT1e,MAAK,EAAW8e,cAAclD,EAAUwC,EAAS7C,QACjDoC,EAAQpiB,UAAUC,IAAIwf,GAGtBhb,MAAK,EAAKuY,OAAOG,EAAe4F,EACjC,CAKAX,EAAQ7V,MAAMmR,UAAY,aAAagF,OAAYC,QAAaR,IAIhE,MACMqB,EAAchF,EADN,CAAC3R,EAAEgV,QAAShV,EAAEiV,SACuB,QAEnD,GAAI0B,IAAgBR,EAAa,CAEhC,MAAMS,GAAcD,IAChB/e,MAAK,EAAWif,mBAAmBF,EAAYjb,IAAIqS,KAAKoF,QAG5DoC,EAAQpiB,UAAUsf,OAAOI,EAA4B+D,GAGrDtG,EAAcnd,UAAUsf,OAvYJ,gBAuY6BkE,GAG7CA,GACH/e,KAAK4d,iBACJlF,EACA8E,EACAuB,EACArB,GAKFa,EAAcQ,CACf,CACD,EA8C0DvV,KAAKxJ,MACzDkf,EA7CNvM,eAA4CvK,GAQ3C,GAPA1M,SAAS4hB,oBAAoB,cAAeqB,GAC5CjjB,SAAS4hB,oBACR,YACA4B,GAEDvB,EAAQpiB,UAAU8L,OAAO4T,GAErByD,EAAQ,CAGX,MACMS,EAAcpF,EADN,CAAC3R,EAAEgV,QAAShV,EAAEiV,SACuB,QAC7C+B,EAASD,EAAcA,EAAYrb,IAAIqS,KAAOiI,EAG9CiB,EAAWrf,MAAK,EAAWsf,YAAYF,EAAO7D,QAE/C8D,IAEJ3G,EAAc5Q,MAAMyX,WAAa,gBAG5Bvf,KAAKud,wBACV3B,EACA4B,EACA6B,EAAWF,EAAc3B,EACzBE,GAEDC,EAAQpiB,UAAU8L,OAAO2T,GACzBtC,EAAcrR,SACdiX,EAAsBjX,QACvB,MAECrH,MAAK,EAAWwf,WAAW5D,EAAUwC,EAAS7C,cACxCvb,KAAK2c,mBAAmBf,GAG/B5b,MAAK,EAAK1D,iBACT,cACA0D,MAAK,EAEP,EAI8BwJ,KAAKxJ,MAEnCtE,SAASY,iBAAiB,cAAeqiB,GACzCjjB,SAASY,iBAAiB,YAAa4iB,EACxC,CAEA,KACClf,MAAK,EAAWsc,cAAcJ,SAASN,IACtB5b,MAAK,EAAUkU,IAAI0H,GAC3BxF,IAAItO,MAAM2X,YAAc,MAAM,GAExC,CAEA,KACCzf,MAAK,EAAWsc,cAAcJ,SAASN,IACtB5b,MAAK,EAAUkU,IAAI0H,GAC3BxF,IAAIsJ,YAAc,KAAM,CAAK,GAEvC,ECzeD,MAAM3I,EAAY,SACZ4I,EAAW,CAChBC,SAAU,YACVC,SAAU,YACVC,YAAa,eACbC,sBAAuB,2BACvBC,aAAc,iBACdC,aAAc,aAGTC,EAAehlB,GAAY,GAAG6b,MAAc4I,EAASzkB,KAE5C,MAAMilB,EACpB,GACA,GACA,GAEAjK,WAAAA,CAAYZ,GAA+B,IAAvB+F,EAAajgB,UAAAC,OAAA,QAAAC,IAAAF,UAAA,IAAAA,UAAA,GAChC4E,MAAK,EAAUsV,EACftV,MAAK,EAAOA,MAAK,EAAesV,EAAQ+F,GACxCrb,MAAK,EAAK8D,IAAM9D,KAEhBoC,IAAAA,UACCgT,EAAeC,iBAAiBC,GAChCtV,MAAK,EAAmBwJ,KAAKxJ,OAG9BoC,IAAAA,UACCgT,EAAeG,wBAAwBD,GACvCtV,MAAK,EAAyBwJ,KAAKxJ,OAGpCoC,IAAAA,UACCgT,EAAeI,kBAAkBF,GACjCtV,MAAK,EAAmBwJ,KAAKxJ,OAG9BoC,IAAAA,UAAiBgT,EAAeM,yBAAyBJ,IAAS,IACjEtV,MAAK,EAAc8D,IAAI2Y,wBAGxBra,IAAAA,UAAiBgT,EAAeO,uBAAuBL,IAAS,IAC/DtV,MAAK,EAAc8D,IAAI0Y,sBAGxBpa,IAAAA,UAAiBgT,EAAeQ,yBAAyBN,IAAS,KACjEtV,MAAK,EAAc8D,IAAI4Y,qBAAqB,GAE9C,CAEA,UAAIpH,GACH,OAAOtV,MAAK,CACb,CAEA,OAAIoW,GACH,OAAOpW,MAAK,CACb,CAEA,GAAmB6E,EAAKub,GAAuB,IAArB,OAAE7E,EAAM,QAAEC,GAAS4E,EACxC5E,EAAQG,QACXvZ,IAAAA,QAAegT,EAAeK,YAAYzV,KAAKsV,SAGhDtV,MAAK,EAAc8D,IAAI0R,kBAAkB+F,EAAQC,EAClD,CAEA,GAAelG,EAAQ+F,GACtB,MAAMjF,GAAM3a,EAAAA,EAAAA,SAAQsb,GACdsJ,EAAKrgB,MAAK,EAAesV,GAEzB2K,GAAexkB,EAAAA,EAAAA,SAAQykB,EAAY,iBACnCI,EAAe,IAAInF,EAAa7F,EAAO8F,UAAWC,GAKxD,OAJArb,MAAK,EAAgBsgB,EAAalK,IAClC6J,EAAa1H,OAAOvY,MAAK,GAEzBoW,EAAImC,OAAO8H,EAAIJ,GACR7J,CACR,CAEA,GAAed,GACd,MAAM+K,GAAKpkB,EAAAA,EAAAA,QAAOikB,EAAY,aACxBL,GAAWzhB,EAAAA,EAAAA,UAAS8hB,EAAY,aAChCJ,GAAc1hB,EAAAA,EAAAA,UAAS8hB,EAAY,gBACnCH,GAAwB3hB,EAAAA,EAAAA,UAAS8hB,EAAY,0BAC7CF,GAAe5hB,EAAAA,EAAAA,UAAS8hB,EAAY,iBAe1C,OAbAL,EAAS9jB,YAAcuZ,EAAOvY,KAC9B+iB,EAAY/jB,YAAc,MAC1BgkB,EAAsBhkB,YAAcuZ,EAAO8F,UAAUkB,cAAcjhB,OACnE2kB,EAAajkB,YACZuZ,EAAO8F,UAAUkB,cAAcjhB,OAAS,EAAI,SAAW,OAExD+G,IAAAA,UAAiBgT,EAAeK,YAAYzV,KAAKsV,SAAS,KACzD,MAAMiL,EAAcjL,EAAO8F,UAAUkB,cAAcjhB,OACnD0kB,EAAsBhkB,YAAcwkB,EACpCP,EAAajkB,YAAcwkB,EAAc,EAAI,SAAW,OAAO,IAGhEF,EAAG9H,OAAOsH,EAAUC,EAAaC,EAAuBC,GACjDK,CACR,CAEA,GAAmBxb,EAAO2b,GACrBA,EACHxgB,MAAK,EAAKzE,UAAUC,IAAI,iBAExBwE,MAAK,EAAKzE,UAAU8L,OAAO,gBAE7B,CAEA,KACCrH,MAAK,EAAc8D,IAAIiY,cACxB,EC3GD,MAAMhF,EAAY,OACZ4I,EAAW,CAChBc,OAAQ,SACRC,WAAY,cACZC,UAAW,aACXC,KAAM,QACNC,KAAM,QAGDX,GAAehlB,GAAY,GAAG6b,MAAc4I,EAASzkB,KAE5C,MAAM4lB,GACpB,GACA,GACA,GACA,GACA,GACA,GAEA,GAEA5K,WAAAA,CAAY6K,EAASC,EAASC,GAC7BjhB,MAAK,EACJA,MAAK,EAAwCwJ,KAAKxJ,MAEnDA,MAAK,EAA+BA,MAAK,EAAuBwJ,KAAKxJ,MAErEA,MAAK,EAAc,CAAC,IAAImgB,EAAUY,GAAU,IAAIZ,EAAUa,IAC1DhhB,MAAK,EAAYihB,EACjBjhB,MAAK,EAAOA,MAAK,KAAoBA,MAAK,GAC1CA,MAAK,EAAK8D,IAAM9D,KAGhBA,MAAK,EAAiB+gB,EAEtB3e,IAAAA,UACCgT,EAAeS,eACf,CAAChR,EAAKub,KAA6B,IAA3B,OAAE9K,EAAM,WAAE4L,GAAYd,EAC7BpgB,MAAK,EAAiBsV,EACtBtV,KAAKkhB,WAAaA,EAClB7e,QAAQ8e,IAAI,SAAS,GAGxB,CAGA,OAAI/K,GACH,OAAOpW,MAAK,CACb,CAEA,GAAiBohB,EAAYC,GAC5B,MAAMjL,GAAM3a,EAAAA,EAAAA,SAAQsb,GACd2J,GAAajlB,EAAAA,EAAAA,SAAQykB,GAAY,eAEjCO,EAASzgB,MAAK,IAEdshB,GAAa7lB,EAAAA,EAAAA,SAAQykB,GAAY,cACvCoB,EAAW/I,OAAO6I,EAAWhL,KAC7B,MAAMmL,GAAa9lB,EAAAA,EAAAA,SAAQykB,GAAY,cACvCqB,EAAWhJ,OAAO8I,EAAWjL,KAE7BsK,EAAWnI,OAAO+I,EAAYC,GAC9B,MAAMX,EAAO5gB,MAAK,IAKlB,OAJAA,MAAK,EAAQ4gB,EAEbxK,EAAImC,OAAOkI,EAAQC,EAAYE,GAExBxK,CACR,CAEA,KACC,MAAMqK,GAAS7kB,EAAAA,EAAAA,YAAWskB,GAAY,WAEhCsB,GAAa/lB,EAAAA,EAAAA,SAAQykB,GAAY,SACjCuB,EAAezhB,MAAK,IACpB0hB,EAAmB1hB,MAAK,IAO9B,OALIA,MAAK,IACRyhB,EAAa3Z,MAAMwQ,QAAU,QAE9BkJ,EAAWjJ,OAAOkJ,EAAcC,GAChCjB,EAAOlI,OAAOiJ,GACPf,CACR,CAEA,KACC,MACM5W,GAAI3N,EAAAA,EAAAA,OAAMgkB,GAAY,QADhB,OASZ,OANA9d,IAAAA,UACCgT,EAAeU,kBACf,CAACjR,EAAO8c,KACP9X,EAAE9N,YAAc4lB,CAAa,IAGxB9X,CACR,CAEA,KAOC,OANY1N,EAAAA,EAAAA,YACX,MACA6D,MAAK,EACL,KACA,kBAGF,CAEA,KACCoC,IAAAA,QAAegT,EAAeW,eAC9B/V,MAAK,EAAMzE,UAAUsf,OAAO,SAC7B,CAEA,KAQC,OAPY1e,EAAAA,EAAAA,YACX,MACA6D,MAAK,EACL,SACA,kBAIF,CAEA,KACCoC,IAAAA,QAAegT,EAAeM,yBAAyB1V,MAAK,GAC7D,ECxID,MAAM4hB,GAAO,CACZ,aACA,uDAMKC,GACO,CAAC,iEADRA,GAEO,CACX,mFAeIC,GACG,CAAC,WAAY,sDADhBA,GAEM,CAAC,aAAc,+CAOrBC,GAAc,CACnBC,KAAM,EACNC,IAAK,EACLC,WAAY,EACZC,YAAa,GAGRC,GAAc,CACnBJ,KAAM,CACL,gCACA,yBACA,2BACA,6BACA,uBAGDC,IAAK,CACJ,0BACA,0BACA,yBACA,uBACA,0BAGDC,WAAY,CACX,4BACA,0BACA,2BACA,kCACA,4BAGDC,YAAa,CACZ,kBACA,oBACA,qBACA,qBACA,sBAIIE,GAAgB,CACrBL,KAAM,CACL,0BACA,uBACA,4BACA,8BACA,iBAGDC,IAAK,CACJ,gCACA,2BACA,2BACA,wBACA,gCAGDC,WAAY,CACX,8BACA,0BACA,2BACA,+BACA,gCAGDC,YAAa,CACZ,iCACA,qCACA,kCACA,iCACA,kCAoCK,SAASG,GACfC,EACAtB,EACAuB,EACAnmB,GAGA,MAAMomB,EAASD,EAAaH,GAAgBD,GAG5CL,GAAY1lB,IAAS0lB,GAAY1lB,GAAQ,GAAKomB,EAAOpmB,GAAMhB,OAC3D,MAAMqnB,EAAMX,GAAY1lB,GAExB,MAAO,GAAG4kB,EAAW,GAAKsB,EAAa,OAAOE,EAAOpmB,GAAMqmB,IAC5D,CAmBO,SAASC,KACf,OAAOf,EACR,CCtKA,MAAM7K,GAAY,WACZ4I,GAAW,CAChBc,OAAQ,SACRmC,QAAS,WACTC,UAAW,aACXC,aAAc,kBAGT5C,GAAehlB,GAAY,GAAG6b,OAAc4I,GAASzkB,KAE5C,MAAM6nB,GACpB,GAEA7M,WAAAA,CAAY8M,EAAkBC,EAAoBhC,EAAUiC,GAC3D,MAAOC,EAAOC,GDqIT,SACNJ,EACAC,EACAhC,EACAiC,GAEA,OAAIjC,EACCiC,EACIpB,GAEAA,GA3IDuB,EAACL,EAAkBM,IAAqB,CAC/C,cAAcN,KACd,OAAOM,qCA4IAxB,CAAekB,EAAkBC,EAE1C,CCpJ4BM,CACzBP,EACAC,EACAhC,EACAiC,GAGDljB,MAAK,EAAOA,MAAK,EAAiBmjB,EAAOC,GAEzC,MAAMI,EAAoBvC,EACvBiC,EACC,cACA,YACD,YAEHljB,MAAK,EAAKzE,UAAUC,IAAIgoB,EACzB,CAGA,OAAIpN,GACH,OAAOpW,MAAK,CACb,CAEA,GAAiBmjB,EAAOC,GACvB,MAAMhN,GAAM3a,EAAAA,EAAAA,SAAQsb,IACd0J,GAAS7kB,EAAAA,EAAAA,YAAWskB,GAAY,WAChC0C,GAAU5mB,EAAAA,EAAAA,QAAOkkB,GAAY,WAAYiD,GACzCN,GAAY3mB,EAAAA,EAAAA,OAAMgkB,GAAY,aAAckD,GAC5CN,EAAe9iB,MAAK,IAK1B,OAHAygB,EAAOlI,OAAOqK,EAASC,GACvBzM,EAAImC,OAAOkI,EAAQqC,GAEZ1M,CACR,CAEA,KAOC,OANYja,EAAAA,EAAAA,YACX+jB,GAAY,gBACZlgB,MAAK,EACL,KACA,aAGF,CAEA,KACCoC,IAAAA,QAAe+S,EAChB,EC1DD,MAAM4B,GAAY,eACZ4I,GAAW,CAChBc,OAAQ,SACRE,UAAW,aACXE,KAAM,OACND,KAAM,QACN6C,kBAAmB,uBAEdvD,GAAehlB,GAAY,GAAG6b,OAAc4I,GAASzkB,KAE5C,MAAMwoB,GACpB,GACA,GACA,GAEAxN,WAAAA,CAAYZ,EAAQqO,EAAMC,EAAW3C,GACpC3L,EAAOuO,uBAEP7jB,MAAK,EAAc,CAClBuiB,WAAYjN,EAAOvY,KACnB6mB,YACA3C,YAGI0C,GAKJ3jB,MAAK,EAAOA,MAAK,IAGjB6C,YACC,IAAMT,IAAAA,QAAe+S,INvCS,OM+B/BnV,MAAK,EAAa,IAAImgB,EAAU7K,GAAQ,GAExCtV,MAAK,EAAOA,MAAK,IAUnB,CAGA,OAAIoW,GACH,OAAOpW,MAAK,CACb,CAEA,KACC,MAAMoW,GAAM3a,EAAAA,EAAAA,SAAQsb,IACd0J,EAASzgB,MAAK,IACd2gB,GAAYllB,EAAAA,EAAAA,SAAQykB,GAAY,cACtClgB,MAAK,EAAWoW,IAAImC,OAAOvY,MAAK,KAChC2gB,EAAUpI,OAAOvY,MAAK,EAAWoW,KAGjChU,IAAAA,QACCgT,EAAeM,yBAAyB1V,MAAK,EAAWsV,SAGzD,MAAMsL,EAAO5gB,MAAK,IAGlB,OAFAoW,EAAImC,OAAOkI,EAAQE,EAAWC,GAEvBxK,CACR,CAEA,KACC,MAAMA,GAAM3a,EAAAA,EAAAA,SAAQsb,IACd+M,EAAM9jB,MAAK,IAEjB,OADAoW,EAAImC,OAAOuL,GACJ1N,CACR,CAEA,KACC,MAAMqK,GAAS7kB,EAAAA,EAAAA,YAAWskB,GAAY,WAEhCsB,GAAa/lB,EAAAA,EAAAA,SAAQykB,GAAY,SACjC6D,EAAoB/jB,MAAK,IACzBgkB,EAAgBhkB,MAAK,IAK3B,OAHAwhB,EAAWjJ,OAAOwL,EAAmBC,GACrCvD,EAAOlI,OAAOiJ,GAEPf,CACR,CAEA,KAEC,OAAOvkB,EAAAA,EAAAA,OAAMgkB,GAAY,qBF7F1B,8DE8FA,CAEA,KACC,MAAM4D,EFWD,SAA8B1D,GAAsC,IAArC,WAAEmC,EAAU,UAAEqB,EAAS,SAAE3C,GAAUb,EACxE,OAAIa,EACC2C,EACI/B,GAEAA,GAGJ+B,EA7GQrB,IACZ,uBAAuBA,wDA6GfV,CAAuBU,GA5GnBA,IACZ,uBAAuBA,0DA6GfV,CAAuBU,EAGjC,CEzBc0B,CAAsBjkB,MAAK,GACvC,OAAO9D,EAAAA,EAAAA,OAAMgkB,GAAY,QAAS4D,EACnC,CAEA,KAOC,OANY3nB,EAAAA,EAAAA,YACX,MACA6D,MAAK,EAAwBwJ,KAAKxJ,MAClC,SACA,YAGF,CAEA,KACCA,MAAK,EAAWsV,OAAO4O,6BAEvB9hB,IAAAA,QACCgT,EAAeQ,yBAAyB5V,MAAK,EAAWsV,QAE1D,CAEA,KAOC,OANYnZ,EAAAA,EAAAA,YACX,MACA6D,MAAK,GACL,SACA,aAGF,CAEA,MAECoC,IAAAA,QAAe+S,EAChB,EC/HD,MAAM4B,GAAY,OACZ4I,GAAW,CAChBc,OAAQ,SACR0D,QAAS,WACTtB,UAAW,aACXuB,YAAa,gBACbC,aAAc,iBACdC,YAAa,gBAGRpE,GAAehlB,GAAY,GAAG6b,OAAc4I,GAASzkB,KAE5C,MAAMqpB,GACpB,GAEArO,WAAAA,GACC,MAAOiN,EAAOC,GAAYT,KAE1B3iB,MAAK,EAAOA,MAAK,EAAiBmjB,EAAOC,EAC1C,CAGA,OAAIhN,GACH,OAAOpW,MAAK,CACb,CAEA,GAAiBmjB,EAAOC,GACvB,MAAMhN,GAAM3a,EAAAA,EAAAA,SAAQsb,IAEd0J,GAAS7kB,EAAAA,EAAAA,YAAWskB,GAAY,WAChCiE,GAAUtoB,EAAAA,EAAAA,QAAOqkB,GAAY,WAAYiD,GACzCN,GAAY3mB,EAAAA,EAAAA,OAAMgkB,GAAY,aAAckD,GAE5CkB,GAAc7oB,EAAAA,EAAAA,SAAQykB,GAAY,gBAClCkE,EAAcpkB,MAAK,KACnBqkB,EAAerkB,MAAK,KAK1B,OAHAygB,EAAOlI,OAAO4L,EAAStB,GACvByB,EAAY/L,OAAO6L,EAAaC,GAChCjO,EAAImC,OAAOkI,EAAQ6D,GACZlO,CACR,CAEA,MAOC,OANYja,EAAAA,EAAAA,YACX+jB,GAAY,eACZlgB,MAAK,GACL,KACA,WAGF,CAEA,MACCoC,IAAAA,QAAe+S,EAAkC,CAAE8L,UAAU,GAC9D,CAEA,MAOC,OANY9kB,EAAAA,EAAAA,YACX+jB,GAAY,gBACZlgB,MAAK,GACL,KACA,YAGF,CAEA,MACCoC,IAAAA,QAAe+S,EAAkC,CAAE8L,UAAU,GAC9D,EChFc,MAAMuD,GACpB,IACA,IACA,IAEAtO,WAAAA,CAAYqF,GACXvb,MAAK,GAAUub,EACfvb,MAAK,GAAQ,KACbA,MAAK,IAAmB,CACzB,CAEA,UAAIub,GACH,OAAOvb,MAAK,EACb,CAEA,KAAI8O,GACH,OAAO9O,MAAK,GAAQ,EACrB,CAEA,KAAI+K,GACH,OAAO/K,MAAK,GAAQ,EACrB,CAEAykB,SAAAA,CAAUC,GACT1kB,MAAK,GAAQ0kB,CACd,CAEAC,UAAAA,GACC3kB,MAAK,GAAQ,IACd,CAEA2W,OAAAA,GACC,OAAsB,OAAf3W,MAAK,EACb,CAEAqe,OAAAA,GACC,OAAOre,MAAK,EACb,CAEA4kB,aAAAA,GACC,GAAI5kB,MAAK,GACR,MAAM,IAAIsI,MAAM,uCAKjB,OAFAtI,MAAK,IAAmB,IAEpBA,KAAK2W,YACR3W,MAAK,GAAMiiB,OACJ,EAIT,CAEAvL,eAAAA,GACC,OAAO1W,MAAK,EACb,ECxDc,MAAM6kB,GACpB,IACA,IACA,GAEA3O,WAAAA,CAAY7a,GAAmB,IAAX0B,EAAI3B,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAG,GAC1B4E,MAAK,GAAU3E,EACf2E,MAAK,GAAQ,EACbA,MAAK,EAAQjD,CACd,CAEA,UAAI1B,GACH,OAAO2E,MAAK,EACb,CAEA,QAAIjD,GACH,OAAOiD,MAAK,CACb,CAEA,QAAI8kB,GACH,OAAO9kB,MAAK,EACb,CAEAiiB,GAAAA,GACC,GAAIjiB,KAAK2b,SACR,MAAM,IAAIrT,MAAM,4BAGjBtI,MAAK,IAAS,CACf,CAEA2b,MAAAA,GACC,OAAO3b,MAAK,KAAUA,MAAK,EAC5B,EC9BD,MAAM+kB,GAAwB,CAC7BjY,EAAG,CAAC,GAAI,GACRnB,EAAG,CAAC,EAAG,GACPgC,EAAG,CAAC,EAAG,GACPW,EAAG,EAAE,EAAG,IAEH0W,GAAgB,CACrBlY,EAAG,IACHnB,EAAG,IACHgC,EAAG,IACHW,EAAG,KAGW,MAAM2W,GACpB,IACA,IACA,GACA,IACA,IACA,IACA,IACA,IAEA/O,WAAAA,CAAY0G,GAAsB,IAAfC,EAAKzhB,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAGwhB,EAC1B5c,MAAK,GAAS4c,EACd5c,MAAK,GAAS6c,EAEd7c,MAAK,EAAS,GACd,IAAK,IAAIuJ,EAAI,EAAGA,EAAIqT,EAAOrT,IAAK,CAC/BvJ,MAAK,EAAOf,KAAK,IACjB,IAAK,IAAI4P,EAAI,EAAGA,EAAIgO,EAAOhO,IAAK,CAC/B,MAAMsH,EAAO,IAAIqO,GAAK,CAACjb,EAAGsF,IAC1B7O,MAAK,EAAOuJ,GAAGtK,KAAKkX,EACrB,CACD,CAEAnW,MAAK,GAAiB,IAAIsb,IAC1Btb,MAAK,GAAoB,IAAIsb,IAC7Btb,MAAK,GAAa,IAAIsb,IACtBtb,MAAK,GAAiB,IAAIsb,GAC3B,CAEA,QAAI4J,GACH,MAAO,CAACllB,MAAK,GAAQA,MAAK,GAC3B,CAEA,SAAI4c,GACH,OAAO5c,MAAK,EACb,CAEA,SAAI6c,GACH,OAAO7c,MAAK,EACb,CAEA,iBAAIsc,GACH,MAAO,IAAItc,MAAK,GAAemlB,OAChC,CAEA,oBAAIC,GACH,MAAO,IAAIplB,MAAK,GAAkBmlB,OACnC,CAEA,aAAIE,GACH,MAAO,IAAIrlB,MAAK,GAAWmlB,OAC5B,CAEA,SAAIlJ,GAEH,MAAO,IAAIjc,KAAKsc,iBAAkBtc,KAAKolB,oBAAqBplB,KAAKqlB,UAClE,CAEA,SAAIrI,GACH,OAAOhd,MAAK,CACb,CAEA,0BAAIslB,GACH,MAAO,IAAItlB,MAAK,GAAeulB,SAChC,CAEA,6BAAIC,GACH,MAAO,IAAIxlB,MAAK,GAAkBulB,SACnC,CAEA,sBAAIE,GACH,MAAO,IAAIzlB,MAAK,GAAWulB,SAC5B,CAEA,kBAAIG,GACH,MAAO,IACH1lB,KAAKslB,0BACLtlB,KAAKwlB,6BACLxlB,KAAKylB,mBAEV,CAEA,uBAAOE,GACN,OAAOpiB,OAAO4hB,KAAKJ,GACpB,CAEAa,eAAAA,CAAgB7oB,GACf,OAAOiD,MAAK,GAAe6lB,IAAI9oB,EAChC,CAEA+oB,kBAAAA,CAAmB/oB,GAClB,OAAOiD,MAAK,GAAkB6lB,IAAI9oB,EACnC,CAEAgpB,OAAAA,CAAO3F,GAAS,IAAP7W,EAAGsF,GAAEuR,EACb,GAAIpgB,KAAKgmB,YAAY,CAACzc,EAAGsF,IAAK,OAAO7O,MAAK,EAAOuJ,GAAGsF,GAEpD,MAAM,IAAIvG,MAAM,2BACjB,CAEA0d,WAAAA,CAAWC,GAAS,IAAP1c,EAAGsF,GAAEoX,EACjB,OAAO1c,GAAK,GAAKA,EAAIvJ,MAAK,IAAU6O,GAAK,GAAKA,EAAI7O,MAAK,EACxD,CAEAkmB,OAAAA,CAAQnpB,EAAM1B,GACb,GAAI2E,KAAK2W,QAAQ5Z,GAChB,MAAM,IAAIuL,MAAM,oCAGjB,MAAMoc,EAAO,IAAIG,GAAKxpB,EAAQ0B,GAC9BiD,MAAK,GAAkBmc,IAAIpf,EAAM2nB,GACjC1kB,MAAK,GAAemc,IAAIpf,EAAM,KAC/B,CAEA4Z,OAAAA,CAAQ5Z,GACP,OACCiD,KAAK4lB,gBAAgB7oB,IACrBiD,KAAK8lB,mBAAmB/oB,IACxBiD,KAAKmmB,YAAYppB,EAEnB,CAEAqpB,YAAAA,CAAarpB,EAAIspB,EAAoBjO,GAAW,IAA5BkO,EAAQC,GAAOF,EAClC,IAAKrmB,KAAK8lB,mBAAmB/oB,GAC5B,OAAO,EAGR,MAAM2nB,EAAO1kB,MAAK,GAAkBkU,IAAInX,IAGjCypB,EAAOC,GAAS1B,GAAsB3M,GAG7C,IACEpY,KAAKgmB,YAAY,CAACM,EAAQC,MAC1BvmB,KAAKgmB,YAAY,CACjBM,EAASE,GAAS9B,EAAKrpB,OAAS,GAChCkrB,EAASE,GAAS/B,EAAKrpB,OAAS,KAGjC,OAAO,EAIR,IAAKqrB,EAAUC,GAAY,CAACL,EAAQC,GAChCK,EAAU,EACd,KAAOA,EAAUlC,EAAKrpB,QAAQ,CAC7B,GAAI2E,MAAK,EAAO0mB,GAAUC,GAAUhQ,UAAW,OAAO,EAEtD+P,GAAYF,EACZG,GAAYF,EACZG,GAAW,CACZ,CAEA,OAAO,CACR,CAEAnC,SAAAA,CAAU1nB,EAAI8pB,EAAoBzO,GAAW,IAA5BkO,EAAQC,GAAOM,EAC/B,IAAK7mB,KAAKomB,aAAarpB,EAAM,CAACupB,EAAQC,GAASnO,GAC9C,MAAM,IAAI9P,MAAM,8CAEjB,MAAMoc,EAAO1kB,MAAK,GAAkBkU,IAAInX,IACjCypB,EAAOC,GAAS1B,GAAsB3M,GAE7C,IAAKsO,EAAUC,GAAY,CAACL,EAAQC,GAChCK,EAAU,EACd,MAAM9P,EAAc,GACpB,KAAO8P,EAAUlC,EAAKrpB,QACrB2E,MAAK,EAAO0mB,GAAUC,GAAUlC,UAAUC,GAC1C5N,EAAY7X,KAAK,CAACynB,EAAUC,IAC5BD,GAAYF,EACZG,GAAYF,EAEZG,GAAW,EAGZ5mB,MAAK,GAAkB8mB,OAAO/pB,GAC9BiD,MAAK,GAAemc,IAAIpf,EAAM2nB,GAC9B1kB,MAAK,GAAemc,IAAIpf,EAAM,CAAC+Z,EAAasB,GAC7C,CAEA2O,SAAAA,CAAUhqB,GAET,IAAKiD,KAAK4lB,gBAAgB7oB,GACzB,MAAM,IAAIuL,MAAM,6BAGjB,MAAMoc,EAAO1kB,MAAK,GAAekU,IAAInX,GAGlBiD,MAAK,GAAekU,IAAInX,GAAM,GACtCmf,SAAQ8K,IAAA,IAAEzd,EAAGsF,GAAEmY,EAAA,OAAKhnB,MAAK,EAAOuJ,GAAGsF,GAAG8V,YAAY,IAE7D3kB,MAAK,GAAe8mB,OAAO/pB,GAC3BiD,MAAK,GAAkBmc,IAAIpf,EAAM2nB,GACjC1kB,MAAK,GAAemc,IAAIpf,EAAM,KAC/B,CAEA,IAAuBkqB,EAAiBC,GACvC,MAAOC,EAAWC,GAAaH,EAC/B,OAAOC,EAAWG,WAAUC,IAAA,IAAE/d,EAAGsF,GAAEyY,EAAA,OAAK/d,IAAM4d,GAAatY,IAAMuY,CAAS,GAC3E,CAEA,IAAiBH,EAAiBM,EAAQnP,GACzC,MAAOoP,EAAKC,GAAOR,GACZT,EAAOC,GAAS1B,GAAsB3M,GAC7C,MAAO,CAACoP,EAAMD,EAASf,EAAOiB,EAAMF,EAASd,EAC9C,CAEAjH,UAAAA,CAAWziB,GAAuC,IAAjC2qB,EAAwBtsB,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAG,KAC3C,IAAK4E,KAAK4lB,gBAAgB7oB,GACzB,MAAM,IAAIuL,MAAM,6BAIjB,MAAO4e,EAAY9O,GAAapY,MAAK,GAAekU,IAAInX,GAGlD4qB,EACuB,MAA5BD,EACGR,EAAW,GACXQ,GACGP,EAAWC,GAAaO,EAEzBJ,EAASvnB,MAAK,GAAuB2nB,EAAkBT,GAG7DlnB,KAAK+mB,UAAUhqB,GAIf,IACI6qB,EADAC,EAAezP,EAEnB,GACCyP,EAAe7C,GAAc6C,GAC7BD,EAAiB5nB,MAAK,GACrB2nB,EACAJ,EACAM,UAEQ7nB,KAAKomB,aAAarpB,EAAM6qB,EAAgBC,IAGlD7nB,KAAKykB,UAAU1nB,EAAM6qB,EAAgBC,EACtC,CAEA/I,aAAAA,CAAc/hB,GAAuC,IAAjC+qB,EAAwB1sB,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAG,KAC9C,IAAK4E,KAAK4lB,gBAAgB7oB,GACzB,MAAM,IAAIuL,MAAM,8BAIjB,MAAO4e,EAAY9O,GAAapY,MAAK,GAAekU,IAAInX,GAClDgrB,EAAcb,EAAW,GAIzBc,EAAmBF,GAEtBC,EAGGR,EAASvnB,MAAK,GAAuBgoB,EAAkBd,GAG7DlnB,MAAK,GAAkB,CAAEjD,OAAMgrB,cAAa3P,YAAWmP,UAGvDvnB,KAAK+mB,UAAUhqB,EAChB,CAEAkiB,kBAAAA,CAAmBgJ,GAIlB,IAAKjoB,MAAK,GACT,MAAM,IAAIsI,MAAM,0BAIjB,MAAM,KAAEvL,EAAI,UAAEqb,EAAS,OAAEmP,GAAWvnB,MAAK,GAGnCkoB,EAAkBloB,MAAK,GAC5BioB,EACAV,EACAnP,GAGD,OAAOpY,KAAKomB,aAAarpB,EAAMmrB,EAAiB9P,EACjD,CAEAkH,WAAAA,GAAsC,IAA1B6I,EAAiB/sB,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAG,KAG/B,IAAK4E,MAAK,GACT,MAAM,IAAIsI,MAAM,0BAIjB,MAAM,KAAEvL,EAAI,YAAEgrB,EAAW,UAAE3P,EAAS,OAAEmP,GAAWvnB,MAAK,GACtDA,MAAK,GAAkB,KAKvB,MAAM4nB,EAAiBO,EACpBnoB,MAAK,GAAiBmoB,EAAmBZ,EAAQnP,GACjD2P,EAGGK,EAAkBpoB,KAAKomB,aAAarpB,EAAM6qB,EAAgBxP,GAC7DwP,EACAG,EAIH,OAFA/nB,KAAKykB,UAAU1nB,EAAMqrB,EAAiBhQ,GAE/BgQ,EAAgBC,MAAK,CAACC,EAAK5F,IAAQ4F,IAAQP,EAAYrF,IAC/D,CAEA1G,eAAAA,CAAgBJ,GACf,IAAK5b,KAAK2W,QAAQiF,GACjB,MAAM,IAAItT,MAAM,gCAGjB,OAAOtI,MAAK,GAAekU,IAAI0H,EAChC,CAEAgJ,aAAAA,CAAa2D,GAAS,IAAPhf,EAAGsF,GAAE0Z,EAKnB,MAAMpS,EAAOnW,KAAK+lB,QAAQ,CAACxc,EAAGsF,IACxB6M,EAAQvF,EAAKyO,gBACbF,EAAOvO,EAAKkI,UAClB,GAAI3C,EAAO,CACV,GAAIgJ,EAAK/I,SAAU,CAElB,MAAM5e,EAAO2nB,EAAK3nB,KAGlB,OAFAiD,MAAK,GAAWmc,IAAIpf,EAAM2nB,GAC1B1kB,MAAK,GAAe8mB,OAAO/pB,GACpB,CACR,CAEA,OAAO,CACR,CAEA,OAAO,CACR,CAEAopB,WAAAA,CAAYppB,GACX,OAAOiD,MAAK,GAAW6lB,IAAI9oB,EAC5B,CAEAyrB,gBAAAA,GACC,OAAOxoB,MAAK,GAAeklB,KAAO,CACnC,CAEAuD,mBAAAA,GACC,OAAOzoB,MAAK,GAAkBklB,KAAO,CACtC,ECzXM,SAASwD,GAAUxR,EAAKG,GAI9B,OAHAH,EAAM0H,KAAK+J,KAAKzR,GAChBG,EAAMuH,KAAKgK,MAAMvR,GAEVuH,KAAKgK,MAAMhK,KAAKiK,UAAYxR,EAAMH,EAAM,IAAMA,CACtD,CCFA,MAAM4R,GAAgB7D,GAAUU,mBAEjB,MAAMoD,GACpB,GACA,GACA,IAEAlS,4BAA8B,GAC9BA,oBAAsB,CACrB,CAAC,SAAU,GACX,CAAC,SAAU,GACX,CAAC,UAAW,GACZ,CAAC,UAAW,GACZ,CAAC,UAAW,IAGbX,WAAAA,CACCnZ,GAIC,IAHDkf,EAAK7gB,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAG2tB,GAAOC,aACfpM,EAAKxhB,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAG2tB,GAAOE,qBACfpM,EAAKzhB,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAGwhB,EAER5c,MAAK,EAAQjD,EACbiD,MAAK,EAAa,IAAIilB,GAAUrI,EAAOC,GACvC7c,MAAK,GAASic,EACdjc,MAAK,GAAOkc,SAAQkE,IAAA,IAAErjB,EAAM1B,GAAO+kB,EAAA,OAClCpgB,MAAK,EAAWkmB,QAAQnpB,EAAM1B,EAAO,GAEvC,CAEA,QAAI0B,GACH,OAAOiD,MAAK,CACb,CAEA,aAAIob,GACH,OAAOpb,MAAK,CACb,CAEA,SAAIic,GACH,OAAOjc,MAAK,GAAOmlB,MACpB,CAEAtB,oBAAAA,GACC7jB,MAAK,EAAWolB,iBAAiBlJ,SAASnf,IACzC,IAAIupB,EAAQC,EAAQnO,EACpB,GACCkO,EAASoC,GAAU,EAAG1oB,MAAK,EAAW4c,MAAQ,GAC9C2J,EAASmC,GAAU,EAAG1oB,MAAK,EAAW6c,MAAQ,GAC9CzE,EAAY0Q,GAAcJ,GAAU,EAAGI,GAAcztB,OAAS,WACrD2E,MAAK,EAAWomB,aAAarpB,EAAM,CAACupB,EAAQC,GAASnO,IAE/DpY,MAAK,EAAWykB,UAAU1nB,EAAM,CAACupB,EAAQC,GAASnO,EAAU,GAE9D,CAEA8L,0BAAAA,GAEuB,IAAIlkB,MAAK,EAAWsc,eAC5BJ,SAASnf,IACtBiD,MAAK,EAAW+mB,UAAUhqB,EAAK,IAGhCiD,KAAK6jB,sBACN,ECtBD,MACMqF,GAAWC,GAAQA,EAAI7oB,KAAK,KAC5B8oB,GAA6B,CAClC,CAAC,EAAG,GACJ,CAAC,GAAI,GACL,CAAC,EAAG,GACJ,EAAE,EAAG,IAGS,MAAMC,WAAiBN,GACrC,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IAEA7S,WAAAA,CACCnZ,GAKC,IAJDusB,EAAMluB,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAvBc,aAyBpBwhB,EAAKxhB,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAG2tB,GAAOE,qBAGf5Q,MAAMtb,EAJD3B,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAG2tB,GAAOC,aAIIpM,EAFdxhB,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAGwhB,GAIR5c,MAAK,KAGM,sBAAVspB,GACU,iBAAVA,GACU,yBAAVA,GAEAtpB,MAAK,KAENA,MAAK,GAAUspB,EACftpB,MAAK,IACN,CAEA,MACCA,MAAK,GAAmB,IAAIsb,IAC3Btb,KAAKob,UAAU4B,MACbuM,OACAtpB,KAAKkW,GAAS,CAAC+S,GAAQ/S,EAAKoF,QAASpF,EAAKoF,WAM7Cvb,MAAK,GAA+B,IAAIsb,IACxCtb,MAAK,GAAc,IAAIsb,GACxB,CAEA,MACqB,UAAhBtb,MAAK,IACRA,MAAK,GACJA,MAAK,GACNA,MAAK,GAA0BA,MAAK,IACV,cAAhBA,MAAK,IACfA,MAAK,GACJA,MAAK,GACNA,MAAK,GAA0BA,MAAK,IACV,sBAAhBA,MAAK,IACfA,MAAK,GACJA,MAAK,GACNA,MAAK,GACJA,MAAK,IACoB,iBAAhBA,MAAK,IACfA,MAAK,GACJA,MAAK,GACNA,MAAK,GAA0BA,MAAK,IACV,yBAAhBA,MAAK,KACfA,MAAK,GACJA,MAAK,GACNA,MAAK,GACJA,MAAK,GAER,CAEAwpB,2BAAAA,GAGC,OAAOxpB,MAAK,IACb,CAEAypB,sBAAAA,CAAuBvC,GAA0B,IAAd1L,EAAOpgB,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAG,CAAC,EAI7C,OAAO4E,MAAK,GAAwBknB,EAAY1L,EACjD,CAGA,MAAsE,IAAnCkO,EAAStuB,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAG4E,MAAK,GACnD,GAAuB,IAAnB0pB,EAAUxE,KACb,MAAM,IAAI5c,MAAM,0CAGjB,MAAMoa,EAAMgG,GAAU,EAAGgB,EAAUxE,KAAO,GAC1C,OAAOvb,MAAMggB,KAAKD,EAAUnE,UAAU7C,EACvC,CAEA,IAA8BwE,GAC7BlnB,MAAK,GAAiB8mB,OAAOoC,GAAQhC,GACtC,CAGA,MACC,MAAMwC,EACL1pB,MAAK,GAA6BklB,KAAO,EACtCllB,MAAK,GACLA,MAAK,GACT,OAAOA,MAAK,GAAmC0pB,EAChD,CAEA,IAAkCxC,GAA0B,IAAd1L,EAAOpgB,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAG,CAAC,EAIxD,GAHA4E,MAAK,GAAiB8mB,OAAOoC,GAAQhC,IACrClnB,MAAK,GAA6B8mB,OAAOoC,GAAQhC,IAE7C1L,EAAQE,MAAO,CAElB,MAAO8L,EAAKC,GAAOP,EAEnBkC,GAA2BlN,SAAQkE,IAAkB,IAAhBwJ,EAAMC,GAAKzJ,EAE/C,MAAM0J,EAAkB,CAACtC,EAAMoC,EAAMnC,EAAMoC,GAKvC7pB,MAAK,GAAiB6lB,IAAIqD,GAAQY,MACrC9pB,MAAK,GAAiB8mB,OAAOoC,GAAQY,IACrC9pB,MAAK,GAA6Bmc,IACjC+M,GAAQY,GACRA,GAEF,GAEF,CACD,CAGA,MACC,MAAMJ,EACL1pB,MAAK,GAA6BklB,KAAO,EACtCllB,MAAK,GACLA,MAAK,GACT,OAAOA,MAAK,GAAmC0pB,EAChD,CAEA,IAA0CxC,EAAY1L,GACrDxb,MAAK,GAAkCknB,EAAY1L,GAKnDxb,MAAK,GAAyB8mB,OAAOoC,GAAQhC,IAGzC1L,EAAQG,QACX3b,MAAK,GAA4Bwb,EAAQK,SAASxgB,OAEpD,CAEA,MAIC2E,MAAK,GAAqBA,KAAKob,UAAUsK,eACvCzlB,KAAKykB,GAASA,EAAKrpB,SACnB0uB,MAAK,CAAC1gB,EAAGC,IAAMD,EAAIC,IACrBtJ,MAAK,IACN,CAEA,IAA4BklB,GAC3BllB,MAAK,GAAmBgH,OAAOhH,MAAK,GAAmBqF,QAAQ6f,GAAO,GACtEllB,MAAK,IACN,CAEA,MAECA,MAAK,GAAuBA,MAAK,GAAmB,GAIpDA,MAAK,IACN,CAEA,MACC,MAAMgqB,EAAchqB,MAAK,GAIzB,IAAIiqB,EAA6B,CAChC,IAAI3O,IAAIvZ,KAAKmoB,MAAMnoB,KAAKC,UAAU2H,MAAMggB,KAAK3pB,MAAK,QAE/CmqB,EAAaF,EAA2B,GAAG/E,KAI/C,IAAK,IAAIqC,EAAS,EAAGA,EAASyC,EAAazC,IAAU,CAEpD,MAAM6C,EAA8B,IAAI9O,IACvC,IAAItb,MAAK,GAAiBqqB,WAAWnO,SAAQ+J,IAAuB,IAArBliB,GAAM0jB,EAAKD,IAAKvB,GAC1DwB,EAAMD,GAAOwC,IAAgBzC,GACjC6C,EAA4BjO,IAAIpY,EAAK,CAAC0jB,EAAKD,GAC5C,IAED,MAAM8C,EAAcF,EAA4BlF,KAG5CoF,EAAcH,GACjBF,EAA6B,CAACG,GAC9BD,EAAaG,GACHA,IAAgBH,GAC1BF,EAA2BhrB,KAAKmrB,GAIjC,MAAM1H,EAAMgG,GAAU,EAAGuB,EAA2B5uB,OAAS,GAE7D2E,MAAK,GAA2BiqB,EAA2BvH,EAC5D,CACD,CAGA,MACC1iB,MAAK,KAGL,IAAIuqB,EAAe,EACfC,EAA2B,GAE/BxqB,MAAK,GAAmBqqB,UAAUnO,SAAQmK,IAAsB,IAApBtiB,EAAK0mB,GAAUpE,EACtDoE,EAAYF,GACfC,EAA2B,CAACzmB,GAC5BwmB,EAAeE,GACLA,GAAaF,GACvBC,EAAyBvrB,KAAK8E,EAC/B,IAID,MAAM2e,EAAMgG,GAAU,EAAG8B,EAAyBnvB,OAAS,GAE3D,OAAO2E,MAAK,GAAiBkU,IAAIsW,EAAyB9H,GAC3D,CAEA,IAAqCwE,EAAY1L,GAEhDxb,MAAK,GAAiB8mB,OAAOoC,GAAQhC,IAGjC1L,EAAQE,OACX1b,MAAK,GAAYmc,IAAI+M,GAAQhC,GAAaA,GAIvC1L,EAAQG,QACYH,EAAQkP,eAAe,GAE/BxO,SAASX,GACvBvb,MAAK,GAAY8mB,OAAOoC,GAAQ3N,KAGnC,CAEA,MAEC,MAAMoP,EAAc,IAAIrP,IACxBtb,MAAK,GAAiBmlB,OAAOjJ,SAASnY,GAAQ4mB,EAAYxO,IAAIpY,EAAK,KAGnE,IAAK,MAAM6mB,KAAY5qB,MAAK,GAE3B,IAAK,MAAOwnB,EAAKC,KAAQznB,MAAK,GAAiBulB,SAE9CsF,EAAc,IAAK,MAAOjB,EAAMC,KAAST,GAA4B,CACpE,MAAM0B,EAAgB,GACtB,IAAIhG,EAAO,EAIX,IAAK,IAAIiG,EAAQH,EAAW,EAAGG,GAAS,EAAGA,IAAS,CACnD,MAAOxhB,EAAGsF,GAAK,CAAC2Y,EAAMoC,EAAOmB,EAAOtD,EAAMoC,EAAOkB,GAC3CC,EAAU9B,GAAQ,CAAC3f,EAAGsF,IACtB6M,EAAQ1b,MAAK,GAAY6lB,IAAImF,GAKnC,IAAKhrB,MAAK,GAAiB6lB,IAAImF,KAAatP,EAE3C,SAASmP,EAINnP,EACHoJ,IAEAgG,EAAc7rB,KAAK+rB,EAErB,CASA,MAAMC,EAAqB,IAATnG,EAAa,EAAI,KAAOA,EAE1CgG,EAAc5O,SAASnY,IACtB,MAAM0mB,EAAYE,EAAYzW,IAAInQ,GAClC4mB,EAAYxO,IAAIpY,EAAK0mB,EAAYQ,EAAU,GAE7C,CAGF5oB,QAAQ8e,IAAIwJ,GACZ3qB,MAAK,GAAqB2qB,CAC3B,CAGA,MAEC,GAAI3qB,MAAK,GAAYklB,KAAO,EAC3B,OAAOllB,MAAK,KAKbA,MAAK,KAGL,MAAMkrB,EAAoB,IAAI5P,IAC9Btb,MAAK,GACHmlB,OACAjJ,SAASnY,GACTmnB,EAAkB/O,IAAIpY,EAAK/D,MAAK,GAAmBkU,IAAInQ,IAAQ,KAIjE,MAKMonB,EAAOzC,GAAU,EALXwC,EACV3F,SACAtO,QAAO,CAACmU,EAAKX,IAAcW,EAAMX,GAAW,GAGd,GAChC,IAAIY,EAAS,EAEb,IAAK,MAAOtnB,EAAK0mB,KAAcS,EAG9B,GAFAG,GAAUZ,EAENY,EAASF,EACZ,OAAOnrB,MAAK,GAAyBkU,IAAInQ,EAG5C,CAEA,IAA6CmjB,EAAY1L,GACxDxb,MAAK,GAAqCknB,EAAY1L,GAGtDxb,MAAK,GAAyB8mB,OAAOoC,GAAQhC,IAGzC1L,EAAQG,QACX3b,MAAK,GAA4Bwb,EAAQK,SAASxgB,OAEpD,EC3Zc,MAAMiwB,GACpB,IACA,IACA,IACA,IACA,GACA,IACA,IAEApV,WAAAA,CACCqV,EACAC,GAIC,IAHDvK,IAAQ7lB,UAAAC,OAAA,QAAAC,IAAAF,UAAA,KAAAA,UAAA,GACRqwB,EAAQrwB,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAG,KACXswB,IAAOtwB,UAAAC,OAAA,QAAAC,IAAAF,UAAA,KAAAA,UAAA,GAEP4E,MAAK,GAAWA,MAAK,GAAYurB,GACjCvrB,MAAK,GAAWA,MAAK,GAAYwrB,EAAavK,EAAUwK,GAExDzrB,MAAK,EAAYihB,EAGjBjhB,MAAK,GAAW0rB,EAEhB1rB,MAAK,GAAkB,IAAOA,MAAK,GdlBb,IckBmC,EACzDoC,IAAAA,UAAiBgT,EAAeW,eAFVA,IAAO/V,MAAK,IAAYA,MAAK,IAEUwJ,KAAKxJ,OAElEA,MAAK,IACN,CAIA,WAAI+gB,GACH,OAAO/gB,MAAK,EACb,CAEA,WAAIghB,GACH,OAAOhhB,MAAK,EACb,CAEA,IAAYuiB,GACX,OAD2BnnB,UAAAC,OAAA,QAAAC,IAAAF,UAAA,IAAAA,UAAA,GAEnB,IAAIiuB,GAAS9G,EAFwBnnB,UAAAC,OAAA,EAAAD,UAAA,QAAAE,GAIrC,IAAIytB,GAAOxG,EAEpB,CAEA,MAEwB,GAAnBmG,GAAU,EAAG,IAChB1oB,MAAK,GAAWA,MAAK,GACrBA,MAAK,GAAYA,MAAK,KAEtBA,MAAK,GAAWA,MAAK,GACrBA,MAAK,GAAYA,MAAK,IAGnBA,MAAK,GACRoC,IAAAA,QAAegT,EAAeM,yBAAyB1V,MAAK,KAG7DoC,IAAAA,QAAegT,EAAeS,cAAe,CAC5CP,OAAQtV,MAAK,GACbkhB,WAAYlhB,MAAK,MAEnB,CAEA,OACGA,MAAK,GAAUA,MAAK,IAAa,CAACA,MAAK,GAAWA,MAAK,IAEzD,MAAM2rB,EAAYrJ,GACjBtiB,MAAK,GAASjD,KACdiD,MAAK,EACLA,MAAK,KACL,eAGDoC,IAAAA,QAAegT,EAAeU,iBAAkB6V,GAEhDvpB,IAAAA,QAAegT,EAAeS,cAAe,CAC5CP,OAAQtV,MAAK,GACbkhB,WAAYlhB,MAAK,OAGbA,MAAK,GACToC,IAAAA,QAAegT,EAAeO,uBAAuB3V,MAAK,IAE5D,CAEA,MACC,OAAOA,MAAK,cAAoBqpB,EACjC,CAGA,MAECrpB,MAAK,IACN,CAGA,MACCoC,IAAAA,UACC+S,EACAnV,MAAK,GAAoBwJ,KAAKxJ,OAG/BoC,IAAAA,QAAe+S,EAAkC,CAChDG,OAAQtV,MAAK,GACb2jB,MAAM,EACNC,WAAW,EACX3C,SAAUjhB,MAAK,GAEjB,CAEA,MACCoC,IAAAA,YAAmB+S,GACnB/S,IAAAA,YAAmBgT,GACnBhT,IAAAA,UAAiB+S,EAA4BnV,MAAK,GAAcwJ,KAAKxJ,OAErEoC,IAAAA,QAAe+S,EAAkC,CAChDG,OAAQtV,MAAK,GACb2jB,KAAM3jB,MAAK,EACX4jB,WAAW,EACX3C,SAAUjhB,MAAK,GAEjB,CAEA,MACCoC,IAAAA,YAAmB+S,GACnB/S,IAAAA,YAAmBgT,GAEnBhT,IAAAA,UACC+S,EACAnV,MAAK,GAAUwJ,KAAKxJ,OAGrBoC,IAAAA,QAAe+S,EAA2B,CACzC4L,QAAS/gB,MAAK,GACdghB,QAAShhB,MAAK,GACdihB,SAAUjhB,MAAK,GAEjB,CAEA,MACCoC,IAAAA,YAAmB+S,GAEnBnV,MAAK,KACLA,MAAK,GAAmB,aACxB,MAAM2rB,GV3B8BpJ,EU4BnCviB,MAAK,GAASjD,KV5BiCkkB,EU6B/CjhB,MAAK,EV7BoDwiB,EU8BzDxiB,MAAK,KV7BHihB,EACCuB,EA/GQ,qCADF,wCAECD,IACX,yCAAyCA,KAmHlCqJ,CAAoBrJ,IARtB,IAA+BA,EAAYtB,EAAUuB,EUgC1DpgB,IAAAA,QAAegT,EAAeU,iBAAkB6V,GAIhDvpB,IAAAA,UAAiB+S,EAAuBnV,MAAK,GAAUwJ,KAAKxJ,OAE5DA,MAAK,IACN,CAEA,MACCA,MAAK,GAAmB,aAExBoC,IAAAA,QAAegT,EAAeC,iBAAiBrV,MAAK,KAAW,GAC/DoC,IAAAA,QAAegT,EAAeC,iBAAiBrV,MAAK,KAAY,GAIhEoC,IAAAA,UACC+S,EACAnV,MAAK,GAA8BwJ,KAAKxJ,OAGzCA,MAAK,IACN,CAEA,IAA8B6E,EAAO0W,GACpCnZ,IAAAA,YAAmB+S,GAGnB/S,IAAAA,UACC+S,EACAnV,MAAK,GAA4BwJ,KAAKxJ,OAIvC,MAAMwb,EAAUxb,MAAK,GAAmBub,GAExC1Y,YACC,KACC,MAAM8oB,EAAYrJ,GACjBtiB,MAAK,GAASjD,KACdiD,MAAK,EACLA,MAAK,KACLwb,EAAQE,MAASF,EAAQG,OAAS,aAAe,MAAS,QAE3DvZ,IAAAA,QAAegT,EAAeU,iBAAkB6V,GAChD3rB,MAAK,EAAmBub,EAAQC,EAAQ,GAEzCxb,MAAK,KAAgB4e,KAAKvH,IdrMF,IcqMmBrX,MAAK,MAAqB,EAEvE,CAEA,MACC,GAAIA,MAAK,KAAe,CACvB,MAAMub,EAASvb,MAAK,GAASwpB,8BAC7BpnB,IAAAA,QAAe+S,EAAmCoG,EACnD,MACCnZ,IAAAA,QAAegT,EAAeG,wBAAwBvV,MAAK,IAE7D,CAEA,IAAmBub,GAElB,MAAMsQ,EAAc7rB,MAAK,GAAUob,UAAUwJ,cAAcrJ,GAErDG,EAAQmQ,EAAc,EACtBlQ,EAAwB,GAAfkQ,EACTC,GAAS9rB,MAAK,GAAUob,UAAUoN,mBAGlC3M,EAAWF,EACd3b,MAAK,GAAUob,UAAU2K,QAAQxK,GAAQ8C,UACzC,KAMH,MAAO,CAAE3C,QAAOC,SAAQmQ,QAAOjQ,WAAU6O,eAJlB/O,EACpB3b,MAAK,GAAUob,UAAUY,gBAAgBH,EAAS9e,MAClD,KAGJ,CAEA,IAAwBwe,EAAQC,GAC3Bxb,MAAK,MACRA,MAAK,GAASypB,uBAAuBlO,EAAQC,EAI/C,CAEA,IAAmB7d,GAAkB,IAAXsE,EAAI7G,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAG,CAAC,EACjC,MAAMuH,EAAU,CACfopB,UAAWA,IAAM,GAAG/rB,MAAK,GAASjD,eAClCivB,UAAWA,IAAM,GAAGhsB,MAAK,GAASjD,eAClCkvB,WAAY7L,IAAyB,IAAxB,OAAE7E,EAAM,QAAEC,GAAS4E,EAQ/B,MAAO,YAPe7E,EAAO,MAAMA,EAAO,SACpBC,EAAQE,MAAQ,MAAQ,SAC7CF,EAAQG,OAAS,YAAc,KAEfH,EAAQG,OACtB,kBAAkBH,EAAQK,SAASxgB,SACnC,IACqD,EAEzD6wB,QAASA,IAAM,GAAGlsB,MAAK,GAASjD,cAGjCsF,QAAQ8e,IAAIxe,EAAQhF,GAAOsE,GAC5B,CAEA,GAAmBsZ,EAAQC,GAC1Bxb,MAAK,GAAmB,aAAc,CAAEub,SAAQC,YAEhDpZ,IAAAA,QAAegT,EAAeI,kBAAkBxV,MAAK,IAAY,CAChEub,SACAC,WAEF,CAEA,IAA4B3W,EAAKohB,GAAuB,IAArB,OAAE1K,EAAM,QAAEC,GAASyK,EAKrD,GAHA7jB,IAAAA,YAAmB+S,GAGfqG,EAAQsQ,MAeX,OAdA9rB,MAAK,GAAmB,WACxBoC,IAAAA,YAAmB+S,GACnB/S,IAAAA,YtBjR0B,WsBmR1BS,YACC,IACCT,IAAAA,QAAe+S,EAA8B,CAC5C6N,iBAAkBhjB,MAAK,GAASjD,KAChCkmB,mBAAoBjjB,MAAK,GAAUjD,KACnCkkB,SAAUjhB,MAAK,EACfkjB,WAAYljB,MAAK,QdtRK,Kc8R1BA,MAAK,GAAwBub,EAAQC,GAErC3Y,YAAW,KACV7C,MAAK,KACLoC,IAAAA,QAAe+S,EAAsB,GACnCnV,MAAK,KACT,EC3SD,MAAM+W,GAAY,eACZ4I,GAAW,CAChBc,OAAQ,SACR0D,QAAS,WACTtB,UAAW,aACXsJ,QAAS,WACTC,cAAe,kBACfzL,UAAW,aACX0L,YAAa,gBACbC,UAAW,cACXC,UAAW,cACXC,YAAa,gBACbC,aAAc,iBACdC,gBAAiB,oBACjBC,IAAK,QAEAzM,GAAehlB,GAAY,GAAG6b,OAAc4I,GAASzkB,KAErD0xB,GAAY,CACjB,CAAEzJ,MAAO,UAAWpmB,KAAM,SAAUusB,OAAQ,UAC5C,CAAEnG,MAAO,UAAWpmB,KAAM,eAAgBusB,OAAQ,cAClD,CAAEnG,MAAO,UAAWpmB,KAAM,WAAYusB,OAAQ,sBAC9C,CAAEnG,MAAO,UAAWpmB,KAAM,SAAUusB,OAAQ,iBAC5C,CAAEnG,MAAO,UAAWpmB,KAAM,SAAUusB,OAAQ,0BAEvCuD,GACI,CAAE1J,MAAO,UAAWpmB,KAAM,QAD9B8vB,GAEI,CAAE1J,MAAO,UAAWpmB,KAAM,SAIrB,MAAM+vB,GACpB,GACA,GACA,IAAe,GACf,IACA,IAEA5W,WAAAA,CAAY+K,GACXjhB,MAAK,EAAYihB,EACjBjhB,MAAK,EAAOA,MAAK,GAClB,CAGA,OAAIoW,GACH,OAAOpW,MAAK,CACb,CAEA,KACC,MAAMoW,GAAM3a,EAAAA,EAAAA,SAAQsb,IACd0J,GAAS7kB,EAAAA,EAAAA,YAAWskB,GAAY,YAC/BiD,EAAOC,GAAYT,KACpBwB,GAAUtoB,EAAAA,EAAAA,QAAOqkB,GAAY,WAAYiD,GACzCN,GAAY3mB,EAAAA,EAAAA,OAAMgkB,GAAY,aAAckD,GAC5C2J,EAAmB/sB,MAAK,KACxBmsB,EAAUnsB,MAAK,KAKrB,OAHAygB,EAAOlI,OAAO4L,EAAStB,GACvBzM,EAAImC,OAAOkI,EAAQsM,EAAkBZ,GAE9B/V,CACR,CAEA,MAIC,IAAIkV,MAAkBtrB,MAAK,GAAcA,MAAK,EAAWA,MAAK,GAC/D,CAEA,MAQC,OAPY7D,EAAAA,EAAAA,YACX+jB,GAAY,WACZlgB,MAAK,GAAkBwJ,KAAKxJ,MAC5B,KACA,aAIF,CAEA,MACC,MAAMosB,GAAgB3wB,EAAAA,EAAAA,SAAQykB,GAAY,kBAEpCoB,EAAathB,MAAK,GAAmB6sB,IACrCF,GAAMzwB,EAAAA,EAAAA,OAAMgkB,GAAY,OAAQ,MAChCqB,EAAavhB,MAAK,EACrBA,MAAK,GA3DI,GA4DTA,MAAK,GAAmB6sB,IAI3B,OAFAT,EAAc7T,OAAO+I,EAAYqL,EAAKpL,GAE/B6K,CACR,CAEA,IAAkBhM,GAAkB,IAAjB,MAAE+C,EAAK,KAAEpmB,GAAMqjB,EACjC,MAAM4M,EAAWhtB,MAAK,GAAa3E,OAC7B4xB,GAAexxB,EAAAA,EAAAA,SAAQykB,GAAY,cACnCuM,GAAevwB,EAAAA,EAAAA,OAAMgkB,GAAY,gBAAiBiD,GAClDuJ,GAAkB7vB,EAAAA,EAAAA,WACvBqjB,GAAY,mBACZ,GAAGA,GAAY,sBAAsB8M,IACrC,cAAcA,IACdjwB,GACA,GAED2vB,EAAgBQ,UAAY,GAE5BD,EAAa1U,OAAOkU,EAAcC,GAElC,MAAMS,EAAgBA,KACrBntB,MAAK,GAAagtB,GAAY,GAAGP,EAAa1wB,YAAYqxB,UAChC,IAAzBV,EAAgBhvB,MACbgvB,EAAgBhvB,MAAM0vB,OACtBV,EAAgB1vB,YAAYowB,QAC9B,EAKH,OAHAD,IACAT,EAAgBpwB,iBAAiB,QAAS6wB,EAAc3jB,KAAKxJ,OAEtDitB,CACR,CAEA,IAAqBI,GACpBrtB,MAAK,GAAeqtB,EAEpB,MAAML,EAAWhtB,MAAK,GAAa3E,OAC7B4xB,GAAexxB,EAAAA,EAAAA,SAAQ,CAC5BykB,GAAY,aACZA,GAAY,iBAGPsM,GAActwB,EAAAA,EAAAA,OAAMgkB,GAAY,gBAChCuM,GAAevwB,EAAAA,EAAAA,OAAMgkB,GAAY,iBAEjCiN,EAAgBA,KACrBntB,MAAK,GACJgtB,GACG,GAAGP,EAAa1wB,YAAYqxB,UAAUZ,EAAYzwB,YAAYqxB,QAAQ,EAGrEE,EAAcA,KACnBhB,EAAUiB,SAAiC,IAAtBvtB,MAAK,GAC1BusB,EAAUgB,SAAWvtB,MAAK,KAAiB4sB,GAAUvxB,OAAS,EAE9D,MAAM,MAAE8nB,EAAK,KAAEpmB,EAAI,OAAEusB,GAAWsD,GAAU5sB,MAAK,IAE/CwsB,EAAYzwB,YAAcgB,EAC1B0vB,EAAa1wB,YAAconB,EAC3BnjB,MAAK,GAAYspB,EAEjB6D,GAAe,EAcVb,GAAYnwB,EAAAA,EAAAA,YACjB+jB,GAAY,cAXUsN,KACtBxtB,MAAK,KACLstB,GAAa,GAUE9jB,KAAKxJ,MACpB,KACA,KAEKusB,GAAYpwB,EAAAA,EAAAA,YACjB+jB,GAAY,cAZUuN,KACtBztB,MAAK,KACLstB,GAAa,GAWE9jB,KAAKxJ,MACpB,KACA,KAQD,OALAitB,EAAa1U,OAAO+T,EAAWG,EAAcD,EAAaD,GAG1De,IAEOL,CACR,ECpKD,SAASS,GAAa/vB,EAAOgwB,GAC5B,MAAO,YAAYA,sBAAyBhwB,OAC7C,C,yBC/BA,MAAMkvB,GAAc,CACnB9vB,KAAM,eACN6wB,WAAY,WCOb,IAAIC,GAkBJ,SAASC,GACRjpB,EAAKub,GAEJ,IADD,OAAE9K,EAAM,KAAEqO,EAAI,UAAEC,EAAS,SAAE3C,GAAUb,EAErC/d,QAAQ8e,IAAI,GAAGtc,OAAWyQ,EAAOvY,QAAQ4mB,EAAO,OAAS,MACzD,MAAMoK,EAAqB,IAAIrK,GAC9BpO,EACAqO,EACAC,EACA3C,GAEDxH,EAAaoU,GAAWE,EAAmB3X,IAC5C,CAEA,SAAS4X,GAAkBnpB,EAAKohB,GAAkC,IAAhC,QAAElF,EAAO,QAAEC,EAAO,SAAEC,GAAUgF,EAC/D,MAAMgI,EAAc,IAAInN,GAAYC,EAASC,EAASC,GACtDxH,EAAaoU,GAAWI,EAAY7X,KAEpChU,IAAAA,QAAe+S,EAAkC6Y,GAClD,CAEA,SAASE,GACRrpB,EAAKwhB,GAEJ,IADD,iBAAErD,EAAgB,mBAAEC,EAAkB,SAAEhC,EAAQ,WAAEiC,GAAYmD,EAE9DhkB,QAAQ8e,IAAI,GAAGtc,OAAWme,eAA8BC,KACxD,MAAMkL,EAAiB,IAAIpL,GAC1BC,EACAC,EACAhC,EACAiC,GAEDzJ,EAAaoU,GAAWM,EAAe/X,IACxC,CAEA,SAASgY,GAAkBvpB,GAC1B,MAAMwpB,EAAc,IAAI9J,GACxB9K,EAAaoU,GAAWQ,EAAYjY,IACrC,CAEA,SAASkY,GAAyBzpB,EAAKgiB,GAAgB,IAAd,SAAE5F,GAAU4F,EACpD,MAAM0H,EAAqB,IAAIzB,GAAmB7L,GAClDxH,EAAaoU,GAAWU,EAAmBnY,IAC5C,EA3De,WACdyX,GAAYnyB,SAASC,cAAc,QACnC,MAAM6yB,EFbQ,WACd,MAAMC,GAASpwB,EAAAA,EAAAA,YAAW,eACpBwL,GAAI3N,EAAAA,EAAAA,OAAM,kBAEVwyB,EAAO,8DAA8DhB,GAC1E,oBACA,qCAEKiB,EAAO,qCAAqCjB,GACjD,2BACA,iCAEKkB,EAAO,iCAAiClB,GAC7C,WACA,gCACKA,GAAa,WAAY,8BAA8BA,GAC5D,iBACA,6CACKA,GACL,oBACA,qCACSA,GAAa,UAAW,2BAKlC,OAHA7jB,EAAEglB,UAAY,GAAGH,KAAQC,KAAQC,IAEjCH,EAAOlW,OAAO1O,GACP4kB,CACR,CEdoBK,GACnBpzB,SAASqzB,KAAKxW,OAAOsV,GAAWW,GDTlB,SAAyBvsB,GAA8B,IAAxB+sB,EAAM5zB,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAGM,SAASqzB,KAC/D9sB,EAAOsB,OAAO0rB,OAAO,CAAC,EAAGpC,GAAa5qB,GAEtC,MAAMwsB,EAAS/yB,SAASC,cAAc,UACtC8yB,EAAOlzB,UAAUC,IAAI,iBACrBwzB,EAAOlxB,YAAY2wB,GAEnB,MAAMplB,EAAI3N,SAASC,cAAc,KACjC0N,EAAE7M,KAAO,sBAAsByF,EAAK2rB,aACpCvkB,EAAEtN,YAAckG,EAAKlF,KAErB,MAAM8M,EAAInO,SAASC,cAAc,KACjCkO,EAAE/L,YAAYpC,SAASyN,eAAe,gBACtCU,EAAE/L,YAAYuL,GAEd,MAAM6lB,EAAexzB,SAASC,cAAc,OAC5CuzB,EAAa3zB,UAAUC,IAAI,iBAC3B0zB,EAAapxB,YAAY+L,GAGzB,MAAMslB,EAAQ,aACRC,EAAQ,aAEdC,KAAAA,KAAa,CACZ/b,OAAQ,CACPtD,SAAU,CAACmf,EAAOC,MAIpB,MAAME,EAAQ,eAERC,EAAW,OAKjBlmB,EAAEvB,MAAMwnB,MAAQA,EAChBjmB,EAAEvB,MAAM0nB,WAAa,IAAIL,gBACzB9lB,EAAEvB,MAAMynB,SAAWA,EACnBlmB,EAAEvB,MAAM8H,WAAa,MACrBvG,EAAEvB,MAAM2nB,WANW,MAOnBpmB,EAAEvB,MAAM4nB,eAAiB,OACzBrmB,EAAEvB,MAAM6nB,cAAgB,SAExB9lB,EAAE/B,MAAMwnB,MAAQA,EAChBzlB,EAAE/B,MAAM0nB,WAAa,IAAIJ,iBACzBvlB,EAAE/B,MAAMynB,SAAWA,EACnB1lB,EAAE/B,MAAM2nB,WAbW,MAcnB5lB,EAAE/B,MAAM8nB,UAAY,SACpB/lB,EAAE/B,MAAM6nB,cAAgB,SACxB9lB,EAAE/B,MAAMyP,MAAQ,OAEhB2X,EAAapnB,MAAMwQ,QAAU,OAC7B4W,EAAapnB,MAAM+nB,WAAa,SAChCX,EAAapnB,MAAMgoB,eAAiB,SACpCZ,EAAapnB,MAAMioB,gBAzBH,0BA0BhBb,EAAapnB,MAAMkoB,QAvBH,MAwBhBd,EAAapnB,MAAMyP,MAAQ,OAG3BkX,EAAO3wB,YAAYoxB,EAGpB,CCpDCe,GAEA7tB,IAAAA,UAAiB+S,EAAkC2Y,IACnD1rB,IAAAA,UAAiB+S,EAA2B6Y,IAC5C5rB,IAAAA,UAAiB+S,EAA8B+Y,IAC/C9rB,IAAAA,UAAiB+S,EAA2BiZ,IAC5ChsB,IAAAA,UAAiB+S,EAAkCmZ,IAEnDF,IACD,CCxBA8B,E","sources":["webpack://battleship/./src/js-modules/utils/domComponents.js","webpack://battleship/./src/styles.css","webpack://battleship/./node_modules/css-loader/dist/runtime/api.js","webpack://battleship/./node_modules/css-loader/dist/runtime/getUrl.js","webpack://battleship/./node_modules/css-loader/dist/runtime/sourceMaps.js","webpack://battleship/./node_modules/pubsub-js/src/pubsub.js","webpack://battleship/./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js","webpack://battleship/./node_modules/style-loader/dist/runtime/insertBySelector.js","webpack://battleship/./node_modules/style-loader/dist/runtime/insertStyleElement.js","webpack://battleship/./node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js","webpack://battleship/./node_modules/style-loader/dist/runtime/styleDomAPI.js","webpack://battleship/./node_modules/style-loader/dist/runtime/styleTagTransform.js","webpack://battleship/./node_modules/webfontloader/webfontloader.js","webpack://battleship/webpack/bootstrap","webpack://battleship/webpack/runtime/compat get default export","webpack://battleship/webpack/runtime/define property getters","webpack://battleship/webpack/runtime/global","webpack://battleship/webpack/runtime/hasOwnProperty shorthand","webpack://battleship/webpack/runtime/make namespace object","webpack://battleship/webpack/runtime/node module decorator","webpack://battleship/webpack/runtime/publicPath","webpack://battleship/webpack/runtime/jsonp chunk loading","webpack://battleship/webpack/runtime/nonce","webpack://battleship/./src/styles.css?44b2","webpack://battleship/./src/js-modules/pubSubTokens.js","webpack://battleship/./src/js-modules/dom/CellDom.js","webpack://battleship/./src/js-modules/dom/PlaceableObjectDom.js","webpack://battleship/./src/js-modules/images.js","webpack://battleship/./src/js-modules/dom/ShipDom.js","webpack://battleship/./src/js-modules/dom/MissMarkDom.js","webpack://battleship/./src/js-modules/dom/HitMarkDom.js","webpack://battleship/./src/js-modules/utils/domUtilities.js","webpack://battleship/./src/js-modules/delays.js","webpack://battleship/./src/js-modules/dom/GameboardDom.js","webpack://battleship/./src/js-modules/dom/PlayerDom.js","webpack://battleship/./src/js-modules/dom/GameViewDom.js","webpack://battleship/./src/js-modules/messages.js","webpack://battleship/./src/js-modules/dom/GameEndViewDom.js","webpack://battleship/./src/js-modules/dom/DeployFleetViewDom.js","webpack://battleship/./src/js-modules/dom/HomeViewDom.js","webpack://battleship/./src/js-modules/logic/Cell.js","webpack://battleship/./src/js-modules/logic/Ship.js","webpack://battleship/./src/js-modules/logic/Gameboard.js","webpack://battleship/./src/js-modules/utils/math.js","webpack://battleship/./src/js-modules/logic/Player.js","webpack://battleship/./src/js-modules/logic/AiPlayer.js","webpack://battleship/./src/js-modules/logic/GameController.js","webpack://battleship/./src/js-modules/dom/PlayersNameViewDom.js","webpack://battleship/./src/js-modules/dom/initMainFooter.js","webpack://battleship/./src/js-modules/utils/creditFooter.js","webpack://battleship/./src/js-modules/initWebpage.js","webpack://battleship/./src/index.js"],"sourcesContent":["function applyClass(element, className = null) {\n\tif (!className) return\n\n\tif (typeof className === \"string\") {\n\t\telement.classList.add(className)\n\t} else {\n\t\telement.classList.add(...className)\n\t}\n}\n\nexport function initDiv(className = null) {\n\tconst element = document.createElement(\"div\")\n\tapplyClass(element, className)\n\treturn element\n}\n\nexport function initHeader(className = null) {\n\tconst element = document.createElement(\"header\")\n\tapplyClass(element, className)\n\treturn element\n}\n\nexport function initH1(className = null, text = \"\") {\n\tconst element = document.createElement(\"h1\")\n\tapplyClass(element, className)\n\telement.textContent = text\n\treturn element\n}\n\nexport function initH2(className = null, text = \"\") {\n\tconst element = document.createElement(\"h2\")\n\tapplyClass(element, className)\n\telement.textContent = text\n\treturn element\n}\n\nexport function initH3(className = null, text = \"\") {\n\tconst element = document.createElement(\"h3\")\n\tapplyClass(element, className)\n\telement.textContent = text\n\treturn element\n}\n\nexport function initP(className = null, text = \"\") {\n\tconst element = document.createElement(\"p\")\n\tapplyClass(element, className)\n\telement.textContent = text\n\treturn element\n}\n\nexport function initButton(\n\tclassName = null,\n\tclickCallback = () => {},\n\ttype = \"button\",\n\ttextContent\n) {\n\tconst element = document.createElement(\"button\")\n\tapplyClass(element, className)\n\telement.addEventListener(\"click\", clickCallback)\n\telement.type = type\n\telement.textContent = textContent\n\treturn element\n}\n\nexport function initA(className = null, href = \"\", target = \"_self\") {\n\tconst element = document.createElement(\"a\")\n\tapplyClass(element, className)\n\telement.href = href\n\telement.target = target\n\treturn element\n}\n\nexport function initImg(className = null, src = \"\", alt = \"\") {\n\tconst element = document.createElement(\"img\")\n\tapplyClass(element, className)\n\telement.src = src\n\telement.alt = alt\n\treturn element\n}\n\nexport function initInput(\n\tclassName = null,\n\tid = \"\",\n\tname = \"\",\n\tplaceholder = \"\",\n\trequired = false,\n\tariaLabel = \"\",\n\ttype = \"text\"\n) {\n\tconst element = document.createElement(\"input\")\n\tapplyClass(element, className)\n\n\telement.id = id\n\telement.name = name\n\telement.placeholder = placeholder\n\telement.required = required\n\telement.ariaLabel = ariaLabel\n\telement.type = type\n\n\treturn element\n}\n\nexport function initTextArea(\n\tclassName = null,\n\tid = \"\",\n\tname = \"\",\n\tplaceholder = \"\",\n\trequired = false,\n\tariaLabel = \"\"\n) {\n\tconst element = document.createElement(\"textarea\")\n\tapplyClass(element, className)\n\n\telement.id = id\n\telement.name = name\n\telement.placeholder = placeholder\n\telement.required = required\n\telement.ariaLabel = ariaLabel\n\n\treturn element\n}\n\nexport function initLabel(className = null, forAttribute = null) {\n\tconst element = document.createElement(\"label\")\n\tapplyClass(element, className)\n\n\telement.setAttribute(\"for\", forAttribute)\n\n\treturn element\n}\n\nexport function initSelect(className = null, id = \"\", name = \"\") {\n\tconst element = document.createElement(\"select\")\n\tapplyClass(element, className)\n\telement.id = id\n\telement.name = name\n\treturn element\n}\n\nexport function initDataList(className = null, id = \"\") {\n\tconst element = document.createElement(\"datalist\")\n\tapplyClass(element, className)\n\telement.id = id\n\treturn element\n}\n\nexport function initOption(\n\tclassName = null,\n\tvalue = \"\",\n\tlabel = \"\",\n\ttextContent = \"\"\n) {\n\tconst element = document.createElement(\"option\")\n\tapplyClass(element, className)\n\telement.value = value\n\telement.label = label\n\telement.textContent = textContent\n\treturn element\n}\n\nexport function initOptionAsChildInList(\n\tparentList,\n\tclassName = null,\n\tvalue = \"\",\n\tlabel = \"\",\n\ttextContent = \"\"\n) {\n\tconst element = initOption(className, value, label, textContent)\n\tparentList.appendChild(element)\n\treturn element\n}\n\nexport function initUl(className = null) {\n\tconst element = document.createElement(\"ul\")\n\tapplyClass(element, className)\n\treturn element\n}\n\nexport function initOl(className = null) {\n\tconst element = document.createElement(\"ol\")\n\tapplyClass(element, className)\n\treturn element\n}\n\nexport function initLi(className = null) {\n\tconst element = document.createElement(\"li\")\n\tapplyClass(element, className)\n\treturn element\n}\n\nexport function initLiAsChildInList(parentList, className = null) {\n\tconst element = initLi(className)\n\tparentList.appendChild(element)\n\treturn element\n}\n\nexport function initHr(className = null) {\n\tconst element = document.createElement(\"hr\")\n\tapplyClass(element, className)\n\treturn element\n}\n\nexport function initSpan(className = null) {\n\tconst element = document.createElement(\"span\")\n\tapplyClass(element, className)\n\treturn element\n}\n\nexport function initFooter(className = null) {\n\tconst element = document.createElement(\"footer\")\n\tapplyClass(element, className)\n\treturn element\n}\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../node_modules/css-loader/dist/runtime/api.js\";\nimport ___CSS_LOADER_GET_URL_IMPORT___ from \"../node_modules/css-loader/dist/runtime/getUrl.js\";\nvar ___CSS_LOADER_URL_IMPORT_0___ = new URL(\"./assets/images/backgrounds/sea.jpg\", import.meta.url);\nvar ___CSS_LOADER_URL_IMPORT_1___ = new URL(\"./assets/images/backgrounds/winner-2p.jpg\", import.meta.url);\nvar ___CSS_LOADER_URL_IMPORT_2___ = new URL(\"./assets/images/backgrounds/defeated-1p.jpg\", import.meta.url);\nvar ___CSS_LOADER_URL_IMPORT_3___ = new URL(\"./assets/images/backgrounds/winner-1p.jpg\", import.meta.url);\nvar ___CSS_LOADER_URL_IMPORT_4___ = new URL(\"./assets/images/backgrounds/home.jpg\", import.meta.url);\nvar ___CSS_LOADER_URL_IMPORT_5___ = new URL(\"./assets/images/backgrounds/battle.jpg\", import.meta.url);\nvar ___CSS_LOADER_URL_IMPORT_6___ = new URL(\"./assets/images/backgrounds/deploy-fleet.jpg\", import.meta.url);\nvar ___CSS_LOADER_URL_IMPORT_7___ = new URL(\"./assets/images/hit_miss_marks/hit.png\", import.meta.url);\nvar ___CSS_LOADER_URL_IMPORT_8___ = new URL(\"./assets/images/hit_miss_marks/miss.png\", import.meta.url);\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n___CSS_LOADER_EXPORT___.push([module.id, \"@import url(https://fonts.googleapis.com/css2?family=Passero+One&family=Labrada&display=swap);\"]);\nvar ___CSS_LOADER_URL_REPLACEMENT_0___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_0___);\nvar ___CSS_LOADER_URL_REPLACEMENT_1___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_1___);\nvar ___CSS_LOADER_URL_REPLACEMENT_2___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_2___);\nvar ___CSS_LOADER_URL_REPLACEMENT_3___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_3___);\nvar ___CSS_LOADER_URL_REPLACEMENT_4___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_4___);\nvar ___CSS_LOADER_URL_REPLACEMENT_5___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_5___);\nvar ___CSS_LOADER_URL_REPLACEMENT_6___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_6___);\nvar ___CSS_LOADER_URL_REPLACEMENT_7___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_7___);\nvar ___CSS_LOADER_URL_REPLACEMENT_8___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_8___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `:root,\n::backdrop {\n\t/* Colors (palette)*/\n\t--col-black: rgb(20, 20, 20);\n\t--col-black-alpha: rgba(20, 20, 20, 0.5);\n\t--col-grey: rgb(200, 200, 200, 0.8);\n\t--col-white: rgb(255, 255, 255);\n\t--col-orange-dark: rgb(224, 60, 36);\n\t--col-orange-light: rgb(249, 167, 34);\n\t--col-orange: rgb(245, 117, 16);\n\t--col-darker-sea-blue: rgb(1, 64, 79);\n\t--col-sea-blue: rgb(6, 70, 84);\n\t--col-lighter-sea-blue: rgb(51, 99, 109);\n\t--col-darker-sea-blue-alpha: rgb(1, 64, 79, 0.7);\n\t--col-red-alpha: rgb(255, 0, 0, 0.5);\n\n\t/* Colors (background)*/\n\t--bg-col: var(--col-lighter-sea-blue);\n\t--gameboard-bg-col: var(--col-sea-blue);\n\t--cell-border-col: var(--col-darker-sea-blue-alpha);\n\t--cell-hit-col: var(--col-orange-light);\n\t--cell-miss-col: var(--col-white);\n\t--col-sunk-ship-overlay: var(var(--col-red-alpha));\n\t--orange-gradient: linear-gradient(\n\t\tvar(--col-orange-light),\n\t\tvar(--col-orange),\n\t\tvar(--col-orange-dark)\n\t);\n\t--txt-bg-col: var(--col-black-alpha);\n\n\t/* Colors (text/icons)*/\n\t--col-txt: var(--col-black);\n\t--col-txt-alt: var(--col-white);\n\t--col-txt-accent: var(--col-orange);\n\n\t/* Font family */\n\t--main-font: \"Passero One\", monospace;\n\t--accent-font: \"Labrada\", serif;\n\n\t/* Font sizes */\n\t--txt-fontsize: 18px;\n\t--txt-lineheight: 1;\n\t--h1-fontsize: 1.2;\n\t--msg-fontsize: 1rem;\n\t--edit-instructions-fontsize: 0.8rem;\n\t--title-fontsize: 3.2rem;\n\t--subtitle-fontsize: 1.2rem;\n\t--button-fontsize: 1.5rem;\n\t--player-title-fontsize: 1.5rem;\n\t--player-vs-fontsize: 1.5rem;\n\t--player-fontsize: 1rem;\n\t--player-name-fontsize: 1.2rem;\n\t--game-button-fontsize: 0.8rem;\n\t--footer-fontsize: 0.8rem;\n\n\t--fix-font-padding-bottom: 5px;\n\n\t/* Text clamping: number of lines */\n\t/* --max-lines: 4; */\n\n\t/* Maximum width (including dashboard margin) */\n\t--max-width: min(1440px, 100%);\n\n\t/* Radius */\n\t--button-radius: 0.25rem;\n\n\t/*Margins, gaps and paddings (+widths)*/\n\t--page-padding: min(1rem, 2vmin);\n\t--page-gap: min(1rem, 2vmin);\n\t--players-gap: min(2rem, 3vmin);\n\t--shadow-len: 0.75rem;\n\t--shadow-len-mark: calc((var(--shadow-len)) / 4);\n\t--shadow-len-txt: calc((var(--shadow-len)) / 4);\n\t--button-padding: 0.5rem;\n\t--button-padding-fixed: var(--button-padding) var(--button-padding)\n\t\tcalc(var(--button-padding) + var(--fix-font-padding-bottom));\n\t--input-padding-bottom: 0.1em;\n\t--vs-padding: 2vmax;\n\n\t/* Images / icons size */\n\n\t/* Shadows */\n\t/* --outset-shadow: 2px 2px 8px var(--col-accent-medium);\n    --outset-shadow-btn-active: 2px 2px 5px var(--col-accent-medium);\n    --inset-shadow: 2px 2px 2px var(--col-accent-light) inset; */\n\n\t/* Animations on hover / active / ...*/\n\t--time-animation-btn: 0.2s;\n}\n\n/* ::backdrop { */\n/* background-color: var(--col-black); */\n/* opacity: 0.75; */\n/* } */\n\nhtml {\n\tbackground-color: var(--bg-col);\n\tcolor: var(--col-txt);\n\tfont-family: var(--main-font), sans-serif;\n\tfont-weight: 400;\n\tfont-size: var(--txt-fontsize);\n\tline-height: var(--txt-lineheight);\n\tuser-select: none;\n}\n\n*,\n*:before,\n*:after {\n\tfont-family: inherit;\n\tfont-size: inherit; /* 100% */\n\tline-height: inherit;\n\tcolor: inherit;\n\tbox-sizing: border-box;\n\tpadding: 0;\n\tmargin: 0;\n\tvertical-align: baseline;\n\t-webkit-tap-highlight-color: transparent;\n}\n\nbody {\n\tmargin: 0 auto;\n\tmin-height: 100vh; /*it is assumed the same for <html>*/\n\tmin-height: 100dvh; /* if supported */\n\n\t/* if you want to allow scroll: */\n\theight: 100%;\n\n\twidth: 100%;\n\t/* or max-width -- this avoids horizontal scroll bars */\n\n\ttouch-action: manipulation; /* disable double tap to zoom on some browsers*/\n\t/* user-select: none; */\n\tbackground-color: var(--bg-col);\n\tbackground-attachment: fixed;\n}\n\n/*****************************************************/\n\n/* || Generic */\n\nmain {\n\tdisplay: flex;\n\tflex-direction: column;\n\talign-items: center;\n\toverflow: auto;\n\theight: 100vh;\n\theight: 100dvh;\n}\n\nmain > * {\n\twidth: 100%;\n}\n\n/* .header-container, */\n/* .main-container{ */\n/* width: 100%; */\n/* max-width: var(--max-width); */\n/* margin: 0 auto; */\n/* } */\n\n/* main { */\n/* width: 100%; */\n/* max-width: var(--max-width); */\n/* min-height: 100dvh; */\n/* flex-shrink: 0; */\n/* margin: 0 auto; */\n/* } */\n\np {\n\ttext-wrap: pretty; /*or balance */\n}\n\nul,\nol {\n\tlist-style: none;\n}\n\na,\na:hover,\na:active,\na:visited {\n\ttext-decoration: none;\n}\n\nbutton {\n\tcursor: pointer;\n}\n\n/* when hover is supporte */\n@media not all and (hover: none) {\n\t/* styles*/\n}\n\n/* tablet or larger, or landscape (vs portrait), 641px (phone), 961px (tablet) */\n@media only screen and (min-width: 768px), (orientation: landscape) {\n}\n\n/* Customize scrollbars */\n::-webkit-scrollbar {\n\twidth: 4px; /* width of the entire scrollbar */\n\theight: 4px; /* height of the entire scrollbar */\n}\n\n::-webkit-scrollbar-track {\n\tbackground: transparent; /* color of the tracking area */\n}\n\n::-webkit-scrollbar-thumb {\n\tbackground: #888; /* color of the scroll thumb */\n\tborder-radius: 2px;\n}\n\n::-webkit-scrollbar-thumb:hover {\n\tbackground: #555; /* color of the scroll thumb on hover */\n}\n\n/* Structural styles ------ */\n.game,\n.game-end,\n.deploy-fleet,\n.home,\n.game__players-div,\n.game__player-div,\n.deploy-fleet__player-div,\n.player,\n.players-name {\n\tdisplay: flex;\n\tflex-direction: column;\n\tflex: 1;\n}\n\n@media only screen and (orientation: landscape) {\n\t.game__players-div {\n\t\tflex-direction: row;\n\t}\n}\n\n.game,\n.game__players-div,\n.game__player-div,\n.deploy-fleet,\n.deploy-fleet__player-div,\n.player,\n.player__gameboard,\n.cell {\n\toverflow: hidden;\n\tmin-height: 0;\n\tmin-width: 0;\n}\n\n.game__player-div,\n.deploy-fleet__player-div {\n\twidth: 100%;\n\theight: 100%;\n\tjustify-content: center;\n}\n\n.player {\n\tjustify-content: center;\n}\n\n.player__player-h3 {\n\ttext-align: center;\n}\n\n.gameboard {\n\tmax-height: 100%;\n\tmax-width: 100%;\n\tmargin: 0 auto;\n\toverflow: hidden;\n}\n\n/* Colors, dimensions, and padding styles ---- */\n.game,\n.game-end,\n.deploy-fleet,\n.home,\n.players-name {\n\tpadding: var(--page-padding);\n\tgap: var(--page-gap);\n}\n\n.game,\n.game__players-div,\n.deploy-fleet {\n\tgap: var(--players-gap);\n}\n\n@media only screen and (orientation: landscape) {\n\t.game,\n\t.deploy-fleet {\n\t\tgap: var(--page-gap);\n\t}\n}\n\n/* Custom Header style */\n.game__header,\n.deploy-fleet__header {\n\tdisplay: flex;\n\tjustify-content: center;\n}\n\n.game__btns,\n.deploy-fleet__btns {\n\tdisplay: flex;\n\tgap: var(--players-gap);\n}\n\n.deploy-fleet__header button,\n.game__header button {\n\ttext-align: center;\n\tfont-size: var(--game-button-fontsize);\n\tmin-width: 7em;\n}\n\n/* Custom gameboard style */\n.gameboard {\n\tpadding: var(--shadow-len);\n}\n\n/* Custom cell style */\n.cell {\n\tborder: 1px solid var(--cell-border-col);\n}\n\n/* Page view */\n.game-end,\n.home,\n.players-name {\n\talign-items: center;\n\tjustify-content: space-between;\n\tmargin: 1rem auto 10vh;\n}\n\n/* Players name view */\n.players-name__players-cnt-div {\n\tdisplay: grid;\n\tgrid-template-rows: minmax(0, 1fr) min-content minmax(0, 1fr);\n\tgrid-template-columns: minmax(0, 1fr);\n\talign-items: center;\n}\n\n.players-name__player-div {\n\tbackground-color: var(--txt-bg-col);\n\tpadding: var(--button-padding);\n\tborder: none;\n\tborder-radius: var(--button-radius);\n\tbox-shadow: 0 var(--shadow-len-txt) var(--shadow-len-txt) var(--col-txt);\n\tdisplay: flex;\n\tflex-direction: column;\n\talign-items: center;\n}\n\n.players-name__ai-player-div {\n\tdisplay: grid;\n\tgrid-template-columns: min-content 1fr min-content;\n}\n\n.players-name__prev-ai-btn,\n.players-name__next-ai-btn {\n\tgrid-row: 1 / span 2;\n\tfont-size: var(--player-title-fontsize);\n}\n\n.players-name__prev-ai-btn:active,\n.players-name__next-ai-btn:active {\n\ttransform: scaleX(0.9);\n}\n\n.players-name__prev-ai-btn:disabled,\n.players-name__next-ai-btn:disabled {\n\topacity: 0;\n\tpointer-events: none;\n}\n\n@media not all and (hover: none) {\n\t.players-name__prev-ai-btn:hover,\n\t.players-name__next-ai-btn:hover {\n\t\ttransform: scaleX(0.9);\n\t}\n}\n\n.players-name__prev-ai-btn {\n\tgrid-column: 1;\n}\n\n.players-name__next-ai-btn {\n\tgrid-column: 3;\n}\n\n.players-name__player-name-p,\n.players-name__player-name-input,\n.players-name__player-title-p,\n.players-name__vs-p {\n\tcolor: var(--col-txt-alt);\n\ttext-shadow: 0 var(--shadow-len-txt) var(--shadow-len-txt) var(--col-txt);\n\ttext-align: center;\n\tvertical-align: middle;\n}\n\n.players-name__player-name-p,\n.players-name__player-name-input {\n\tfont-size: var(--player-name-fontsize);\n\tbackground: var(--orange-gradient);\n\t-webkit-background-clip: text;\n\tbackground-clip: text;\n\tcolor: transparent;\n\tfilter: drop-shadow(\n\t\t0 var(--shadow-len-txt) var(--shadow-len-txt) var(--col-txt)\n\t);\n\ttext-shadow: none;\n\tfont-weight: bold;\n\theight: calc(\n\t\tvar(--txt-lineheight) * var(--player-name-fontsize) +\n\t\t\tvar(--input-padding-bottom) + 2px\n\t);\n}\n\n.players-name__player-name-input {\n\theight: calc(\n\t\tvar(--line-height) * var(--player-name-fontsize) +\n\t\t\tvar(--input-padding-bottom)\n\t);\n\toutline: none;\n\tborder: none;\n\tborder-bottom: 2px solid var(--col-txt-alt);\n\twidth: 80%;\n}\n\n.players-name__player-name-input::placeholder {\n\tcolor: var(--col-grey);\n}\n\n.players-name__player-name-input:feocus {\n\tborder-bottom-color: var(--col-txt-accent);\n}\n\n.players-name__player-title-p {\n\tfont-size: var(--player-title-fontsize);\n}\n\n.players-name__vs-p {\n\tfont-size: var(--player-vs-fontsize);\n\tfont-family: var(--accent-font);\n\tpadding: var(--vs-padding) 0\n\t\tcalc(var(--fix-font-padding-bottom) + var(--vs-padding));\n\tfont-weight: bold;\n\topacity: 0.8;\n}\n\n@media only screen and (orientation: landscape) {\n\t.players-name__players-cnt-div {\n\t\tgrid-template-columns: minmax(0, 1fr) min-content minmax(0, 1fr);\n\t\tgrid-template-rows: minmax(0, 1fr);\n\t}\n\n\t.players-name__vs-p {\n\t\tpadding: 0 var(--vs-padding) var(--fix-font-padding-bottom);\n\t}\n}\n\n/* Background and shadows */\nbody,\n.gameboard,\n.hit-mark,\n.miss-mark {\n\tbackground-size: cover;\n\tbackground-position: center;\n\tbackground-repeat: no-repeat;\n}\n\n.gameboard {\n\tbackground-color: var(--gameboard-bg-col);\n\tbackground-image: url(${___CSS_LOADER_URL_REPLACEMENT_0___});\n\tbox-shadow: 0px 0px var(--shadow-len) var(--col-black) inset;\n}\n\nbody:has(.game-end.winner-2p) {\n\tbackground-image: url(${___CSS_LOADER_URL_REPLACEMENT_1___});\n}\n\nbody:has(.game-end.defeated-1p) {\n\tbackground-image: url(${___CSS_LOADER_URL_REPLACEMENT_2___});\n}\n\nbody:has(.game-end.winner-1p) {\n\tbackground-image: url(${___CSS_LOADER_URL_REPLACEMENT_3___});\n}\n\nbody:has(.home),\nbody:has(.players-name) {\n\tbackground-image: url(${___CSS_LOADER_URL_REPLACEMENT_4___});\n}\n\nbody:has(.game) {\n\tbackground-image: url(${___CSS_LOADER_URL_REPLACEMENT_5___});\n}\n\nbody:has(.deploy-fleet) {\n\tbackground-image: url(${___CSS_LOADER_URL_REPLACEMENT_6___});\n}\n\n.hit-mark {\n\tbackground-image: url(${___CSS_LOADER_URL_REPLACEMENT_7___});\n\tfilter: drop-shadow(0 0 var(--shadow-len-mark) var(--cell-hit-col));\n}\n\n.miss-mark {\n\tbackground-image: url(${___CSS_LOADER_URL_REPLACEMENT_8___});\n\tfilter: drop-shadow(0 0 var(--shadow-len-mark) var(--cell-miss-col));\n}\n\n/* Players info */\n.player__player-h3 {\n\tcolor: var(--col-txt-alt);\n\ttext-shadow: 0 var(--shadow-len-txt) var(--shadow-len-txt) var(--col-txt);\n\tfont-weight: normal;\n\tpadding-bottom: var(--fix-font-padding-bottom);\n\tfont-size: var(--player-fontsize);\n}\n\n.currentPlayer .player__name-span {\n\tfont-weight: bold;\n\tbackground: var(--orange-gradient);\n\t-webkit-background-clip: text;\n\tbackground-clip: text;\n\tcolor: transparent;\n\tfilter: drop-shadow(\n\t\t0 var(--shadow-len-txt) var(--shadow-len-txt) var(--col-txt)\n\t);\n\ttext-shadow: none;\n}\n\n.player__name-span {\n\tfont-family: var(--accent-font);\n\tfont-size: var(--player-name-fontsize);\n}\n\n/* Custom msg p style */\n.game__msg-p,\n.deploy-fleet__msg-p {\n\ttext-align: center;\n\tfont-size: var(--msg-fontsize);\n\ttext-wrap: balance;\n\tcolor: var(--col-txt-alt);\n\ttext-shadow: 0 var(--shadow-len-txt) var(--shadow-len-txt) var(--col-txt);\n\tmargin-top: auto;\n}\n\n.game__msg-p.hidden {\n\tvisibility: hidden;\n}\n\n.deploy-fleet__edit-instructions-p {\n\ttext-align: center;\n\tfont-size: var(--edit-instructions-fontsize);\n\tfont-family: var(--accent-font);\n\tline-height: 1.2;\n\ttext-wrap: balance;\n\tcolor: var(--col-grey);\n}\n\n/* Ships */\n.ship {\n\tfilter: drop-shadow(0 0 var(--shadow-len) var(--col-black));\n}\n\n.ship.sunk .ship__mask {\n\tbackground-color: var(--col-sunk-ship-overlay);\n}\n\n.shadow-ship {\n\tbackground-image: none !important;\n}\n\n.shadow-ship .ship__mask {\n\tbackground-color: var(--col-black-alpha);\n}\n\n.shadow-ship:not(.out-of-bound):not(.fallback) .ship__mask {\n\tdisplay: block !important;\n}\n\n.gameboard:has(.ship.on-drag.forbidden-position)\n\t.shadow-ship:not(.fallback)\n\t.ship__mask {\n\tbackground-color: var(--col-red-alpha);\n}\n\n.gameboard:has(.ship.on-drag.forbidden-position)\n\t.shadow-ship.fallback\n\t.ship__mask {\n\tdisplay: block !important;\n}\n\n/* Texts */\n.game-end__title-h2,\n.game-end__subtitle-p,\n.home__title-h1,\n.home__subtitle-p,\n.players-name__title-h1,\n.players-name__subtitle-p {\n\ttext-align: center;\n\ttext-wrap: balance;\n}\n\n.game-end__title-h2,\n.home__title-h1,\n.players-name__title-h1 {\n\tfont-size: var(--title-fontsize);\n\tfont-family: var(--accent-font);\n\tfont-weight: bold;\n\tbackground: var(--orange-gradient);\n\t-webkit-background-clip: text;\n\tbackground-clip: text;\n\tcolor: transparent;\n\tfilter: drop-shadow(\n\t\t0 var(--shadow-len-txt) var(--shadow-len-txt) var(--col-txt)\n\t);\n\tline-height: 1;\n\tpadding-bottom: 0.2em;\n}\n\n.game-end__subtitle-p,\n.home__subtitle-p,\n.players-name__subtitle-p {\n\tcolor: var(--col-txt-alt);\n\tfont-size: var(--subtitle-fontsize);\n\ttext-shadow: 0 var(--shadow-len-txt) var(--shadow-len-txt) var(--col-txt);\n}\n\n/* Buttons */\nbutton {\n\tpadding: var(--button-padding-fixed);\n\tfont-family: var(--accent-font);\n\tbackground: var(--orange-gradient);\n\tfont-weight: bold;\n\tborder: none;\n\tborder-radius: var(--button-radius);\n\tfont-size: var(--button-fontsize);\n\ttransition: transform var(--time-animation-btn);\n\tbox-shadow: 0 var(--shadow-len-txt) var(--shadow-len-txt) var(--col-txt);\n}\n\nbutton:active {\n\ttransform: translateY(-5px);\n}\n\n@media not all and (hover: none) {\n\tbutton:hover {\n\t\ttransform: translateY(-5px);\n\t}\n}\n\n.home__players-btns {\n\tdisplay: flex;\n\tgap: 1rem;\n\tjustify-content: space-evenly;\n\tflex-wrap: wrap;\n\twidth: 100%;\n\talign-items: center;\n}\n\n.home__players-btns button,\n.players-name__play-btn {\n\twidth: 8em;\n}\n\n.gameboard.aiming .cell.hit,\n.gameboard.aiming .cell.miss,\n.gameboard.aiming .hit-mark,\n.gameboard.aiming .miss-mark {\n\tcursor: not-allowed;\n}\n\n.gameboard.aiming .cell:not(.hit):not(.miss) {\n\tcursor: crosshair;\n}\n\n/* animation class */\n.no-transition {\n\ttransition: none !important;\n}\n\n.player__name-span {\n\ttransition: color var(--time-animation),\n\t\tbackground-color var(--time-animation);\n}\n\n.miss-mark,\n.hit-mark,\n.ship {\n\topacity: 1;\n\ttransform: scale(1);\n\ttransition: opacity var(--time-animation), transform var(--time-animation),\n\t\tbackground-color var(--time-animation);\n\ttransition-timing-function: ease;\n}\n\n.miss-mark {\n\ttransform: scale(0.6);\n}\n\n.miss-mark.initial-state,\n.hit-mark.initial-state,\n.ship.initial-state {\n\topacity: 0;\n}\n\n.miss-mark.initial-state {\n\ttransform: scale(0.3);\n}\n\n.hit-mark.initial-state {\n\ttransform: scale(2);\n}\n\n.ship.initial-state {\n\ttransform: scale(1);\n\ttransition-timing-function: ease-out;\n}\n\n.ship {\n\ttransition-timing-function: ease-in;\n}\n\n/* editing the deployed ship */\n.gameboard:has(.ship.on-drag) {\n\tcursor: move;\n}\n\n.gameboard:has(.ship.on-drag.forbidden-position),\nbody:has(.ship.on-drag.forbidden-position) {\n\tcursor: not-allowed;\n}\n\n@media not all and (hover: none) {\n\t.deploy-fleet:not(:has(.ship.on-drag)) .ship:hover {\n\t\tcursor: pointer;\n\t}\n}\n\n.ship.on-drag {\n\tz-index: 100 !important; /* set it on top of everything */\n\ttransition-timing-function: ease-out;\n\tfilter: drop-shadow(0 0 calc(0.5 * var(--shadow-len)) var(--col-black));\n}\n\n/* main footer */\n.main-footer {\n\tbackground-color: var(--col-black-alpha);\n\tcolor: var(--col-grey);\n\tfont-weight: normal;\n\tfont-family: var(--accent-font);\n\tfont-size: var(--footer-fontsize);\n\tpadding: var(--page-padding);\n}\n\n.main-footer__p {\n\tmax-width: min(100%, 50rem);\n\tpadding: var(--page-padding) 0\n\t\tcalc(var(--page-padding) + var(--fix-font-padding-bottom));\n\ttext-align: center;\n\ttext-wrap: balance;\n}\n\n.main-footer__p a {\n\t/* text-shadow: 2px 2px 2px var(--col-black); */\n\tcolor: var(--col-white);\n}\n\n@media not all and (hover: none) {\n\t.main-footer__p a:hover {\n\t\tcursor: pointer;\n\t\tcolor: var(--col-txt-accent);\n\t}\n}\n`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/styles.css\"],\"names\":[],\"mappings\":\"AAEA;;CAEC,oBAAoB;CACpB,4BAA4B;CAC5B,wCAAwC;CACxC,mCAAmC;CACnC,+BAA+B;CAC/B,mCAAmC;CACnC,qCAAqC;CACrC,+BAA+B;CAC/B,qCAAqC;CACrC,8BAA8B;CAC9B,wCAAwC;CACxC,gDAAgD;CAChD,oCAAoC;;CAEpC,uBAAuB;CACvB,qCAAqC;CACrC,uCAAuC;CACvC,mDAAmD;CACnD,uCAAuC;CACvC,iCAAiC;CACjC,kDAAkD;CAClD;;;;EAIC;CACD,oCAAoC;;CAEpC,uBAAuB;CACvB,2BAA2B;CAC3B,+BAA+B;CAC/B,mCAAmC;;CAEnC,gBAAgB;CAChB,qCAAqC;CACrC,+BAA+B;;CAE/B,eAAe;CACf,oBAAoB;CACpB,mBAAmB;CACnB,kBAAkB;CAClB,oBAAoB;CACpB,oCAAoC;CACpC,wBAAwB;CACxB,2BAA2B;CAC3B,yBAAyB;CACzB,+BAA+B;CAC/B,4BAA4B;CAC5B,uBAAuB;CACvB,8BAA8B;CAC9B,8BAA8B;CAC9B,yBAAyB;;CAEzB,8BAA8B;;CAE9B,mCAAmC;CACnC,oBAAoB;;CAEpB,+CAA+C;CAC/C,8BAA8B;;CAE9B,WAAW;CACX,wBAAwB;;CAExB,uCAAuC;CACvC,gCAAgC;CAChC,4BAA4B;CAC5B,+BAA+B;CAC/B,qBAAqB;CACrB,gDAAgD;CAChD,+CAA+C;CAC/C,wBAAwB;CACxB;8DAC6D;CAC7D,6BAA6B;CAC7B,mBAAmB;;CAEnB,wBAAwB;;CAExB,YAAY;CACZ;;gEAE+D;;CAE/D,sCAAsC;CACtC,0BAA0B;AAC3B;;AAEA,iBAAiB;AACjB,wCAAwC;AACxC,mBAAmB;AACnB,MAAM;;AAEN;CACC,+BAA+B;CAC/B,qBAAqB;CACrB,yCAAyC;CACzC,gBAAgB;CAChB,8BAA8B;CAC9B,kCAAkC;CAClC,iBAAiB;AAClB;;AAEA;;;CAGC,oBAAoB;CACpB,kBAAkB,EAAE,SAAS;CAC7B,oBAAoB;CACpB,cAAc;CACd,sBAAsB;CACtB,UAAU;CACV,SAAS;CACT,wBAAwB;CACxB,wCAAwC;AACzC;;AAEA;CACC,cAAc;CACd,iBAAiB,EAAE,oCAAoC;CACvD,kBAAkB,EAAE,iBAAiB;;CAErC,iCAAiC;CACjC,YAAY;;CAEZ,WAAW;CACX,uDAAuD;;CAEvD,0BAA0B,EAAE,+CAA+C;CAC3E,uBAAuB;CACvB,+BAA+B;CAC/B,4BAA4B;AAC7B;;AAEA,sDAAsD;;AAEtD,eAAe;;AAEf;CACC,aAAa;CACb,sBAAsB;CACtB,mBAAmB;CACnB,cAAc;CACd,aAAa;CACb,cAAc;AACf;;AAEA;CACC,WAAW;AACZ;;AAEA,uBAAuB;AACvB,qBAAqB;AACrB,iBAAiB;AACjB,iCAAiC;AACjC,oBAAoB;AACpB,MAAM;;AAEN,WAAW;AACX,iBAAiB;AACjB,iCAAiC;AACjC,wBAAwB;AACxB,oBAAoB;AACpB,oBAAoB;AACpB,MAAM;;AAEN;CACC,iBAAiB,EAAE,cAAc;AAClC;;AAEA;;CAEC,gBAAgB;AACjB;;AAEA;;;;CAIC,qBAAqB;AACtB;;AAEA;CACC,eAAe;AAChB;;AAEA,2BAA2B;AAC3B;CACC,UAAU;AACX;;AAEA,gFAAgF;AAChF;AACA;;AAEA,yBAAyB;AACzB;CACC,UAAU,EAAE,kCAAkC;CAC9C,WAAW,EAAE,mCAAmC;AACjD;;AAEA;CACC,uBAAuB,EAAE,+BAA+B;AACzD;;AAEA;CACC,gBAAgB,EAAE,8BAA8B;CAChD,kBAAkB;AACnB;;AAEA;CACC,gBAAgB,EAAE,uCAAuC;AAC1D;;AAEA,6BAA6B;AAC7B;;;;;;;;;CASC,aAAa;CACb,sBAAsB;CACtB,OAAO;AACR;;AAEA;CACC;EACC,mBAAmB;CACpB;AACD;;AAEA;;;;;;;;CAQC,gBAAgB;CAChB,aAAa;CACb,YAAY;AACb;;AAEA;;CAEC,WAAW;CACX,YAAY;CACZ,uBAAuB;AACxB;;AAEA;CACC,uBAAuB;AACxB;;AAEA;CACC,kBAAkB;AACnB;;AAEA;CACC,gBAAgB;CAChB,eAAe;CACf,cAAc;CACd,gBAAgB;AACjB;;AAEA,gDAAgD;AAChD;;;;;CAKC,4BAA4B;CAC5B,oBAAoB;AACrB;;AAEA;;;CAGC,uBAAuB;AACxB;;AAEA;CACC;;EAEC,oBAAoB;CACrB;AACD;;AAEA,wBAAwB;AACxB;;CAEC,aAAa;CACb,uBAAuB;AACxB;;AAEA;;CAEC,aAAa;CACb,uBAAuB;AACxB;;AAEA;;CAEC,kBAAkB;CAClB,sCAAsC;CACtC,cAAc;AACf;;AAEA,2BAA2B;AAC3B;CACC,0BAA0B;AAC3B;;AAEA,sBAAsB;AACtB;CACC,wCAAwC;AACzC;;AAEA,cAAc;AACd;;;CAGC,mBAAmB;CACnB,8BAA8B;CAC9B,sBAAsB;AACvB;;AAEA,sBAAsB;AACtB;CACC,aAAa;CACb,6DAA6D;CAC7D,qCAAqC;CACrC,mBAAmB;AACpB;;AAEA;CACC,mCAAmC;CACnC,8BAA8B;CAC9B,YAAY;CACZ,mCAAmC;CACnC,wEAAwE;CACxE,aAAa;CACb,sBAAsB;CACtB,mBAAmB;AACpB;;AAEA;CACC,aAAa;CACb,kDAAkD;AACnD;;AAEA;;CAEC,oBAAoB;CACpB,uCAAuC;AACxC;;AAEA;;CAEC,sBAAsB;AACvB;;AAEA;;CAEC,UAAU;CACV,oBAAoB;AACrB;;AAEA;CACC;;EAEC,sBAAsB;CACvB;AACD;;AAEA;CACC,cAAc;AACf;;AAEA;CACC,cAAc;AACf;;AAEA;;;;CAIC,yBAAyB;CACzB,yEAAyE;CACzE,kBAAkB;CAClB,sBAAsB;AACvB;;AAEA;;CAEC,sCAAsC;CACtC,kCAAkC;CAClC,6BAA6B;CAC7B,qBAAqB;CACrB,kBAAkB;CAClB;;EAEC;CACD,iBAAiB;CACjB,iBAAiB;CACjB;;;EAGC;AACF;;AAEA;CACC;;;EAGC;CACD,aAAa;CACb,YAAY;CACZ,2CAA2C;CAC3C,UAAU;AACX;;AAEA;CACC,sBAAsB;AACvB;;AAEA;CACC,0CAA0C;AAC3C;;AAEA;CACC,uCAAuC;AACxC;;AAEA;CACC,oCAAoC;CACpC,+BAA+B;CAC/B;0DACyD;CACzD,iBAAiB;CACjB,YAAY;AACb;;AAEA;CACC;EACC,gEAAgE;EAChE,kCAAkC;CACnC;;CAEA;EACC,2DAA2D;CAC5D;AACD;;AAEA,2BAA2B;AAC3B;;;;CAIC,sBAAsB;CACtB,2BAA2B;CAC3B,4BAA4B;AAC7B;;AAEA;CACC,yCAAyC;CACzC,yDAA4D;CAC5D,4DAA4D;AAC7D;;AAEA;CACC,yDAAkE;AACnE;;AAEA;CACC,yDAAoE;AACrE;;AAEA;CACC,yDAAkE;AACnE;;AAEA;;CAEC,yDAA6D;AAC9D;;AAEA;CACC,yDAA+D;AAChE;;AAEA;CACC,yDAAqE;AACtE;;AAEA;CACC,yDAA+D;CAC/D,mEAAmE;AACpE;;AAEA;CACC,yDAAgE;CAChE,oEAAoE;AACrE;;AAEA,iBAAiB;AACjB;CACC,yBAAyB;CACzB,yEAAyE;CACzE,mBAAmB;CACnB,8CAA8C;CAC9C,iCAAiC;AAClC;;AAEA;CACC,iBAAiB;CACjB,kCAAkC;CAClC,6BAA6B;CAC7B,qBAAqB;CACrB,kBAAkB;CAClB;;EAEC;CACD,iBAAiB;AAClB;;AAEA;CACC,+BAA+B;CAC/B,sCAAsC;AACvC;;AAEA,uBAAuB;AACvB;;CAEC,kBAAkB;CAClB,8BAA8B;CAC9B,kBAAkB;CAClB,yBAAyB;CACzB,yEAAyE;CACzE,gBAAgB;AACjB;;AAEA;CACC,kBAAkB;AACnB;;AAEA;CACC,kBAAkB;CAClB,4CAA4C;CAC5C,+BAA+B;CAC/B,gBAAgB;CAChB,kBAAkB;CAClB,sBAAsB;AACvB;;AAEA,UAAU;AACV;CACC,2DAA2D;AAC5D;;AAEA;CACC,8CAA8C;AAC/C;;AAEA;CACC,iCAAiC;AAClC;;AAEA;CACC,wCAAwC;AACzC;;AAEA;CACC,yBAAyB;AAC1B;;AAEA;;;CAGC,sCAAsC;AACvC;;AAEA;;;CAGC,yBAAyB;AAC1B;;AAEA,UAAU;AACV;;;;;;CAMC,kBAAkB;CAClB,kBAAkB;AACnB;;AAEA;;;CAGC,gCAAgC;CAChC,+BAA+B;CAC/B,iBAAiB;CACjB,kCAAkC;CAClC,6BAA6B;CAC7B,qBAAqB;CACrB,kBAAkB;CAClB;;EAEC;CACD,cAAc;CACd,qBAAqB;AACtB;;AAEA;;;CAGC,yBAAyB;CACzB,mCAAmC;CACnC,yEAAyE;AAC1E;;AAEA,YAAY;AACZ;CACC,oCAAoC;CACpC,+BAA+B;CAC/B,kCAAkC;CAClC,iBAAiB;CACjB,YAAY;CACZ,mCAAmC;CACnC,iCAAiC;CACjC,+CAA+C;CAC/C,wEAAwE;AACzE;;AAEA;CACC,2BAA2B;AAC5B;;AAEA;CACC;EACC,2BAA2B;CAC5B;AACD;;AAEA;CACC,aAAa;CACb,SAAS;CACT,6BAA6B;CAC7B,eAAe;CACf,WAAW;CACX,mBAAmB;AACpB;;AAEA;;CAEC,UAAU;AACX;;AAEA;;;;CAIC,mBAAmB;AACpB;;AAEA;CACC,iBAAiB;AAClB;;AAEA,oBAAoB;AACpB;CACC,2BAA2B;AAC5B;;AAEA;CACC;wCACuC;AACxC;;AAEA;;;CAGC,UAAU;CACV,mBAAmB;CACnB;wCACuC;CACvC,gCAAgC;AACjC;;AAEA;CACC,qBAAqB;AACtB;;AAEA;;;CAGC,UAAU;AACX;;AAEA;CACC,qBAAqB;AACtB;;AAEA;CACC,mBAAmB;AACpB;;AAEA;CACC,mBAAmB;CACnB,oCAAoC;AACrC;;AAEA;CACC,mCAAmC;AACpC;;AAEA,8BAA8B;AAC9B;CACC,YAAY;AACb;;AAEA;;CAEC,mBAAmB;AACpB;;AAEA;CACC;EACC,eAAe;CAChB;AACD;;AAEA;CACC,uBAAuB,EAAE,gCAAgC;CACzD,oCAAoC;CACpC,uEAAuE;AACxE;;AAEA,gBAAgB;AAChB;CACC,wCAAwC;CACxC,sBAAsB;CACtB,mBAAmB;CACnB,+BAA+B;CAC/B,iCAAiC;CACjC,4BAA4B;AAC7B;;AAEA;CACC,2BAA2B;CAC3B;4DAC2D;CAC3D,kBAAkB;CAClB,kBAAkB;AACnB;;AAEA;CACC,+CAA+C;CAC/C,uBAAuB;AACxB;;AAEA;CACC;EACC,eAAe;EACf,4BAA4B;CAC7B;AACD\",\"sourcesContent\":[\"@import url(\\\"https://fonts.googleapis.com/css2?family=Passero+One&family=Labrada&display=swap\\\");\\n\\n:root,\\n::backdrop {\\n\\t/* Colors (palette)*/\\n\\t--col-black: rgb(20, 20, 20);\\n\\t--col-black-alpha: rgba(20, 20, 20, 0.5);\\n\\t--col-grey: rgb(200, 200, 200, 0.8);\\n\\t--col-white: rgb(255, 255, 255);\\n\\t--col-orange-dark: rgb(224, 60, 36);\\n\\t--col-orange-light: rgb(249, 167, 34);\\n\\t--col-orange: rgb(245, 117, 16);\\n\\t--col-darker-sea-blue: rgb(1, 64, 79);\\n\\t--col-sea-blue: rgb(6, 70, 84);\\n\\t--col-lighter-sea-blue: rgb(51, 99, 109);\\n\\t--col-darker-sea-blue-alpha: rgb(1, 64, 79, 0.7);\\n\\t--col-red-alpha: rgb(255, 0, 0, 0.5);\\n\\n\\t/* Colors (background)*/\\n\\t--bg-col: var(--col-lighter-sea-blue);\\n\\t--gameboard-bg-col: var(--col-sea-blue);\\n\\t--cell-border-col: var(--col-darker-sea-blue-alpha);\\n\\t--cell-hit-col: var(--col-orange-light);\\n\\t--cell-miss-col: var(--col-white);\\n\\t--col-sunk-ship-overlay: var(var(--col-red-alpha));\\n\\t--orange-gradient: linear-gradient(\\n\\t\\tvar(--col-orange-light),\\n\\t\\tvar(--col-orange),\\n\\t\\tvar(--col-orange-dark)\\n\\t);\\n\\t--txt-bg-col: var(--col-black-alpha);\\n\\n\\t/* Colors (text/icons)*/\\n\\t--col-txt: var(--col-black);\\n\\t--col-txt-alt: var(--col-white);\\n\\t--col-txt-accent: var(--col-orange);\\n\\n\\t/* Font family */\\n\\t--main-font: \\\"Passero One\\\", monospace;\\n\\t--accent-font: \\\"Labrada\\\", serif;\\n\\n\\t/* Font sizes */\\n\\t--txt-fontsize: 18px;\\n\\t--txt-lineheight: 1;\\n\\t--h1-fontsize: 1.2;\\n\\t--msg-fontsize: 1rem;\\n\\t--edit-instructions-fontsize: 0.8rem;\\n\\t--title-fontsize: 3.2rem;\\n\\t--subtitle-fontsize: 1.2rem;\\n\\t--button-fontsize: 1.5rem;\\n\\t--player-title-fontsize: 1.5rem;\\n\\t--player-vs-fontsize: 1.5rem;\\n\\t--player-fontsize: 1rem;\\n\\t--player-name-fontsize: 1.2rem;\\n\\t--game-button-fontsize: 0.8rem;\\n\\t--footer-fontsize: 0.8rem;\\n\\n\\t--fix-font-padding-bottom: 5px;\\n\\n\\t/* Text clamping: number of lines */\\n\\t/* --max-lines: 4; */\\n\\n\\t/* Maximum width (including dashboard margin) */\\n\\t--max-width: min(1440px, 100%);\\n\\n\\t/* Radius */\\n\\t--button-radius: 0.25rem;\\n\\n\\t/*Margins, gaps and paddings (+widths)*/\\n\\t--page-padding: min(1rem, 2vmin);\\n\\t--page-gap: min(1rem, 2vmin);\\n\\t--players-gap: min(2rem, 3vmin);\\n\\t--shadow-len: 0.75rem;\\n\\t--shadow-len-mark: calc((var(--shadow-len)) / 4);\\n\\t--shadow-len-txt: calc((var(--shadow-len)) / 4);\\n\\t--button-padding: 0.5rem;\\n\\t--button-padding-fixed: var(--button-padding) var(--button-padding)\\n\\t\\tcalc(var(--button-padding) + var(--fix-font-padding-bottom));\\n\\t--input-padding-bottom: 0.1em;\\n\\t--vs-padding: 2vmax;\\n\\n\\t/* Images / icons size */\\n\\n\\t/* Shadows */\\n\\t/* --outset-shadow: 2px 2px 8px var(--col-accent-medium);\\n    --outset-shadow-btn-active: 2px 2px 5px var(--col-accent-medium);\\n    --inset-shadow: 2px 2px 2px var(--col-accent-light) inset; */\\n\\n\\t/* Animations on hover / active / ...*/\\n\\t--time-animation-btn: 0.2s;\\n}\\n\\n/* ::backdrop { */\\n/* background-color: var(--col-black); */\\n/* opacity: 0.75; */\\n/* } */\\n\\nhtml {\\n\\tbackground-color: var(--bg-col);\\n\\tcolor: var(--col-txt);\\n\\tfont-family: var(--main-font), sans-serif;\\n\\tfont-weight: 400;\\n\\tfont-size: var(--txt-fontsize);\\n\\tline-height: var(--txt-lineheight);\\n\\tuser-select: none;\\n}\\n\\n*,\\n*:before,\\n*:after {\\n\\tfont-family: inherit;\\n\\tfont-size: inherit; /* 100% */\\n\\tline-height: inherit;\\n\\tcolor: inherit;\\n\\tbox-sizing: border-box;\\n\\tpadding: 0;\\n\\tmargin: 0;\\n\\tvertical-align: baseline;\\n\\t-webkit-tap-highlight-color: transparent;\\n}\\n\\nbody {\\n\\tmargin: 0 auto;\\n\\tmin-height: 100vh; /*it is assumed the same for <html>*/\\n\\tmin-height: 100dvh; /* if supported */\\n\\n\\t/* if you want to allow scroll: */\\n\\theight: 100%;\\n\\n\\twidth: 100%;\\n\\t/* or max-width -- this avoids horizontal scroll bars */\\n\\n\\ttouch-action: manipulation; /* disable double tap to zoom on some browsers*/\\n\\t/* user-select: none; */\\n\\tbackground-color: var(--bg-col);\\n\\tbackground-attachment: fixed;\\n}\\n\\n/*****************************************************/\\n\\n/* || Generic */\\n\\nmain {\\n\\tdisplay: flex;\\n\\tflex-direction: column;\\n\\talign-items: center;\\n\\toverflow: auto;\\n\\theight: 100vh;\\n\\theight: 100dvh;\\n}\\n\\nmain > * {\\n\\twidth: 100%;\\n}\\n\\n/* .header-container, */\\n/* .main-container{ */\\n/* width: 100%; */\\n/* max-width: var(--max-width); */\\n/* margin: 0 auto; */\\n/* } */\\n\\n/* main { */\\n/* width: 100%; */\\n/* max-width: var(--max-width); */\\n/* min-height: 100dvh; */\\n/* flex-shrink: 0; */\\n/* margin: 0 auto; */\\n/* } */\\n\\np {\\n\\ttext-wrap: pretty; /*or balance */\\n}\\n\\nul,\\nol {\\n\\tlist-style: none;\\n}\\n\\na,\\na:hover,\\na:active,\\na:visited {\\n\\ttext-decoration: none;\\n}\\n\\nbutton {\\n\\tcursor: pointer;\\n}\\n\\n/* when hover is supporte */\\n@media not all and (hover: none) {\\n\\t/* styles*/\\n}\\n\\n/* tablet or larger, or landscape (vs portrait), 641px (phone), 961px (tablet) */\\n@media only screen and (min-width: 768px), (orientation: landscape) {\\n}\\n\\n/* Customize scrollbars */\\n::-webkit-scrollbar {\\n\\twidth: 4px; /* width of the entire scrollbar */\\n\\theight: 4px; /* height of the entire scrollbar */\\n}\\n\\n::-webkit-scrollbar-track {\\n\\tbackground: transparent; /* color of the tracking area */\\n}\\n\\n::-webkit-scrollbar-thumb {\\n\\tbackground: #888; /* color of the scroll thumb */\\n\\tborder-radius: 2px;\\n}\\n\\n::-webkit-scrollbar-thumb:hover {\\n\\tbackground: #555; /* color of the scroll thumb on hover */\\n}\\n\\n/* Structural styles ------ */\\n.game,\\n.game-end,\\n.deploy-fleet,\\n.home,\\n.game__players-div,\\n.game__player-div,\\n.deploy-fleet__player-div,\\n.player,\\n.players-name {\\n\\tdisplay: flex;\\n\\tflex-direction: column;\\n\\tflex: 1;\\n}\\n\\n@media only screen and (orientation: landscape) {\\n\\t.game__players-div {\\n\\t\\tflex-direction: row;\\n\\t}\\n}\\n\\n.game,\\n.game__players-div,\\n.game__player-div,\\n.deploy-fleet,\\n.deploy-fleet__player-div,\\n.player,\\n.player__gameboard,\\n.cell {\\n\\toverflow: hidden;\\n\\tmin-height: 0;\\n\\tmin-width: 0;\\n}\\n\\n.game__player-div,\\n.deploy-fleet__player-div {\\n\\twidth: 100%;\\n\\theight: 100%;\\n\\tjustify-content: center;\\n}\\n\\n.player {\\n\\tjustify-content: center;\\n}\\n\\n.player__player-h3 {\\n\\ttext-align: center;\\n}\\n\\n.gameboard {\\n\\tmax-height: 100%;\\n\\tmax-width: 100%;\\n\\tmargin: 0 auto;\\n\\toverflow: hidden;\\n}\\n\\n/* Colors, dimensions, and padding styles ---- */\\n.game,\\n.game-end,\\n.deploy-fleet,\\n.home,\\n.players-name {\\n\\tpadding: var(--page-padding);\\n\\tgap: var(--page-gap);\\n}\\n\\n.game,\\n.game__players-div,\\n.deploy-fleet {\\n\\tgap: var(--players-gap);\\n}\\n\\n@media only screen and (orientation: landscape) {\\n\\t.game,\\n\\t.deploy-fleet {\\n\\t\\tgap: var(--page-gap);\\n\\t}\\n}\\n\\n/* Custom Header style */\\n.game__header,\\n.deploy-fleet__header {\\n\\tdisplay: flex;\\n\\tjustify-content: center;\\n}\\n\\n.game__btns,\\n.deploy-fleet__btns {\\n\\tdisplay: flex;\\n\\tgap: var(--players-gap);\\n}\\n\\n.deploy-fleet__header button,\\n.game__header button {\\n\\ttext-align: center;\\n\\tfont-size: var(--game-button-fontsize);\\n\\tmin-width: 7em;\\n}\\n\\n/* Custom gameboard style */\\n.gameboard {\\n\\tpadding: var(--shadow-len);\\n}\\n\\n/* Custom cell style */\\n.cell {\\n\\tborder: 1px solid var(--cell-border-col);\\n}\\n\\n/* Page view */\\n.game-end,\\n.home,\\n.players-name {\\n\\talign-items: center;\\n\\tjustify-content: space-between;\\n\\tmargin: 1rem auto 10vh;\\n}\\n\\n/* Players name view */\\n.players-name__players-cnt-div {\\n\\tdisplay: grid;\\n\\tgrid-template-rows: minmax(0, 1fr) min-content minmax(0, 1fr);\\n\\tgrid-template-columns: minmax(0, 1fr);\\n\\talign-items: center;\\n}\\n\\n.players-name__player-div {\\n\\tbackground-color: var(--txt-bg-col);\\n\\tpadding: var(--button-padding);\\n\\tborder: none;\\n\\tborder-radius: var(--button-radius);\\n\\tbox-shadow: 0 var(--shadow-len-txt) var(--shadow-len-txt) var(--col-txt);\\n\\tdisplay: flex;\\n\\tflex-direction: column;\\n\\talign-items: center;\\n}\\n\\n.players-name__ai-player-div {\\n\\tdisplay: grid;\\n\\tgrid-template-columns: min-content 1fr min-content;\\n}\\n\\n.players-name__prev-ai-btn,\\n.players-name__next-ai-btn {\\n\\tgrid-row: 1 / span 2;\\n\\tfont-size: var(--player-title-fontsize);\\n}\\n\\n.players-name__prev-ai-btn:active,\\n.players-name__next-ai-btn:active {\\n\\ttransform: scaleX(0.9);\\n}\\n\\n.players-name__prev-ai-btn:disabled,\\n.players-name__next-ai-btn:disabled {\\n\\topacity: 0;\\n\\tpointer-events: none;\\n}\\n\\n@media not all and (hover: none) {\\n\\t.players-name__prev-ai-btn:hover,\\n\\t.players-name__next-ai-btn:hover {\\n\\t\\ttransform: scaleX(0.9);\\n\\t}\\n}\\n\\n.players-name__prev-ai-btn {\\n\\tgrid-column: 1;\\n}\\n\\n.players-name__next-ai-btn {\\n\\tgrid-column: 3;\\n}\\n\\n.players-name__player-name-p,\\n.players-name__player-name-input,\\n.players-name__player-title-p,\\n.players-name__vs-p {\\n\\tcolor: var(--col-txt-alt);\\n\\ttext-shadow: 0 var(--shadow-len-txt) var(--shadow-len-txt) var(--col-txt);\\n\\ttext-align: center;\\n\\tvertical-align: middle;\\n}\\n\\n.players-name__player-name-p,\\n.players-name__player-name-input {\\n\\tfont-size: var(--player-name-fontsize);\\n\\tbackground: var(--orange-gradient);\\n\\t-webkit-background-clip: text;\\n\\tbackground-clip: text;\\n\\tcolor: transparent;\\n\\tfilter: drop-shadow(\\n\\t\\t0 var(--shadow-len-txt) var(--shadow-len-txt) var(--col-txt)\\n\\t);\\n\\ttext-shadow: none;\\n\\tfont-weight: bold;\\n\\theight: calc(\\n\\t\\tvar(--txt-lineheight) * var(--player-name-fontsize) +\\n\\t\\t\\tvar(--input-padding-bottom) + 2px\\n\\t);\\n}\\n\\n.players-name__player-name-input {\\n\\theight: calc(\\n\\t\\tvar(--line-height) * var(--player-name-fontsize) +\\n\\t\\t\\tvar(--input-padding-bottom)\\n\\t);\\n\\toutline: none;\\n\\tborder: none;\\n\\tborder-bottom: 2px solid var(--col-txt-alt);\\n\\twidth: 80%;\\n}\\n\\n.players-name__player-name-input::placeholder {\\n\\tcolor: var(--col-grey);\\n}\\n\\n.players-name__player-name-input:feocus {\\n\\tborder-bottom-color: var(--col-txt-accent);\\n}\\n\\n.players-name__player-title-p {\\n\\tfont-size: var(--player-title-fontsize);\\n}\\n\\n.players-name__vs-p {\\n\\tfont-size: var(--player-vs-fontsize);\\n\\tfont-family: var(--accent-font);\\n\\tpadding: var(--vs-padding) 0\\n\\t\\tcalc(var(--fix-font-padding-bottom) + var(--vs-padding));\\n\\tfont-weight: bold;\\n\\topacity: 0.8;\\n}\\n\\n@media only screen and (orientation: landscape) {\\n\\t.players-name__players-cnt-div {\\n\\t\\tgrid-template-columns: minmax(0, 1fr) min-content minmax(0, 1fr);\\n\\t\\tgrid-template-rows: minmax(0, 1fr);\\n\\t}\\n\\n\\t.players-name__vs-p {\\n\\t\\tpadding: 0 var(--vs-padding) var(--fix-font-padding-bottom);\\n\\t}\\n}\\n\\n/* Background and shadows */\\nbody,\\n.gameboard,\\n.hit-mark,\\n.miss-mark {\\n\\tbackground-size: cover;\\n\\tbackground-position: center;\\n\\tbackground-repeat: no-repeat;\\n}\\n\\n.gameboard {\\n\\tbackground-color: var(--gameboard-bg-col);\\n\\tbackground-image: url(\\\"./assets/images/backgrounds/sea.jpg\\\");\\n\\tbox-shadow: 0px 0px var(--shadow-len) var(--col-black) inset;\\n}\\n\\nbody:has(.game-end.winner-2p) {\\n\\tbackground-image: url(\\\"./assets/images/backgrounds/winner-2p.jpg\\\");\\n}\\n\\nbody:has(.game-end.defeated-1p) {\\n\\tbackground-image: url(\\\"./assets/images/backgrounds/defeated-1p.jpg\\\");\\n}\\n\\nbody:has(.game-end.winner-1p) {\\n\\tbackground-image: url(\\\"./assets/images/backgrounds/winner-1p.jpg\\\");\\n}\\n\\nbody:has(.home),\\nbody:has(.players-name) {\\n\\tbackground-image: url(\\\"./assets/images/backgrounds/home.jpg\\\");\\n}\\n\\nbody:has(.game) {\\n\\tbackground-image: url(\\\"./assets/images/backgrounds/battle.jpg\\\");\\n}\\n\\nbody:has(.deploy-fleet) {\\n\\tbackground-image: url(\\\"./assets/images/backgrounds/deploy-fleet.jpg\\\");\\n}\\n\\n.hit-mark {\\n\\tbackground-image: url(\\\"./assets/images/hit_miss_marks/hit.png\\\");\\n\\tfilter: drop-shadow(0 0 var(--shadow-len-mark) var(--cell-hit-col));\\n}\\n\\n.miss-mark {\\n\\tbackground-image: url(\\\"./assets/images/hit_miss_marks/miss.png\\\");\\n\\tfilter: drop-shadow(0 0 var(--shadow-len-mark) var(--cell-miss-col));\\n}\\n\\n/* Players info */\\n.player__player-h3 {\\n\\tcolor: var(--col-txt-alt);\\n\\ttext-shadow: 0 var(--shadow-len-txt) var(--shadow-len-txt) var(--col-txt);\\n\\tfont-weight: normal;\\n\\tpadding-bottom: var(--fix-font-padding-bottom);\\n\\tfont-size: var(--player-fontsize);\\n}\\n\\n.currentPlayer .player__name-span {\\n\\tfont-weight: bold;\\n\\tbackground: var(--orange-gradient);\\n\\t-webkit-background-clip: text;\\n\\tbackground-clip: text;\\n\\tcolor: transparent;\\n\\tfilter: drop-shadow(\\n\\t\\t0 var(--shadow-len-txt) var(--shadow-len-txt) var(--col-txt)\\n\\t);\\n\\ttext-shadow: none;\\n}\\n\\n.player__name-span {\\n\\tfont-family: var(--accent-font);\\n\\tfont-size: var(--player-name-fontsize);\\n}\\n\\n/* Custom msg p style */\\n.game__msg-p,\\n.deploy-fleet__msg-p {\\n\\ttext-align: center;\\n\\tfont-size: var(--msg-fontsize);\\n\\ttext-wrap: balance;\\n\\tcolor: var(--col-txt-alt);\\n\\ttext-shadow: 0 var(--shadow-len-txt) var(--shadow-len-txt) var(--col-txt);\\n\\tmargin-top: auto;\\n}\\n\\n.game__msg-p.hidden {\\n\\tvisibility: hidden;\\n}\\n\\n.deploy-fleet__edit-instructions-p {\\n\\ttext-align: center;\\n\\tfont-size: var(--edit-instructions-fontsize);\\n\\tfont-family: var(--accent-font);\\n\\tline-height: 1.2;\\n\\ttext-wrap: balance;\\n\\tcolor: var(--col-grey);\\n}\\n\\n/* Ships */\\n.ship {\\n\\tfilter: drop-shadow(0 0 var(--shadow-len) var(--col-black));\\n}\\n\\n.ship.sunk .ship__mask {\\n\\tbackground-color: var(--col-sunk-ship-overlay);\\n}\\n\\n.shadow-ship {\\n\\tbackground-image: none !important;\\n}\\n\\n.shadow-ship .ship__mask {\\n\\tbackground-color: var(--col-black-alpha);\\n}\\n\\n.shadow-ship:not(.out-of-bound):not(.fallback) .ship__mask {\\n\\tdisplay: block !important;\\n}\\n\\n.gameboard:has(.ship.on-drag.forbidden-position)\\n\\t.shadow-ship:not(.fallback)\\n\\t.ship__mask {\\n\\tbackground-color: var(--col-red-alpha);\\n}\\n\\n.gameboard:has(.ship.on-drag.forbidden-position)\\n\\t.shadow-ship.fallback\\n\\t.ship__mask {\\n\\tdisplay: block !important;\\n}\\n\\n/* Texts */\\n.game-end__title-h2,\\n.game-end__subtitle-p,\\n.home__title-h1,\\n.home__subtitle-p,\\n.players-name__title-h1,\\n.players-name__subtitle-p {\\n\\ttext-align: center;\\n\\ttext-wrap: balance;\\n}\\n\\n.game-end__title-h2,\\n.home__title-h1,\\n.players-name__title-h1 {\\n\\tfont-size: var(--title-fontsize);\\n\\tfont-family: var(--accent-font);\\n\\tfont-weight: bold;\\n\\tbackground: var(--orange-gradient);\\n\\t-webkit-background-clip: text;\\n\\tbackground-clip: text;\\n\\tcolor: transparent;\\n\\tfilter: drop-shadow(\\n\\t\\t0 var(--shadow-len-txt) var(--shadow-len-txt) var(--col-txt)\\n\\t);\\n\\tline-height: 1;\\n\\tpadding-bottom: 0.2em;\\n}\\n\\n.game-end__subtitle-p,\\n.home__subtitle-p,\\n.players-name__subtitle-p {\\n\\tcolor: var(--col-txt-alt);\\n\\tfont-size: var(--subtitle-fontsize);\\n\\ttext-shadow: 0 var(--shadow-len-txt) var(--shadow-len-txt) var(--col-txt);\\n}\\n\\n/* Buttons */\\nbutton {\\n\\tpadding: var(--button-padding-fixed);\\n\\tfont-family: var(--accent-font);\\n\\tbackground: var(--orange-gradient);\\n\\tfont-weight: bold;\\n\\tborder: none;\\n\\tborder-radius: var(--button-radius);\\n\\tfont-size: var(--button-fontsize);\\n\\ttransition: transform var(--time-animation-btn);\\n\\tbox-shadow: 0 var(--shadow-len-txt) var(--shadow-len-txt) var(--col-txt);\\n}\\n\\nbutton:active {\\n\\ttransform: translateY(-5px);\\n}\\n\\n@media not all and (hover: none) {\\n\\tbutton:hover {\\n\\t\\ttransform: translateY(-5px);\\n\\t}\\n}\\n\\n.home__players-btns {\\n\\tdisplay: flex;\\n\\tgap: 1rem;\\n\\tjustify-content: space-evenly;\\n\\tflex-wrap: wrap;\\n\\twidth: 100%;\\n\\talign-items: center;\\n}\\n\\n.home__players-btns button,\\n.players-name__play-btn {\\n\\twidth: 8em;\\n}\\n\\n.gameboard.aiming .cell.hit,\\n.gameboard.aiming .cell.miss,\\n.gameboard.aiming .hit-mark,\\n.gameboard.aiming .miss-mark {\\n\\tcursor: not-allowed;\\n}\\n\\n.gameboard.aiming .cell:not(.hit):not(.miss) {\\n\\tcursor: crosshair;\\n}\\n\\n/* animation class */\\n.no-transition {\\n\\ttransition: none !important;\\n}\\n\\n.player__name-span {\\n\\ttransition: color var(--time-animation),\\n\\t\\tbackground-color var(--time-animation);\\n}\\n\\n.miss-mark,\\n.hit-mark,\\n.ship {\\n\\topacity: 1;\\n\\ttransform: scale(1);\\n\\ttransition: opacity var(--time-animation), transform var(--time-animation),\\n\\t\\tbackground-color var(--time-animation);\\n\\ttransition-timing-function: ease;\\n}\\n\\n.miss-mark {\\n\\ttransform: scale(0.6);\\n}\\n\\n.miss-mark.initial-state,\\n.hit-mark.initial-state,\\n.ship.initial-state {\\n\\topacity: 0;\\n}\\n\\n.miss-mark.initial-state {\\n\\ttransform: scale(0.3);\\n}\\n\\n.hit-mark.initial-state {\\n\\ttransform: scale(2);\\n}\\n\\n.ship.initial-state {\\n\\ttransform: scale(1);\\n\\ttransition-timing-function: ease-out;\\n}\\n\\n.ship {\\n\\ttransition-timing-function: ease-in;\\n}\\n\\n/* editing the deployed ship */\\n.gameboard:has(.ship.on-drag) {\\n\\tcursor: move;\\n}\\n\\n.gameboard:has(.ship.on-drag.forbidden-position),\\nbody:has(.ship.on-drag.forbidden-position) {\\n\\tcursor: not-allowed;\\n}\\n\\n@media not all and (hover: none) {\\n\\t.deploy-fleet:not(:has(.ship.on-drag)) .ship:hover {\\n\\t\\tcursor: pointer;\\n\\t}\\n}\\n\\n.ship.on-drag {\\n\\tz-index: 100 !important; /* set it on top of everything */\\n\\ttransition-timing-function: ease-out;\\n\\tfilter: drop-shadow(0 0 calc(0.5 * var(--shadow-len)) var(--col-black));\\n}\\n\\n/* main footer */\\n.main-footer {\\n\\tbackground-color: var(--col-black-alpha);\\n\\tcolor: var(--col-grey);\\n\\tfont-weight: normal;\\n\\tfont-family: var(--accent-font);\\n\\tfont-size: var(--footer-fontsize);\\n\\tpadding: var(--page-padding);\\n}\\n\\n.main-footer__p {\\n\\tmax-width: min(100%, 50rem);\\n\\tpadding: var(--page-padding) 0\\n\\t\\tcalc(var(--page-padding) + var(--fix-font-padding-bottom));\\n\\ttext-align: center;\\n\\ttext-wrap: balance;\\n}\\n\\n.main-footer__p a {\\n\\t/* text-shadow: 2px 2px 2px var(--col-black); */\\n\\tcolor: var(--col-white);\\n}\\n\\n@media not all and (hover: none) {\\n\\t.main-footer__p a:hover {\\n\\t\\tcursor: pointer;\\n\\t\\tcolor: var(--col-txt-accent);\\n\\t}\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","\"use strict\";\n\n/*\n  MIT License http://www.opensource.org/licenses/mit-license.php\n  Author Tobias Koppers @sokra\n*/\nmodule.exports = function (cssWithMappingToString) {\n  var list = [];\n\n  // return the list of modules as css string\n  list.toString = function toString() {\n    return this.map(function (item) {\n      var content = \"\";\n      var needLayer = typeof item[5] !== \"undefined\";\n      if (item[4]) {\n        content += \"@supports (\".concat(item[4], \") {\");\n      }\n      if (item[2]) {\n        content += \"@media \".concat(item[2], \" {\");\n      }\n      if (needLayer) {\n        content += \"@layer\".concat(item[5].length > 0 ? \" \".concat(item[5]) : \"\", \" {\");\n      }\n      content += cssWithMappingToString(item);\n      if (needLayer) {\n        content += \"}\";\n      }\n      if (item[2]) {\n        content += \"}\";\n      }\n      if (item[4]) {\n        content += \"}\";\n      }\n      return content;\n    }).join(\"\");\n  };\n\n  // import a list of modules into the list\n  list.i = function i(modules, media, dedupe, supports, layer) {\n    if (typeof modules === \"string\") {\n      modules = [[null, modules, undefined]];\n    }\n    var alreadyImportedModules = {};\n    if (dedupe) {\n      for (var k = 0; k < this.length; k++) {\n        var id = this[k][0];\n        if (id != null) {\n          alreadyImportedModules[id] = true;\n        }\n      }\n    }\n    for (var _k = 0; _k < modules.length; _k++) {\n      var item = [].concat(modules[_k]);\n      if (dedupe && alreadyImportedModules[item[0]]) {\n        continue;\n      }\n      if (typeof layer !== \"undefined\") {\n        if (typeof item[5] === \"undefined\") {\n          item[5] = layer;\n        } else {\n          item[1] = \"@layer\".concat(item[5].length > 0 ? \" \".concat(item[5]) : \"\", \" {\").concat(item[1], \"}\");\n          item[5] = layer;\n        }\n      }\n      if (media) {\n        if (!item[2]) {\n          item[2] = media;\n        } else {\n          item[1] = \"@media \".concat(item[2], \" {\").concat(item[1], \"}\");\n          item[2] = media;\n        }\n      }\n      if (supports) {\n        if (!item[4]) {\n          item[4] = \"\".concat(supports);\n        } else {\n          item[1] = \"@supports (\".concat(item[4], \") {\").concat(item[1], \"}\");\n          item[4] = supports;\n        }\n      }\n      list.push(item);\n    }\n  };\n  return list;\n};","\"use strict\";\n\nmodule.exports = function (url, options) {\n  if (!options) {\n    options = {};\n  }\n  if (!url) {\n    return url;\n  }\n  url = String(url.__esModule ? url.default : url);\n\n  // If url is already wrapped in quotes, remove them\n  if (/^['\"].*['\"]$/.test(url)) {\n    url = url.slice(1, -1);\n  }\n  if (options.hash) {\n    url += options.hash;\n  }\n\n  // Should url be wrapped?\n  // See https://drafts.csswg.org/css-values-3/#urls\n  if (/[\"'() \\t\\n]|(%20)/.test(url) || options.needQuotes) {\n    return \"\\\"\".concat(url.replace(/\"/g, '\\\\\"').replace(/\\n/g, \"\\\\n\"), \"\\\"\");\n  }\n  return url;\n};","\"use strict\";\n\nmodule.exports = function (item) {\n  var content = item[1];\n  var cssMapping = item[3];\n  if (!cssMapping) {\n    return content;\n  }\n  if (typeof btoa === \"function\") {\n    var base64 = btoa(unescape(encodeURIComponent(JSON.stringify(cssMapping))));\n    var data = \"sourceMappingURL=data:application/json;charset=utf-8;base64,\".concat(base64);\n    var sourceMapping = \"/*# \".concat(data, \" */\");\n    return [content].concat([sourceMapping]).join(\"\\n\");\n  }\n  return [content].join(\"\\n\");\n};","/**\n * Copyright (c) 2010,2011,2012,2013,2014 Morgan Roderick http://roderick.dk\n * License: MIT - http://mrgnrdrck.mit-license.org\n *\n * https://github.com/mroderick/PubSubJS\n */\n\n(function (root, factory){\n    'use strict';\n\n    var PubSub = {};\n\n    if (root.PubSub) {\n        PubSub = root.PubSub;\n        console.warn(\"PubSub already loaded, using existing version\");\n    } else {\n        root.PubSub = PubSub;\n        factory(PubSub);\n    }\n    // CommonJS and Node.js module support\n    if (typeof exports === 'object'){\n        if (module !== undefined && module.exports) {\n            exports = module.exports = PubSub; // Node.js specific `module.exports`\n        }\n        exports.PubSub = PubSub; // CommonJS module 1.1.1 spec\n        module.exports = exports = PubSub; // CommonJS\n    }\n    // AMD support\n    /* eslint-disable no-undef */\n    else if (typeof define === 'function' && define.amd){\n        define(function() { return PubSub; });\n        /* eslint-enable no-undef */\n    }\n\n}(( typeof window === 'object' && window ) || this || global, function (PubSub){\n    'use strict';\n\n    var messages = {},\n        lastUid = -1,\n        ALL_SUBSCRIBING_MSG = '*';\n\n    function hasKeys(obj){\n        var key;\n\n        for (key in obj){\n            if ( Object.prototype.hasOwnProperty.call(obj, key) ){\n                return true;\n            }\n        }\n        return false;\n    }\n\n    /**\n     * Returns a function that throws the passed exception, for use as argument for setTimeout\n     * @alias throwException\n     * @function\n     * @param { Object } ex An Error object\n     */\n    function throwException( ex ){\n        return function reThrowException(){\n            throw ex;\n        };\n    }\n\n    function callSubscriberWithDelayedExceptions( subscriber, message, data ){\n        try {\n            subscriber( message, data );\n        } catch( ex ){\n            setTimeout( throwException( ex ), 0);\n        }\n    }\n\n    function callSubscriberWithImmediateExceptions( subscriber, message, data ){\n        subscriber( message, data );\n    }\n\n    function deliverMessage( originalMessage, matchedMessage, data, immediateExceptions ){\n        var subscribers = messages[matchedMessage],\n            callSubscriber = immediateExceptions ? callSubscriberWithImmediateExceptions : callSubscriberWithDelayedExceptions,\n            s;\n\n        if ( !Object.prototype.hasOwnProperty.call( messages, matchedMessage ) ) {\n            return;\n        }\n\n        for (s in subscribers){\n            if ( Object.prototype.hasOwnProperty.call(subscribers, s)){\n                callSubscriber( subscribers[s], originalMessage, data );\n            }\n        }\n    }\n\n    function createDeliveryFunction( message, data, immediateExceptions ){\n        return function deliverNamespaced(){\n            var topic = String( message ),\n                position = topic.lastIndexOf( '.' );\n\n            // deliver the message as it is now\n            deliverMessage(message, message, data, immediateExceptions);\n\n            // trim the hierarchy and deliver message to each level\n            while( position !== -1 ){\n                topic = topic.substr( 0, position );\n                position = topic.lastIndexOf('.');\n                deliverMessage( message, topic, data, immediateExceptions );\n            }\n\n            deliverMessage(message, ALL_SUBSCRIBING_MSG, data, immediateExceptions);\n        };\n    }\n\n    function hasDirectSubscribersFor( message ) {\n        var topic = String( message ),\n            found = Boolean(Object.prototype.hasOwnProperty.call( messages, topic ) && hasKeys(messages[topic]));\n\n        return found;\n    }\n\n    function messageHasSubscribers( message ){\n        var topic = String( message ),\n            found = hasDirectSubscribersFor(topic) || hasDirectSubscribersFor(ALL_SUBSCRIBING_MSG),\n            position = topic.lastIndexOf( '.' );\n\n        while ( !found && position !== -1 ){\n            topic = topic.substr( 0, position );\n            position = topic.lastIndexOf( '.' );\n            found = hasDirectSubscribersFor(topic);\n        }\n\n        return found;\n    }\n\n    function publish( message, data, sync, immediateExceptions ){\n        message = (typeof message === 'symbol') ? message.toString() : message;\n\n        var deliver = createDeliveryFunction( message, data, immediateExceptions ),\n            hasSubscribers = messageHasSubscribers( message );\n\n        if ( !hasSubscribers ){\n            return false;\n        }\n\n        if ( sync === true ){\n            deliver();\n        } else {\n            setTimeout( deliver, 0 );\n        }\n        return true;\n    }\n\n    /**\n     * Publishes the message, passing the data to it's subscribers\n     * @function\n     * @alias publish\n     * @param { String } message The message to publish\n     * @param {} data The data to pass to subscribers\n     * @return { Boolean }\n     */\n    PubSub.publish = function( message, data ){\n        return publish( message, data, false, PubSub.immediateExceptions );\n    };\n\n    /**\n     * Publishes the message synchronously, passing the data to it's subscribers\n     * @function\n     * @alias publishSync\n     * @param { String } message The message to publish\n     * @param {} data The data to pass to subscribers\n     * @return { Boolean }\n     */\n    PubSub.publishSync = function( message, data ){\n        return publish( message, data, true, PubSub.immediateExceptions );\n    };\n\n    /**\n     * Subscribes the passed function to the passed message. Every returned token is unique and should be stored if you need to unsubscribe\n     * @function\n     * @alias subscribe\n     * @param { String } message The message to subscribe to\n     * @param { Function } func The function to call when a new message is published\n     * @return { String }\n     */\n    PubSub.subscribe = function( message, func ){\n        if ( typeof func !== 'function'){\n            return false;\n        }\n\n        message = (typeof message === 'symbol') ? message.toString() : message;\n\n        // message is not registered yet\n        if ( !Object.prototype.hasOwnProperty.call( messages, message ) ){\n            messages[message] = {};\n        }\n\n        // forcing token as String, to allow for future expansions without breaking usage\n        // and allow for easy use as key names for the 'messages' object\n        var token = 'uid_' + String(++lastUid);\n        messages[message][token] = func;\n\n        // return token for unsubscribing\n        return token;\n    };\n\n    PubSub.subscribeAll = function( func ){\n        return PubSub.subscribe(ALL_SUBSCRIBING_MSG, func);\n    };\n\n    /**\n     * Subscribes the passed function to the passed message once\n     * @function\n     * @alias subscribeOnce\n     * @param { String } message The message to subscribe to\n     * @param { Function } func The function to call when a new message is published\n     * @return { PubSub }\n     */\n    PubSub.subscribeOnce = function( message, func ){\n        var token = PubSub.subscribe( message, function(){\n            // before func apply, unsubscribe message\n            PubSub.unsubscribe( token );\n            func.apply( this, arguments );\n        });\n        return PubSub;\n    };\n\n    /**\n     * Clears all subscriptions\n     * @function\n     * @public\n     * @alias clearAllSubscriptions\n     */\n    PubSub.clearAllSubscriptions = function clearAllSubscriptions(){\n        messages = {};\n    };\n\n    /**\n     * Clear subscriptions by the topic\n     * @function\n     * @public\n     * @alias clearAllSubscriptions\n     * @return { int }\n     */\n    PubSub.clearSubscriptions = function clearSubscriptions(topic){\n        var m;\n        for (m in messages){\n            if (Object.prototype.hasOwnProperty.call(messages, m) && m.indexOf(topic) === 0){\n                delete messages[m];\n            }\n        }\n    };\n\n    /**\n       Count subscriptions by the topic\n     * @function\n     * @public\n     * @alias countSubscriptions\n     * @return { Array }\n    */\n    PubSub.countSubscriptions = function countSubscriptions(topic){\n        var m;\n        // eslint-disable-next-line no-unused-vars\n        var token;\n        var count = 0;\n        for (m in messages) {\n            if (Object.prototype.hasOwnProperty.call(messages, m) && m.indexOf(topic) === 0) {\n                for (token in messages[m]) {\n                    count++;\n                }\n                break;\n            }\n        }\n        return count;\n    };\n\n\n    /**\n       Gets subscriptions by the topic\n     * @function\n     * @public\n     * @alias getSubscriptions\n    */\n    PubSub.getSubscriptions = function getSubscriptions(topic){\n        var m;\n        var list = [];\n        for (m in messages){\n            if (Object.prototype.hasOwnProperty.call(messages, m) && m.indexOf(topic) === 0){\n                list.push(m);\n            }\n        }\n        return list;\n    };\n\n    /**\n     * Removes subscriptions\n     *\n     * - When passed a token, removes a specific subscription.\n     *\n\t * - When passed a function, removes all subscriptions for that function\n     *\n\t * - When passed a topic, removes all subscriptions for that topic (hierarchy)\n     * @function\n     * @public\n     * @alias subscribeOnce\n     * @param { String | Function } value A token, function or topic to unsubscribe from\n     * @example // Unsubscribing with a token\n     * var token = PubSub.subscribe('mytopic', myFunc);\n     * PubSub.unsubscribe(token);\n     * @example // Unsubscribing with a function\n     * PubSub.unsubscribe(myFunc);\n     * @example // Unsubscribing from a topic\n     * PubSub.unsubscribe('mytopic');\n     */\n    PubSub.unsubscribe = function(value){\n        var descendantTopicExists = function(topic) {\n                var m;\n                for ( m in messages ){\n                    if ( Object.prototype.hasOwnProperty.call(messages, m) && m.indexOf(topic) === 0 ){\n                        // a descendant of the topic exists:\n                        return true;\n                    }\n                }\n\n                return false;\n            },\n            isTopic    = typeof value === 'string' && ( Object.prototype.hasOwnProperty.call(messages, value) || descendantTopicExists(value) ),\n            isToken    = !isTopic && typeof value === 'string',\n            isFunction = typeof value === 'function',\n            result = false,\n            m, message, t;\n\n        if (isTopic){\n            PubSub.clearSubscriptions(value);\n            return;\n        }\n\n        for ( m in messages ){\n            if ( Object.prototype.hasOwnProperty.call( messages, m ) ){\n                message = messages[m];\n\n                if ( isToken && message[value] ){\n                    delete message[value];\n                    result = value;\n                    // tokens are unique, so we can just stop here\n                    break;\n                }\n\n                if (isFunction) {\n                    for ( t in message ){\n                        if (Object.prototype.hasOwnProperty.call(message, t) && message[t] === value){\n                            delete message[t];\n                            result = true;\n                        }\n                    }\n                }\n            }\n        }\n\n        return result;\n    };\n}));\n","\"use strict\";\n\nvar stylesInDOM = [];\nfunction getIndexByIdentifier(identifier) {\n  var result = -1;\n  for (var i = 0; i < stylesInDOM.length; i++) {\n    if (stylesInDOM[i].identifier === identifier) {\n      result = i;\n      break;\n    }\n  }\n  return result;\n}\nfunction modulesToDom(list, options) {\n  var idCountMap = {};\n  var identifiers = [];\n  for (var i = 0; i < list.length; i++) {\n    var item = list[i];\n    var id = options.base ? item[0] + options.base : item[0];\n    var count = idCountMap[id] || 0;\n    var identifier = \"\".concat(id, \" \").concat(count);\n    idCountMap[id] = count + 1;\n    var indexByIdentifier = getIndexByIdentifier(identifier);\n    var obj = {\n      css: item[1],\n      media: item[2],\n      sourceMap: item[3],\n      supports: item[4],\n      layer: item[5]\n    };\n    if (indexByIdentifier !== -1) {\n      stylesInDOM[indexByIdentifier].references++;\n      stylesInDOM[indexByIdentifier].updater(obj);\n    } else {\n      var updater = addElementStyle(obj, options);\n      options.byIndex = i;\n      stylesInDOM.splice(i, 0, {\n        identifier: identifier,\n        updater: updater,\n        references: 1\n      });\n    }\n    identifiers.push(identifier);\n  }\n  return identifiers;\n}\nfunction addElementStyle(obj, options) {\n  var api = options.domAPI(options);\n  api.update(obj);\n  var updater = function updater(newObj) {\n    if (newObj) {\n      if (newObj.css === obj.css && newObj.media === obj.media && newObj.sourceMap === obj.sourceMap && newObj.supports === obj.supports && newObj.layer === obj.layer) {\n        return;\n      }\n      api.update(obj = newObj);\n    } else {\n      api.remove();\n    }\n  };\n  return updater;\n}\nmodule.exports = function (list, options) {\n  options = options || {};\n  list = list || [];\n  var lastIdentifiers = modulesToDom(list, options);\n  return function update(newList) {\n    newList = newList || [];\n    for (var i = 0; i < lastIdentifiers.length; i++) {\n      var identifier = lastIdentifiers[i];\n      var index = getIndexByIdentifier(identifier);\n      stylesInDOM[index].references--;\n    }\n    var newLastIdentifiers = modulesToDom(newList, options);\n    for (var _i = 0; _i < lastIdentifiers.length; _i++) {\n      var _identifier = lastIdentifiers[_i];\n      var _index = getIndexByIdentifier(_identifier);\n      if (stylesInDOM[_index].references === 0) {\n        stylesInDOM[_index].updater();\n        stylesInDOM.splice(_index, 1);\n      }\n    }\n    lastIdentifiers = newLastIdentifiers;\n  };\n};","\"use strict\";\n\nvar memo = {};\n\n/* istanbul ignore next  */\nfunction getTarget(target) {\n  if (typeof memo[target] === \"undefined\") {\n    var styleTarget = document.querySelector(target);\n\n    // Special case to return head of iframe instead of iframe itself\n    if (window.HTMLIFrameElement && styleTarget instanceof window.HTMLIFrameElement) {\n      try {\n        // This will throw an exception if access to iframe is blocked\n        // due to cross-origin restrictions\n        styleTarget = styleTarget.contentDocument.head;\n      } catch (e) {\n        // istanbul ignore next\n        styleTarget = null;\n      }\n    }\n    memo[target] = styleTarget;\n  }\n  return memo[target];\n}\n\n/* istanbul ignore next  */\nfunction insertBySelector(insert, style) {\n  var target = getTarget(insert);\n  if (!target) {\n    throw new Error(\"Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.\");\n  }\n  target.appendChild(style);\n}\nmodule.exports = insertBySelector;","\"use strict\";\n\n/* istanbul ignore next  */\nfunction insertStyleElement(options) {\n  var element = document.createElement(\"style\");\n  options.setAttributes(element, options.attributes);\n  options.insert(element, options.options);\n  return element;\n}\nmodule.exports = insertStyleElement;","\"use strict\";\n\n/* istanbul ignore next  */\nfunction setAttributesWithoutAttributes(styleElement) {\n  var nonce = typeof __webpack_nonce__ !== \"undefined\" ? __webpack_nonce__ : null;\n  if (nonce) {\n    styleElement.setAttribute(\"nonce\", nonce);\n  }\n}\nmodule.exports = setAttributesWithoutAttributes;","\"use strict\";\n\n/* istanbul ignore next  */\nfunction apply(styleElement, options, obj) {\n  var css = \"\";\n  if (obj.supports) {\n    css += \"@supports (\".concat(obj.supports, \") {\");\n  }\n  if (obj.media) {\n    css += \"@media \".concat(obj.media, \" {\");\n  }\n  var needLayer = typeof obj.layer !== \"undefined\";\n  if (needLayer) {\n    css += \"@layer\".concat(obj.layer.length > 0 ? \" \".concat(obj.layer) : \"\", \" {\");\n  }\n  css += obj.css;\n  if (needLayer) {\n    css += \"}\";\n  }\n  if (obj.media) {\n    css += \"}\";\n  }\n  if (obj.supports) {\n    css += \"}\";\n  }\n  var sourceMap = obj.sourceMap;\n  if (sourceMap && typeof btoa !== \"undefined\") {\n    css += \"\\n/*# sourceMappingURL=data:application/json;base64,\".concat(btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))), \" */\");\n  }\n\n  // For old IE\n  /* istanbul ignore if  */\n  options.styleTagTransform(css, styleElement, options.options);\n}\nfunction removeStyleElement(styleElement) {\n  // istanbul ignore if\n  if (styleElement.parentNode === null) {\n    return false;\n  }\n  styleElement.parentNode.removeChild(styleElement);\n}\n\n/* istanbul ignore next  */\nfunction domAPI(options) {\n  if (typeof document === \"undefined\") {\n    return {\n      update: function update() {},\n      remove: function remove() {}\n    };\n  }\n  var styleElement = options.insertStyleElement(options);\n  return {\n    update: function update(obj) {\n      apply(styleElement, options, obj);\n    },\n    remove: function remove() {\n      removeStyleElement(styleElement);\n    }\n  };\n}\nmodule.exports = domAPI;","\"use strict\";\n\n/* istanbul ignore next  */\nfunction styleTagTransform(css, styleElement) {\n  if (styleElement.styleSheet) {\n    styleElement.styleSheet.cssText = css;\n  } else {\n    while (styleElement.firstChild) {\n      styleElement.removeChild(styleElement.firstChild);\n    }\n    styleElement.appendChild(document.createTextNode(css));\n  }\n}\nmodule.exports = styleTagTransform;","/* Web Font Loader v1.6.28 - (c) Adobe Systems, Google. License: Apache 2.0 */(function(){function aa(a,b,c){return a.call.apply(a.bind,arguments)}function ba(a,b,c){if(!a)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(c,d);return a.apply(b,c)}}return function(){return a.apply(b,arguments)}}function p(a,b,c){p=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf(\"native code\")?aa:ba;return p.apply(null,arguments)}var q=Date.now||function(){return+new Date};function ca(a,b){this.a=a;this.o=b||a;this.c=this.o.document}var da=!!window.FontFace;function t(a,b,c,d){b=a.c.createElement(b);if(c)for(var e in c)c.hasOwnProperty(e)&&(\"style\"==e?b.style.cssText=c[e]:b.setAttribute(e,c[e]));d&&b.appendChild(a.c.createTextNode(d));return b}function u(a,b,c){a=a.c.getElementsByTagName(b)[0];a||(a=document.documentElement);a.insertBefore(c,a.lastChild)}function v(a){a.parentNode&&a.parentNode.removeChild(a)}\nfunction w(a,b,c){b=b||[];c=c||[];for(var d=a.className.split(/\\s+/),e=0;e<b.length;e+=1){for(var f=!1,g=0;g<d.length;g+=1)if(b[e]===d[g]){f=!0;break}f||d.push(b[e])}b=[];for(e=0;e<d.length;e+=1){f=!1;for(g=0;g<c.length;g+=1)if(d[e]===c[g]){f=!0;break}f||b.push(d[e])}a.className=b.join(\" \").replace(/\\s+/g,\" \").replace(/^\\s+|\\s+$/,\"\")}function y(a,b){for(var c=a.className.split(/\\s+/),d=0,e=c.length;d<e;d++)if(c[d]==b)return!0;return!1}\nfunction ea(a){return a.o.location.hostname||a.a.location.hostname}function z(a,b,c){function d(){m&&e&&f&&(m(g),m=null)}b=t(a,\"link\",{rel:\"stylesheet\",href:b,media:\"all\"});var e=!1,f=!0,g=null,m=c||null;da?(b.onload=function(){e=!0;d()},b.onerror=function(){e=!0;g=Error(\"Stylesheet failed to load\");d()}):setTimeout(function(){e=!0;d()},0);u(a,\"head\",b)}\nfunction A(a,b,c,d){var e=a.c.getElementsByTagName(\"head\")[0];if(e){var f=t(a,\"script\",{src:b}),g=!1;f.onload=f.onreadystatechange=function(){g||this.readyState&&\"loaded\"!=this.readyState&&\"complete\"!=this.readyState||(g=!0,c&&c(null),f.onload=f.onreadystatechange=null,\"HEAD\"==f.parentNode.tagName&&e.removeChild(f))};e.appendChild(f);setTimeout(function(){g||(g=!0,c&&c(Error(\"Script load timeout\")))},d||5E3);return f}return null};function B(){this.a=0;this.c=null}function C(a){a.a++;return function(){a.a--;D(a)}}function E(a,b){a.c=b;D(a)}function D(a){0==a.a&&a.c&&(a.c(),a.c=null)};function F(a){this.a=a||\"-\"}F.prototype.c=function(a){for(var b=[],c=0;c<arguments.length;c++)b.push(arguments[c].replace(/[\\W_]+/g,\"\").toLowerCase());return b.join(this.a)};function G(a,b){this.c=a;this.f=4;this.a=\"n\";var c=(b||\"n4\").match(/^([nio])([1-9])$/i);c&&(this.a=c[1],this.f=parseInt(c[2],10))}function fa(a){return H(a)+\" \"+(a.f+\"00\")+\" 300px \"+I(a.c)}function I(a){var b=[];a=a.split(/,\\s*/);for(var c=0;c<a.length;c++){var d=a[c].replace(/['\"]/g,\"\");-1!=d.indexOf(\" \")||/^\\d/.test(d)?b.push(\"'\"+d+\"'\"):b.push(d)}return b.join(\",\")}function J(a){return a.a+a.f}function H(a){var b=\"normal\";\"o\"===a.a?b=\"oblique\":\"i\"===a.a&&(b=\"italic\");return b}\nfunction ga(a){var b=4,c=\"n\",d=null;a&&((d=a.match(/(normal|oblique|italic)/i))&&d[1]&&(c=d[1].substr(0,1).toLowerCase()),(d=a.match(/([1-9]00|normal|bold)/i))&&d[1]&&(/bold/i.test(d[1])?b=7:/[1-9]00/.test(d[1])&&(b=parseInt(d[1].substr(0,1),10))));return c+b};function ha(a,b){this.c=a;this.f=a.o.document.documentElement;this.h=b;this.a=new F(\"-\");this.j=!1!==b.events;this.g=!1!==b.classes}function ia(a){a.g&&w(a.f,[a.a.c(\"wf\",\"loading\")]);K(a,\"loading\")}function L(a){if(a.g){var b=y(a.f,a.a.c(\"wf\",\"active\")),c=[],d=[a.a.c(\"wf\",\"loading\")];b||c.push(a.a.c(\"wf\",\"inactive\"));w(a.f,c,d)}K(a,\"inactive\")}function K(a,b,c){if(a.j&&a.h[b])if(c)a.h[b](c.c,J(c));else a.h[b]()};function ja(){this.c={}}function ka(a,b,c){var d=[],e;for(e in b)if(b.hasOwnProperty(e)){var f=a.c[e];f&&d.push(f(b[e],c))}return d};function M(a,b){this.c=a;this.f=b;this.a=t(this.c,\"span\",{\"aria-hidden\":\"true\"},this.f)}function N(a){u(a.c,\"body\",a.a)}function O(a){return\"display:block;position:absolute;top:-9999px;left:-9999px;font-size:300px;width:auto;height:auto;line-height:normal;margin:0;padding:0;font-variant:normal;white-space:nowrap;font-family:\"+I(a.c)+\";\"+(\"font-style:\"+H(a)+\";font-weight:\"+(a.f+\"00\")+\";\")};function P(a,b,c,d,e,f){this.g=a;this.j=b;this.a=d;this.c=c;this.f=e||3E3;this.h=f||void 0}P.prototype.start=function(){var a=this.c.o.document,b=this,c=q(),d=new Promise(function(d,e){function f(){q()-c>=b.f?e():a.fonts.load(fa(b.a),b.h).then(function(a){1<=a.length?d():setTimeout(f,25)},function(){e()})}f()}),e=null,f=new Promise(function(a,d){e=setTimeout(d,b.f)});Promise.race([f,d]).then(function(){e&&(clearTimeout(e),e=null);b.g(b.a)},function(){b.j(b.a)})};function Q(a,b,c,d,e,f,g){this.v=a;this.B=b;this.c=c;this.a=d;this.s=g||\"BESbswy\";this.f={};this.w=e||3E3;this.u=f||null;this.m=this.j=this.h=this.g=null;this.g=new M(this.c,this.s);this.h=new M(this.c,this.s);this.j=new M(this.c,this.s);this.m=new M(this.c,this.s);a=new G(this.a.c+\",serif\",J(this.a));a=O(a);this.g.a.style.cssText=a;a=new G(this.a.c+\",sans-serif\",J(this.a));a=O(a);this.h.a.style.cssText=a;a=new G(\"serif\",J(this.a));a=O(a);this.j.a.style.cssText=a;a=new G(\"sans-serif\",J(this.a));a=\nO(a);this.m.a.style.cssText=a;N(this.g);N(this.h);N(this.j);N(this.m)}var R={D:\"serif\",C:\"sans-serif\"},S=null;function T(){if(null===S){var a=/AppleWebKit\\/([0-9]+)(?:\\.([0-9]+))/.exec(window.navigator.userAgent);S=!!a&&(536>parseInt(a[1],10)||536===parseInt(a[1],10)&&11>=parseInt(a[2],10))}return S}Q.prototype.start=function(){this.f.serif=this.j.a.offsetWidth;this.f[\"sans-serif\"]=this.m.a.offsetWidth;this.A=q();U(this)};\nfunction la(a,b,c){for(var d in R)if(R.hasOwnProperty(d)&&b===a.f[R[d]]&&c===a.f[R[d]])return!0;return!1}function U(a){var b=a.g.a.offsetWidth,c=a.h.a.offsetWidth,d;(d=b===a.f.serif&&c===a.f[\"sans-serif\"])||(d=T()&&la(a,b,c));d?q()-a.A>=a.w?T()&&la(a,b,c)&&(null===a.u||a.u.hasOwnProperty(a.a.c))?V(a,a.v):V(a,a.B):ma(a):V(a,a.v)}function ma(a){setTimeout(p(function(){U(this)},a),50)}function V(a,b){setTimeout(p(function(){v(this.g.a);v(this.h.a);v(this.j.a);v(this.m.a);b(this.a)},a),0)};function W(a,b,c){this.c=a;this.a=b;this.f=0;this.m=this.j=!1;this.s=c}var X=null;W.prototype.g=function(a){var b=this.a;b.g&&w(b.f,[b.a.c(\"wf\",a.c,J(a).toString(),\"active\")],[b.a.c(\"wf\",a.c,J(a).toString(),\"loading\"),b.a.c(\"wf\",a.c,J(a).toString(),\"inactive\")]);K(b,\"fontactive\",a);this.m=!0;na(this)};\nW.prototype.h=function(a){var b=this.a;if(b.g){var c=y(b.f,b.a.c(\"wf\",a.c,J(a).toString(),\"active\")),d=[],e=[b.a.c(\"wf\",a.c,J(a).toString(),\"loading\")];c||d.push(b.a.c(\"wf\",a.c,J(a).toString(),\"inactive\"));w(b.f,d,e)}K(b,\"fontinactive\",a);na(this)};function na(a){0==--a.f&&a.j&&(a.m?(a=a.a,a.g&&w(a.f,[a.a.c(\"wf\",\"active\")],[a.a.c(\"wf\",\"loading\"),a.a.c(\"wf\",\"inactive\")]),K(a,\"active\")):L(a.a))};function oa(a){this.j=a;this.a=new ja;this.h=0;this.f=this.g=!0}oa.prototype.load=function(a){this.c=new ca(this.j,a.context||this.j);this.g=!1!==a.events;this.f=!1!==a.classes;pa(this,new ha(this.c,a),a)};\nfunction qa(a,b,c,d,e){var f=0==--a.h;(a.f||a.g)&&setTimeout(function(){var a=e||null,m=d||null||{};if(0===c.length&&f)L(b.a);else{b.f+=c.length;f&&(b.j=f);var h,l=[];for(h=0;h<c.length;h++){var k=c[h],n=m[k.c],r=b.a,x=k;r.g&&w(r.f,[r.a.c(\"wf\",x.c,J(x).toString(),\"loading\")]);K(r,\"fontloading\",x);r=null;if(null===X)if(window.FontFace){var x=/Gecko.*Firefox\\/(\\d+)/.exec(window.navigator.userAgent),xa=/OS X.*Version\\/10\\..*Safari/.exec(window.navigator.userAgent)&&/Apple/.exec(window.navigator.vendor);\nX=x?42<parseInt(x[1],10):xa?!1:!0}else X=!1;X?r=new P(p(b.g,b),p(b.h,b),b.c,k,b.s,n):r=new Q(p(b.g,b),p(b.h,b),b.c,k,b.s,a,n);l.push(r)}for(h=0;h<l.length;h++)l[h].start()}},0)}function pa(a,b,c){var d=[],e=c.timeout;ia(b);var d=ka(a.a,c,a.c),f=new W(a.c,b,e);a.h=d.length;b=0;for(c=d.length;b<c;b++)d[b].load(function(b,d,c){qa(a,f,b,d,c)})};function ra(a,b){this.c=a;this.a=b}\nra.prototype.load=function(a){function b(){if(f[\"__mti_fntLst\"+d]){var c=f[\"__mti_fntLst\"+d](),e=[],h;if(c)for(var l=0;l<c.length;l++){var k=c[l].fontfamily;void 0!=c[l].fontStyle&&void 0!=c[l].fontWeight?(h=c[l].fontStyle+c[l].fontWeight,e.push(new G(k,h))):e.push(new G(k))}a(e)}else setTimeout(function(){b()},50)}var c=this,d=c.a.projectId,e=c.a.version;if(d){var f=c.c.o;A(this.c,(c.a.api||\"https://fast.fonts.net/jsapi\")+\"/\"+d+\".js\"+(e?\"?v=\"+e:\"\"),function(e){e?a([]):(f[\"__MonotypeConfiguration__\"+\nd]=function(){return c.a},b())}).id=\"__MonotypeAPIScript__\"+d}else a([])};function sa(a,b){this.c=a;this.a=b}sa.prototype.load=function(a){var b,c,d=this.a.urls||[],e=this.a.families||[],f=this.a.testStrings||{},g=new B;b=0;for(c=d.length;b<c;b++)z(this.c,d[b],C(g));var m=[];b=0;for(c=e.length;b<c;b++)if(d=e[b].split(\":\"),d[1])for(var h=d[1].split(\",\"),l=0;l<h.length;l+=1)m.push(new G(d[0],h[l]));else m.push(new G(d[0]));E(g,function(){a(m,f)})};function ta(a,b){a?this.c=a:this.c=ua;this.a=[];this.f=[];this.g=b||\"\"}var ua=\"https://fonts.googleapis.com/css\";function va(a,b){for(var c=b.length,d=0;d<c;d++){var e=b[d].split(\":\");3==e.length&&a.f.push(e.pop());var f=\"\";2==e.length&&\"\"!=e[1]&&(f=\":\");a.a.push(e.join(f))}}\nfunction wa(a){if(0==a.a.length)throw Error(\"No fonts to load!\");if(-1!=a.c.indexOf(\"kit=\"))return a.c;for(var b=a.a.length,c=[],d=0;d<b;d++)c.push(a.a[d].replace(/ /g,\"+\"));b=a.c+\"?family=\"+c.join(\"%7C\");0<a.f.length&&(b+=\"&subset=\"+a.f.join(\",\"));0<a.g.length&&(b+=\"&text=\"+encodeURIComponent(a.g));return b};function ya(a){this.f=a;this.a=[];this.c={}}\nvar za={latin:\"BESbswy\",\"latin-ext\":\"\\u00e7\\u00f6\\u00fc\\u011f\\u015f\",cyrillic:\"\\u0439\\u044f\\u0416\",greek:\"\\u03b1\\u03b2\\u03a3\",khmer:\"\\u1780\\u1781\\u1782\",Hanuman:\"\\u1780\\u1781\\u1782\"},Aa={thin:\"1\",extralight:\"2\",\"extra-light\":\"2\",ultralight:\"2\",\"ultra-light\":\"2\",light:\"3\",regular:\"4\",book:\"4\",medium:\"5\",\"semi-bold\":\"6\",semibold:\"6\",\"demi-bold\":\"6\",demibold:\"6\",bold:\"7\",\"extra-bold\":\"8\",extrabold:\"8\",\"ultra-bold\":\"8\",ultrabold:\"8\",black:\"9\",heavy:\"9\",l:\"3\",r:\"4\",b:\"7\"},Ba={i:\"i\",italic:\"i\",n:\"n\",normal:\"n\"},\nCa=/^(thin|(?:(?:extra|ultra)-?)?light|regular|book|medium|(?:(?:semi|demi|extra|ultra)-?)?bold|black|heavy|l|r|b|[1-9]00)?(n|i|normal|italic)?$/;\nfunction Da(a){for(var b=a.f.length,c=0;c<b;c++){var d=a.f[c].split(\":\"),e=d[0].replace(/\\+/g,\" \"),f=[\"n4\"];if(2<=d.length){var g;var m=d[1];g=[];if(m)for(var m=m.split(\",\"),h=m.length,l=0;l<h;l++){var k;k=m[l];if(k.match(/^[\\w-]+$/)){var n=Ca.exec(k.toLowerCase());if(null==n)k=\"\";else{k=n[2];k=null==k||\"\"==k?\"n\":Ba[k];n=n[1];if(null==n||\"\"==n)n=\"4\";else var r=Aa[n],n=r?r:isNaN(n)?\"4\":n.substr(0,1);k=[k,n].join(\"\")}}else k=\"\";k&&g.push(k)}0<g.length&&(f=g);3==d.length&&(d=d[2],g=[],d=d?d.split(\",\"):\ng,0<d.length&&(d=za[d[0]])&&(a.c[e]=d))}a.c[e]||(d=za[e])&&(a.c[e]=d);for(d=0;d<f.length;d+=1)a.a.push(new G(e,f[d]))}};function Ea(a,b){this.c=a;this.a=b}var Fa={Arimo:!0,Cousine:!0,Tinos:!0};Ea.prototype.load=function(a){var b=new B,c=this.c,d=new ta(this.a.api,this.a.text),e=this.a.families;va(d,e);var f=new ya(e);Da(f);z(c,wa(d),C(b));E(b,function(){a(f.a,f.c,Fa)})};function Ga(a,b){this.c=a;this.a=b}Ga.prototype.load=function(a){var b=this.a.id,c=this.c.o;b?A(this.c,(this.a.api||\"https://use.typekit.net\")+\"/\"+b+\".js\",function(b){if(b)a([]);else if(c.Typekit&&c.Typekit.config&&c.Typekit.config.fn){b=c.Typekit.config.fn;for(var e=[],f=0;f<b.length;f+=2)for(var g=b[f],m=b[f+1],h=0;h<m.length;h++)e.push(new G(g,m[h]));try{c.Typekit.load({events:!1,classes:!1,async:!0})}catch(l){}a(e)}},2E3):a([])};function Ha(a,b){this.c=a;this.f=b;this.a=[]}Ha.prototype.load=function(a){var b=this.f.id,c=this.c.o,d=this;b?(c.__webfontfontdeckmodule__||(c.__webfontfontdeckmodule__={}),c.__webfontfontdeckmodule__[b]=function(b,c){for(var g=0,m=c.fonts.length;g<m;++g){var h=c.fonts[g];d.a.push(new G(h.name,ga(\"font-weight:\"+h.weight+\";font-style:\"+h.style)))}a(d.a)},A(this.c,(this.f.api||\"https://f.fontdeck.com/s/css/js/\")+ea(this.c)+\"/\"+b+\".js\",function(b){b&&a([])})):a([])};var Y=new oa(window);Y.a.c.custom=function(a,b){return new sa(b,a)};Y.a.c.fontdeck=function(a,b){return new Ha(b,a)};Y.a.c.monotype=function(a,b){return new ra(b,a)};Y.a.c.typekit=function(a,b){return new Ga(b,a)};Y.a.c.google=function(a,b){return new Ea(b,a)};var Z={load:p(Y.load,Y)};\"function\"===typeof define&&define.amd?define(function(){return Z}):\"undefined\"!==typeof module&&module.exports?module.exports=Z:(window.WebFont=Z,window.WebFontConfig&&Y.load(window.WebFontConfig));}());\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\tloaded: false,\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Flag the module as loaded\n\tmodule.loaded = true;\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.nmd = (module) => {\n\tmodule.paths = [];\n\tif (!module.children) module.children = [];\n\treturn module;\n};","var scriptUrl;\nif (__webpack_require__.g.importScripts) scriptUrl = __webpack_require__.g.location + \"\";\nvar document = __webpack_require__.g.document;\nif (!scriptUrl && document) {\n\tif (document.currentScript && document.currentScript.tagName.toUpperCase() === 'SCRIPT')\n\t\tscriptUrl = document.currentScript.src;\n\tif (!scriptUrl) {\n\t\tvar scripts = document.getElementsByTagName(\"script\");\n\t\tif(scripts.length) {\n\t\t\tvar i = scripts.length - 1;\n\t\t\twhile (i > -1 && (!scriptUrl || !/^http(s?):/.test(scriptUrl))) scriptUrl = scripts[i--].src;\n\t\t}\n\t}\n}\n// When supporting browsers where an automatic publicPath is not supported you must specify an output.publicPath manually via configuration\n// or pass an empty string (\"\") and set the __webpack_public_path__ variable from your code to use your own logic.\nif (!scriptUrl) throw new Error(\"Automatic publicPath is not supported in this browser\");\nscriptUrl = scriptUrl.replace(/#.*$/, \"\").replace(/\\?.*$/, \"\").replace(/\\/[^\\/]+$/, \"/\");\n__webpack_require__.p = scriptUrl;","__webpack_require__.b = document.baseURI || self.location.href;\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t792: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n// no on chunks loaded\n\n// no jsonp function","__webpack_require__.nc = undefined;","\n      import API from \"!../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../node_modules/css-loader/dist/cjs.js!./styles.css\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\noptions.insert = insertFn.bind(null, \"head\");\noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../node_modules/css-loader/dist/cjs.js!./styles.css\";\n       export default content && content.locals ? content.locals : undefined;\n","import PubSub from \"pubsub-js\"\n\nexport const pubSubTokens = {\n\tshowGameView: \"SHOW GAME VIEW\",\n\tshowGameEndView: \"SHOW GAME END VIEW\",\n\tshowDeployFleetView: \"SHOW DEPLOY FLEET VIEW\",\n\tshowHomeView: \"SHOW HOME VIEW\",\n\tshowPlayersNameView: \"SHOW PLAYERS NAME VIEW\",\n\tgameViewInitialized: \"GAME VIEW INITIALIZED\",\n\tfleetDeployed: \"FLEET DEPLOYED\",\n\tplayTurn: \"PLAY TURN\",\n\tattackCoordsAcquired: \"ATTACK COORDS ACQUIRED\",\n\tattackOutcomeShown: \"ATTACK OUTCOME SHOWN\",\n}\n\nexport const pubSubTopicUi = \"ui\"\nexport const pubSubTokensUi = {\n\tsetCurrentPlayer: (player) => `ui: SET ${player.name} AS CURRENT PLAYER`,\n\tenableAimingOnGameboard: (player) =>\n\t\t`ui: ENABLE AIMING ON ${player.name} GAMEBOARD`,\n\tshowAttackOutcome: (player) => `ui: SHOW ATTACK ON ${player.name} GAMEBOARD`,\n\tshipHasSunk: (player) => `ui: ${player.name} SHIP HAS SUNK`,\n\ttoggleDeployedFleetShown: (player) =>\n\t\t`ui: TOGGLE DEPLOYED FLEET ON ${player.name} GAMEBOARD`,\n\thideDeployedFleetShown: (player) =>\n\t\t`ui: HIDE DEPLOYED FLEET ON ${player.name} GAMEBOARD`,\n\tupdateDeployedFleetShown: (player) =>\n\t\t`ui: UPDATE DEPLOYED FLEET ON ${player.name} GAMEBOARD`,\n\tplayersSwitch: \"PLAYERS SWITCH\",\n\tsetGameStatusMsg: \"SET THE GAME STATUS MESSAGE\",\n\ttoggleShowMsg: \"TOGGLE SHOW MESSAGES\",\n}\n","const { initDiv } = require(\"../utils/domComponents.js\")\n\nconst blockName = \"cell\"\n\nexport default class CellDom {\n\t#cell\n\t#div\n\n\tconstructor(cell) {\n\t\tthis.#cell = cell\n\t\tthis.#div = initCellDiv(cell)\n\t\tthis.#div.obj = this\n\n\t\t// temporary: mark the ships\n\t\t// markShip.call(this)\n\t\tthis.setAttackStatus()\n\t}\n\n\tget div() {\n\t\treturn this.#div\n\t}\n\n\tget cell() {\n\t\treturn this.#cell\n\t}\n\n\tsetAttackStatus() {\n\t\tif (this.cell.hasBeenAttacked()) {\n\t\t\tif (this.cell.hasShip()) {\n\t\t\t\tthis.div.classList.add(\"hit\")\n\t\t\t} else {\n\t\t\t\tthis.div.classList.add(\"miss\")\n\t\t\t}\n\t\t}\n\t}\n}\n\n// private methods\n// if they use 'this', they have to be evoked as: methodName.call(this,args)\n\nfunction initCellDiv(cell) {\n\tconst div = initDiv(blockName)\n\tdiv.style.gridColumn = cell.x + 1\n\tdiv.style.gridRow = cell.y + 1\n\tdiv.style.aspectRatio = 1\n\treturn div\n}\n\n// function markShip() {\n// \tif (this.cell.hasShip()) {\n// \t\tthis.div.textContent = \"#\"\n// \t}\n// }\n","import { initDiv } from \"../utils/domComponents.js\"\n\nexport default class PlaceableObjectDom {\n\t#div\n\tstatic blockName = \"placeable-object\"\n\tstatic zIndex = 0\n\n\tconstructor(cellsCoords) {\n\t\tthis.#div = this.#initObjectDiv(cellsCoords)\n\t\tthis.#div.obj = this\n\t}\n\n\tget div() {\n\t\treturn this.#div\n\t}\n\n\t#initObjectDiv(cellsCoords) {\n\t\tconst div = initDiv(this.constructor.blockName)\n\t\tthis.#setGridLocation(div, cellsCoords)\n\t\treturn div\n\t}\n\n\t#setGridLocation(div, cellsCoords) {\n\t\tconst minCol = cellsCoords.reduce(\n\t\t\t(min, item) => (item[0] < min ? item[0] : min),\n\t\t\tcellsCoords[0][0]\n\t\t)\n\n\t\tconst minRow = cellsCoords.reduce(\n\t\t\t(min, item) => (item[1] < min ? item[1] : min),\n\t\t\tcellsCoords[0][1]\n\t\t)\n\n\t\tconst maxCol = cellsCoords.reduce(\n\t\t\t(max, item) => (item[0] > max ? item[0] : max),\n\t\t\tcellsCoords[0][0]\n\t\t)\n\n\t\tconst maxRow = cellsCoords.reduce(\n\t\t\t(max, item) => (item[1] > max ? item[1] : max),\n\t\t\tcellsCoords[0][1]\n\t\t)\n\n\t\t// console.log(minCol, maxCol, minRow, maxRow)\n\n\t\tdiv.style.gridColumn = `${minCol + 1} / ${maxCol + 2}`\n\t\tdiv.style.gridRow = `${minRow + 1} / ${maxRow + 2}`\n\t\tdiv.style.width = \"100%\"\n\t\tdiv.style.height = \"100%\"\n\t\tdiv.style.zIndex = this.constructor.zIndex\n\t\tdiv.style.aspectRatio = `${maxCol - minCol + 1} / ${maxRow - minRow + 1}`\n\t}\n\n\tupdatePosition(cellsCoords) {\n\t\tthis.#setGridLocation(this.#div, cellsCoords)\n\t}\n}\n","import shipImg_2a_S from \"../assets/images/ships/ship_2a_S.png\"\nimport shipImg_2a_E from \"../assets/images/ships/ship_2a_E.png\"\nimport shipImg_2b_S from \"../assets/images/ships/ship_2b_S.png\"\nimport shipImg_2b_E from \"../assets/images/ships/ship_2b_E.png\"\nimport shipImg_3a_S from \"../assets/images/ships/ship_3a_S.png\"\nimport shipImg_3a_E from \"../assets/images/ships/ship_3a_E.png\"\nimport shipImg_3b_S from \"../assets/images/ships/ship_3b_S.png\"\nimport shipImg_3b_E from \"../assets/images/ships/ship_3b_E.png\"\nimport shipImg_4_S from \"../assets/images/ships/ship_4_S.png\"\nimport shipImg_4_E from \"../assets/images/ships/ship_4_E.png\"\nimport shipImg_5_S from \"../assets/images/ships/ship_5_S.png\"\nimport shipImg_5_E from \"../assets/images/ships/ship_5_E.png\"\nimport shipImg_6_S from \"../assets/images/ships/ship_6_S.png\"\nimport shipImg_6_E from \"../assets/images/ships/ship_6_E.png\"\n\nexport const ships = {\n\tship_2a: {\n\t\tS: shipImg_2a_S,\n\t\tE: shipImg_2a_E,\n\t},\n\tship_2b: {\n\t\tS: shipImg_2b_S,\n\t\tE: shipImg_2b_E,\n\t},\n\tship_3a: {\n\t\tS: shipImg_3a_S,\n\t\tE: shipImg_3a_E,\n\t},\n\tship_3b: {\n\t\tS: shipImg_3b_S,\n\t\tE: shipImg_3b_E,\n\t},\n\tship_4: {\n\t\tS: shipImg_4_S,\n\t\tE: shipImg_4_E,\n\t},\n\tship_5: {\n\t\tS: shipImg_5_S,\n\t\tE: shipImg_5_E,\n\t},\n\tship_6: {\n\t\tS: shipImg_6_S,\n\t\tE: shipImg_6_E,\n\t},\n}\n","import PlaceableObjectDom from \"./PlaceableObjectDom.js\"\nimport { initDiv } from \"../utils/domComponents.js\"\nimport { ships } from \"../images.js\"\n\nexport default class ShipDom extends PlaceableObjectDom {\n\tstatic blockName = \"ship\"\n\tstatic shadowBlockName = \"shadow-ship\"\n\tstatic zIndex = 2\n\t#maskDiv\n\t#name\n\n\tconstructor(name, cellsCoords, direction) {\n\t\tsuper(cellsCoords)\n\n\t\tthis.#name = name\n\n\t\t// Precompute mask (to be used when the ship will sunk, to add an overlay)\n\t\tthis.#maskDiv = initDiv(`${this.constructor.blockName}__mask`)\n\t\tthis.#maskDiv.style.display = \"none\"\n\t\tthis.div.append(this.#maskDiv)\n\n\t\tthis.#applyStyle(name, direction)\n\t}\n\n\tupdatePosition(cellsCoords, direction) {\n\t\tsuper.updatePosition(cellsCoords)\n\t\tthis.#applyStyle(this.#name, direction)\n\t}\n\n\tmakeItSunk() {\n\t\tthis.div.classList.add(\"sunk\")\n\t\tthis.#maskDiv.style.display = \"block\"\n\t}\n\n\tinitShadowShipDiv() {\n\t\tconst shadowShipDiv = this.div.cloneNode(true)\n\t\tshadowShipDiv.classList.remove(this.constructor.blockName)\n\t\tshadowShipDiv.classList.add(this.constructor.shadowBlockName)\n\n\t\tshadowShipDiv.style.zIndex = this.constructor.zIndex - 1\n\n\t\treturn shadowShipDiv\n\t}\n\n\t#applyStyle(name, direction) {\n\t\tconst imgDirection = direction == \"N\" || direction == \"S\" ? \"S\" : \"E\"\n\n\t\tconst image = ships[name] ? ships[name][imgDirection] : null\n\n\t\tif (image) {\n\t\t\tthis.div.style.backgroundImage = `url(\"${image}\")`\n\t\t\tthis.div.style.backgroundRepeat = \"no-repeat\"\n\t\t\tthis.div.style.backgroundSize = \"100% 100%\"\n\n\t\t\tif (direction == \"N\" || direction == \"W\") {\n\t\t\t\tthis.div.style.transform = \"rotate(180deg)\"\n\t\t\t} else {\n\t\t\t\tthis.div.style.transform = \"rotate(0)\"\n\t\t\t}\n\n\t\t\t// Precompute mask style\n\t\t\tthis.#maskDiv.style.maskImage = `url(\"${image}\")`\n\t\t\tthis.#maskDiv.style.maskRepeat = \"no-repeat\"\n\t\t\tthis.#maskDiv.style.maskSize = \"100%\"\n\t\t\tthis.#maskDiv.style.width = \"100%\"\n\t\t\tthis.#maskDiv.style.height = \"100%\"\n\t\t} else {\n\t\t\t// Fallback styling\n\t\t\tthis.div.style.background = \"rgb(186, 168, 150)\"\n\t\t\tthis.div.style.background =\n\t\t\t\t\"radial-gradient(closest-side, rgb(186, 168, 150) 0%, rgb(136, 117, 97) 50%, rgb(52, 43, 41) 100%)\"\n\n\t\t\tconst [r, R] = [\"20px\", \"60%\"]\n\t\t\tlet borderRadius\n\t\t\tswitch (direction) {\n\t\t\t\tcase \"S\":\n\t\t\t\t\tborderRadius = `${r} ${r} ${R} ${R}`\n\t\t\t\t\tbreak\n\t\t\t\tcase \"N\":\n\t\t\t\t\tborderRadius = `${R} ${R} ${r} ${r}`\n\t\t\t\t\tbreak\n\t\t\t\tcase \"E\":\n\t\t\t\t\tborderRadius = `${r} ${R} ${R} ${r}`\n\t\t\t\t\tbreak\n\t\t\t\tcase \"W\":\n\t\t\t\t\tborderRadius = `${R} ${r} ${r} ${R}`\n\t\t\t\t\tbreak\n\t\t\t\tdefault:\n\t\t\t\t\tborderRadius = r\n\t\t\t\t\tbreak\n\t\t\t}\n\t\t}\n\t}\n}\n","import PlaceableObjectDom from \"./PlaceableObjectDom\"\n\nexport default class MissMarkDom extends PlaceableObjectDom {\n\tstatic blockName = \"miss-mark\"\n\tstatic zIndex = 3\n\n\tconstructor(cellsCoords) {\n\t\tsuper([cellsCoords])\n\t}\n}\n","import PlaceableObjectDom from \"./PlaceableObjectDom\"\n\nexport default class HitMarkDom extends PlaceableObjectDom {\n\tstatic blockName = \"hit-mark\"\n\tstatic zIndex = 3\n\n\tconstructor(cellsCoords) {\n\t\tsuper([cellsCoords])\n\t}\n}\n","export function removeDescendants(element, newContent = undefined) {\n\telement.replaceChildren(newContent)\n}\n\nexport function resetContent(contentDiv, newContent = undefined) {\n\tremoveDescendants(contentDiv, newContent)\n\tcontentDiv.setAttribute(\"class\", \"\")\n\twindow.scrollTo(0, 0)\n}\n\nexport function getNestedElementByClass(point, requiredClass) {\n\tconst nestedElements = document.elementsFromPoint(...point)\n\n\tfor (const element of nestedElements) {\n\t\tconst classList = element.classList\n\n\t\tif ([...classList].includes(requiredClass)) {\n\t\t\treturn element\n\t\t}\n\t}\n\n\treturn null\n}\n\nexport function waitForAsync(waitInMs) {\n\treturn new Promise((resolve) => setTimeout(resolve, waitInMs))\n}\n\nexport async function ensureCssClassForAnimationAsync() {\n\tawait new Promise((resolve) => requestAnimationFrame(resolve))\n\tawait waitForAsync(0)\n}\n\nexport async function triggerAnimation(\n\tdiv,\n\tanimationInitialStateClass,\n\tanimationDuration,\n\thide = false\n) {\n\t// this uses a trick to trigger the animation on the element\n\n\thide\n\t\t? div.classList.remove(animationInitialStateClass)\n\t\t: div.classList.add(animationInitialStateClass)\n\n\tawait ensureCssClassForAnimationAsync()\n\n\tdiv.classList.toggle(animationInitialStateClass)\n\n\t// wait for the animation to end before removing it\n\treturn waitForAsync(animationDuration)\n}\n","// The duration of the animations in the gameboard (eg., placing a ship, adding a hit/miss mark,)\n// rotating a ship, or moving it)\nexport const animationDuration = 200 // ms\n\n// A small delay used to wait for the Dom to be updated\nexport const waitDomDelay = 60 // ms, just to ensure the dom is updated\n\n// The artificial waiting in which the AI opponent deploys it fleet\n// eg., you might want to show a message in the UI\nexport const aiDeployFleetDelay = 2000 // ms\n\n// The artificial waiting in which the AI opponent makes an attack\n// eg., you might want to use this to make it appear as if the AI is thinking of the next move to do\nexport const aiMoveDelay = 500 // ms\nexport const msgDelay = 1000\n\n// The artificial waiting time between the last move and the showing of the end game view\n// eg., you might want to show a message in the UI\nexport const endGameDelay = 2000 // ms\n","import PubSub from \"pubsub-js\"\nimport { pubSubTokens } from \"../pubSubTokens.js\"\nimport { initDiv } from \"../utils/domComponents.js\"\nimport CellDom from \"./CellDom.js\"\nimport ShipDom from \"./ShipDom.js\"\nimport MissMarkDom from \"./MissMarkDom.js\"\nimport HitMarkDom from \"./HitMarkDom.js\"\nimport {\n\tgetNestedElementByClass,\n\twaitForAsync,\n\tensureCssClassForAnimationAsync,\n\ttriggerAnimation,\n} from \"../utils/domUtilities.js\"\nimport { animationDuration, waitDomDelay } from \"../delays.js\"\n\nconst blockName = \"gameboard\"\nconst aimingClass = \"aiming\"\n\nconst animationInitialStateClass = \"initial-state\"\nconst noTransitionClass = \"no-transition\"\nconst onDragClass = \"on-drag\"\nconst forbiddenShipPositionClass = \"forbidden-position\"\nconst outOfBoundClass = \"out-of-bound\"\nconst fallbackShadowShipClass = \"fallback\"\n\n// set the animation duration css property\ndocument.documentElement.style.setProperty(\n\t\"--time-animation\",\n\t`${animationDuration}ms`\n)\n\nexport default class GameboardDom {\n\t#gameboard\n\t#div\n\t#getAttackCoordsOnClickCallbackBinded\n\t#startEditingPointerDownCallbackBinded\n\t#cells\n\t#fleetDom\n\t#deployedFleetDomShown\n\t#deployedFleetAnimationOn\n\n\tconstructor(gameboard, canBeModified = false) {\n\t\tthis.#gameboard = gameboard\n\t\tthis.#cells = new Map()\n\t\tthis.#div = this.#initGameboardDiv(gameboard)\n\t\tthis.#div.obj = this\n\n\t\tthis.#getAttackCoordsOnClickCallbackBinded =\n\t\t\tthis.#getAttackCoordsOnClickCallback.bind(this)\n\t\tthis.#startEditingPointerDownCallbackBinded =\n\t\t\tthis.#startEditingPointerDownCallback.bind(this)\n\n\t\tthis.#fleetDom = new Map()\n\t\tthis.#initFleet()\n\t\tthis.#deployedFleetDomShown = false\n\t\tthis.#deployedFleetAnimationOn = false\n\n\t\tif (canBeModified) {\n\t\t\tthis.#setEditCallbacks()\n\t\t}\n\t}\n\n\t// getters\n\tget gameboard() {\n\t\treturn this.#gameboard\n\t}\n\n\tget div() {\n\t\treturn this.#div\n\t}\n\n\tasync showAttackOutcome(coords, outcome) {\n\t\t// the function is async, and awaits for the hit/miss mark show animation, if any\n\t\tconst cellDom = this.#cells.get(coords.join(\",\"))\n\t\tcellDom.setAttackStatus()\n\n\t\tconst outcomeMarkDom = outcome.isHit\n\t\t\t? new HitMarkDom(coords)\n\t\t\t: new MissMarkDom(coords)\n\t\tthis.#div.append(outcomeMarkDom.div)\n\n\t\tawait triggerAnimation(\n\t\t\toutcomeMarkDom.div,\n\t\t\tanimationInitialStateClass,\n\t\t\tanimationDuration\n\t\t)\n\n\t\tif (outcome.isSunk) {\n\t\t\tconst shipName = outcome.sunkShip.name\n\t\t\tconst shipObj = this.#fleetDom.get(shipName)\n\t\t\tshipObj.makeItSunk()\n\t\t\tawait this.#showShip(shipObj)\n\t\t}\n\t\tPubSub.publish(pubSubTokens.attackOutcomeShown, { coords, outcome })\n\t}\n\n\tenableAiming() {\n\t\tthis.#div.classList.add(aimingClass)\n\n\t\tthis.#div.addEventListener(\n\t\t\t\"click\",\n\t\t\tthis.#getAttackCoordsOnClickCallbackBinded\n\t\t)\n\t}\n\n\t#createShipDom(shipName) {\n\t\tconst shipObj = new ShipDom(\n\t\t\tshipName,\n\t\t\t...this.#gameboard.getShipPosition(shipName)\n\t\t)\n\t\treturn shipObj\n\t}\n\n\tasync #showShip(shipObj) {\n\t\t// the function is async, and awaits for the ship show animation, if any\n\t\tthis.#div.append(shipObj.div)\n\t\tawait triggerAnimation(\n\t\t\tshipObj.div,\n\t\t\tanimationInitialStateClass,\n\t\t\tanimationDuration\n\t\t)\n\t}\n\n\tasync #hideShip(shipObj) {\n\t\t// the function is async, and awaits for the ship show animation, if any\n\t\tawait triggerAnimation(\n\t\t\tshipObj.div,\n\t\t\tanimationInitialStateClass,\n\t\t\tanimationDuration,\n\t\t\ttrue\n\t\t)\n\t\t// wait for the animation end before removing it\n\t\tthis.#div.removeChild(shipObj.div)\n\t}\n\n\t#initFleet() {\n\t\t// All fleets already have coordinates generated by randomShipsPlacement()\n\t\tthis.#gameboard.fleet.forEach((shipName) => {\n\t\t\tconst shipObj = this.#createShipDom(shipName)\n\t\t\tthis.#fleetDom.set(shipName, shipObj)\n\t\t})\n\t}\n\n\t// the function is async, and awaits for all the ship show animations, if any\n\tasync showDeployedFleet() {\n\t\t// do nothing if there is an animation ongoing or the fleet is already shown\n\t\tif (!this.#deployedFleetDomShown && !this.#deployedFleetAnimationOn) {\n\t\t\tthis.#deployedFleetAnimationOn = true\n\n\t\t\t// save promises returned by #showShip to eventually wait for their resolution\n\t\t\tconst promiseArray = []\n\n\t\t\tthis.#gameboard.deployedFleet.forEach((shipName) => {\n\t\t\t\tconst shipObj = this.#fleetDom.get(shipName)\n\t\t\t\tpromiseArray.push(this.#showShip(shipObj)) // returns a promise\n\t\t\t})\n\n\t\t\tawait Promise.all(promiseArray)\n\n\t\t\tthis.#deployedFleetDomShown = true\n\t\t\tthis.#deployedFleetAnimationOn = false\n\t\t}\n\t}\n\n\t// the function is async, and awaits for all the ship show animations, if any\n\tasync hideDeployedFleet() {\n\t\t// do nothing if there is an animation ongoing or the fleet is already hidden\n\t\tif (this.#deployedFleetDomShown && !this.#deployedFleetAnimationOn) {\n\t\t\tthis.#deployedFleetAnimationOn = true\n\n\t\t\t// save promises returned by #showShip to eventually wait for their resolution\n\t\t\tconst promiseArray = []\n\t\t\tthis.#gameboard.deployedFleet.forEach((shipName) => {\n\t\t\t\tconst shipObj = this.#fleetDom.get(shipName)\n\t\t\t\tpromiseArray.push(this.#hideShip(shipObj)) // returns a promise\n\t\t\t})\n\n\t\t\tawait Promise.all(promiseArray)\n\n\t\t\tthis.#deployedFleetDomShown = false\n\t\t\tthis.#deployedFleetAnimationOn = false\n\t\t}\n\t}\n\n\ttoggleDeployedFleet() {\n\t\tif (this.#deployedFleetDomShown) {\n\t\t\tthis.hideDeployedFleet()\n\t\t} else {\n\t\t\tthis.showDeployedFleet()\n\t\t}\n\t}\n\n\tasync updateDeployedFleet() {\n\t\tawait this.hideDeployedFleet()\n\n\t\t// change position of shipDom objects\n\t\tthis.#gameboard.fleet.forEach((shipName) => {\n\t\t\tconst shipObj = this.#fleetDom.get(shipName)\n\t\t\tshipObj.updatePosition(...this.#gameboard.getShipPosition(shipName))\n\t\t})\n\n\t\tawait this.showDeployedFleet()\n\t}\n\n\tasync updateDeployedShip(shipName) {\n\t\tconst shipObj = this.#fleetDom.get(shipName)\n\n\t\tawait this.#hideShip(shipObj)\n\n\t\t// change position of shipDom objects\n\t\tshipObj.updatePosition(...this.#gameboard.getShipPosition(shipName))\n\n\t\tawait this.#showShip(shipObj)\n\t}\n\n\t#initGameboardDiv(gameboard) {\n\t\tconst div = initDiv(blockName)\n\n\t\t// Forced grid appearance\n\t\tdiv.style.display = \"grid\"\n\t\tdiv.style.aspectRatio = `${gameboard.nCols}/${gameboard.nRows}`\n\t\tdiv.style.gridTemplateColumns = `repeat(${gameboard.nCols}, minmax(0, 1fr))`\n\t\tdiv.style.gridTemplateRows = `repeat(${gameboard.nRows}, minmax(0, 1fr))`\n\n\t\tconst cells = gameboard.cells\n\t\tcells.forEach((column) => {\n\t\t\tcolumn.forEach((cell) => {\n\t\t\t\tconst cellDom = new CellDom(cell)\n\t\t\t\tthis.#cells.set(cell.coords.join(\",\"), cellDom)\n\t\t\t\tdiv.append(cellDom.div)\n\t\t\t})\n\t\t})\n\n\t\treturn div\n\t}\n\n\t#getAttackCoordsOnClickCallback(e) {\n\t\t// We have subscribed to one event listener for the gameboard:\n\t\t// We need to retrieve the appropriate cell\n\t\tconst point = [e.clientX, e.clientY]\n\t\tconst cellDiv = getNestedElementByClass(point, \"cell\")\n\n\t\tif (cellDiv == null) {\n\t\t\treturn\n\t\t}\n\n\t\tconst cell = cellDiv.obj.cell\n\t\tif (!cell.hasBeenAttacked()) {\n\t\t\t// exit aiming mode\n\t\t\tthis.#div.classList.remove(aimingClass)\n\t\t\tthis.#div.removeEventListener(\n\t\t\t\t\"click\",\n\t\t\t\tthis.#getAttackCoordsOnClickCallbackBinded\n\t\t\t)\n\n\t\t\tPubSub.publish(pubSubTokens.attackCoordsAcquired, cell.coords)\n\t\t}\n\t}\n\n\t#setEditCallbacks() {\n\t\t// Disable touch-action property on each ship div to enable dragging on touch devices\n\t\t// see https://stackoverflow.com/questions/48124372/pointermove-event-not-working-with-touch-why-not\n\t\tthis.#disableTouchActionOnFleet()\n\n\t\t// Disable dragStart events handling on each ship div\n\t\t// see https://javascript.info/mouse-drag-and-drop\n\t\tthis.#disableDragStartOnFleet()\n\n\t\t// Set event listeners just to the gameboard div and use event delegation: you can still retrieve the correct ship/cell\n\n\t\tthis.#div.addEventListener(\n\t\t\t\"pointerdown\",\n\t\t\tthis.#startEditingPointerDownCallbackBinded\n\t\t)\n\t}\n\n\tasync updateMovedDeployedShip(\n\t\tshipName,\n\t\torigCellDiv,\n\t\ttoCellDiv,\n\t\torigShipDivTransform\n\t) {\n\t\t// this helper method actually moves a deployed ship when it has been moved\n\t\t// compute the translation of the ship when placed on the toCell\n\t\t// note that so far the ship position was free, now it is forced to stay in the grid cells\n\n\t\tconst shipObj = this.#fleetDom.get(shipName)\n\t\tconst shipDiv = shipObj.div\n\n\t\t// also, to allow for a smooth transition, first translate the ship in the original position\n\t\tthis.translateShipDiv(shipDiv, origCellDiv, toCellDiv, origShipDivTransform)\n\n\t\t// wait for the translation animation to end\n\t\tawait waitForAsync(animationDuration)\n\n\t\t// set the .no-transition class on this ship: we want the next few operations to occur instantaneously\n\t\tshipDiv.classList.add(noTransitionClass)\n\t\tawait ensureCssClassForAnimationAsync()\n\n\t\t// so far, just transforms were used on the ship div: now update the actual position\n\t\tshipObj.updatePosition(...this.#gameboard.getShipPosition(shipName))\n\n\t\t// restore the original transform property\n\t\tshipDiv.style.transform = origShipDivTransform\n\n\t\t// wait for a few ms to ensure the previous operations were performed, and then remove the no transition class\n\t\tawait ensureCssClassForAnimationAsync()\n\t\tawait waitForAsync(waitDomDelay)\n\n\t\tshipDiv.classList.remove(noTransitionClass)\n\t}\n\n\ttranslateShipDiv(shipDiv, fromCellDiv, toCellDiv, origShipDivTransform) {\n\t\tconst fromcellRect = fromCellDiv.getBoundingClientRect()\n\t\tconst toCellRect = toCellDiv.getBoundingClientRect()\n\n\t\tconst deltaX = toCellRect.x - fromcellRect.x\n\t\tconst deltaY = toCellRect.y - fromcellRect.y\n\n\t\tshipDiv.style.transform = `translate(${deltaX}px,${deltaY}px) ${origShipDivTransform}`\n\t}\n\n\t#startEditingPointerDownCallback(e) {\n\t\t// a single handler for both rotate and drag: the operation to perform is decided using\n\t\t// a displacement threshold: within a given displacement, it is still considered a click\n\t\t// see: https://stackoverflow.com/questions/6042202/how-to-distinguish-mouse-click-and-drag\n\t\t//\n\t\t// dragging based on: https://javascript.info/mouse-drag-and-drop\n\t\t// instead of absolutely positioning the dragging element, a transform translate() will be used\n\t\te.preventDefault()\n\n\t\t// we have subscribed to one event listener for the gameboard: we need to retrieve the appropriate ship div\n\t\tconst point = [e.clientX, e.clientY]\n\t\tconst shipDiv = getNestedElementByClass(point, \"ship\")\n\n\t\t// if there is no ship, return\n\t\tif (shipDiv == null) {\n\t\t\treturn\n\t\t}\n\n\t\tthis.#div.removeEventListener(\n\t\t\t\"pointerdown\",\n\t\t\tthis.#startEditingPointerDownCallbackBinded\n\t\t)\n\n\t\t// if there is a ship div, there is necessarily a cell div, too, and the corresponding cell has a ship\n\t\tconst origCellDiv = getNestedElementByClass(point, \"cell\")\n\t\tconst origCell = origCellDiv.obj.cell\n\t\tconst shipName = origCell.getShip().name\n\n\t\t// create two shadow ship div and append them to the dom\n\t\t// one is fixed to the original position (fallback), the other will be moved based on the pointer\n\t\t// the former will be used to show the destination when the ship cannot be moved\n\t\tconst fallbackShadowShipDiv = shipDiv.obj.initShadowShipDiv()\n\t\tfallbackShadowShipDiv.classList.add(fallbackShadowShipClass)\n\t\tconst shadowShipDiv = shipDiv.obj.initShadowShipDiv()\n\n\t\t// initialize the \"previous cell to move to\" to this initial cell\n\t\tlet prevCellDiv = origCellDiv\n\n\t\t// save the current transform property of the shipDiv: it will be modified while dragging\n\t\tconst origShipDivTransform = shipDiv.style.transform\n\n\t\t// get current coordinates of pointer with respect to window (i.e. clientX, clientY)\n\t\tconst origX = e.clientX\n\t\tconst origY = e.clientY\n\n\t\t// variables used to distinguish between a simple click and a drag\n\t\tconst maxDeltaForClick = 6 // pixels\n\t\tlet dragOn = false\n\n\t\t// define the onDrag and endDrag callbacks in here (use the variables defined on the startDrag callbacks)\n\n\t\tfunction onPointerMoveCallback(e) {\n\t\t\tconst deltaX = e.clientX - origX\n\t\t\tconst deltaY = e.clientY - origY\n\n\t\t\tif (!dragOn) {\n\t\t\t\tconst maxDelta = Math.max(Math.abs(deltaX), Math.abs(deltaY))\n\t\t\t\tif (maxDelta <= maxDeltaForClick) {\n\t\t\t\t\t// too small displacement: consider it a click\n\t\t\t\t\treturn\n\t\t\t\t}\n\n\t\t\t\tdragOn = true\n\n\t\t\t\t// initialize the move of the ship\n\t\t\t\tthis.#gameboard.startMoveShip(shipName, origCell.coords)\n\t\t\t\tshipDiv.classList.add(onDragClass)\n\n\t\t\t\t// append the shadow ship div to the dom\n\t\t\t\tthis.#div.append(shadowShipDiv, fallbackShadowShipDiv)\n\t\t\t}\n\n\t\t\t// you are actually dragging\n\t\t\t// translate the ship to the current pointer coordinates updating the transform property of the shipDiv\n\t\t\t// remember to include the original transform value\n\t\t\tshipDiv.style.transform = `translate(${deltaX}px,${deltaY}px) ${origShipDivTransform}`\n\n\t\t\t// determine if the ship could be placed in the cell\n\t\t\t// get this cell\n\t\t\tconst point = [e.clientX, e.clientY]\n\t\t\tconst thisCellDiv = getNestedElementByClass(point, \"cell\")\n\n\t\t\tif (thisCellDiv !== prevCellDiv) {\n\t\t\t\t// determine if the ship could be placed here\n\t\t\t\tconst isForbidden = thisCellDiv\n\t\t\t\t\t? !this.#gameboard.canPlaceShipOnMove(thisCellDiv.obj.cell.coords)\n\t\t\t\t\t: true\n\n\t\t\t\tshipDiv.classList.toggle(forbiddenShipPositionClass, isForbidden)\n\n\t\t\t\t// add an out-of-bound class to hide the shadowShipDiv when the pointer is out of the gameboared div\n\t\t\t\tshadowShipDiv.classList.toggle(outOfBoundClass, !thisCellDiv)\n\n\t\t\t\t// translate the shadowShipDiv to the current cell, if possible (the position is constrained to the grid)\n\t\t\t\tif (thisCellDiv) {\n\t\t\t\t\tthis.translateShipDiv(\n\t\t\t\t\t\tshadowShipDiv,\n\t\t\t\t\t\torigCellDiv,\n\t\t\t\t\t\tthisCellDiv,\n\t\t\t\t\t\torigShipDivTransform\n\t\t\t\t\t)\n\t\t\t\t}\n\n\t\t\t\t// update the previous cell\n\t\t\t\tprevCellDiv = thisCellDiv\n\t\t\t}\n\t\t}\n\n\t\tasync function stopEditingPointerUpCallback(e) {\n\t\t\tdocument.removeEventListener(\"pointermove\", onPointerMoveCallbackBinded)\n\t\t\tdocument.removeEventListener(\n\t\t\t\t\"pointerup\",\n\t\t\t\tstopEditingPointerUpCallbackBinded\n\t\t\t)\n\t\t\tshipDiv.classList.remove(forbiddenShipPositionClass)\n\n\t\t\tif (dragOn) {\n\t\t\t\t// get the cell in which you have stopped, if it exists\n\t\t\t\t// otherwise, return to the original cell\n\t\t\t\tconst point = [e.clientX, e.clientY]\n\t\t\t\tconst stopCellDiv = getNestedElementByClass(point, \"cell\")\n\t\t\t\tconst toCell = stopCellDiv ? stopCellDiv.obj.cell : origCell\n\n\t\t\t\t// finalize the move of the ship\n\t\t\t\tconst hasMoved = this.#gameboard.endMoveShip(toCell.coords)\n\n\t\t\t\tif (!hasMoved) {\n\t\t\t\t\t// if not moved, hide the shadow ship div (show only the fallback one)\n\t\t\t\t\tshadowShipDiv.style.visibility = \"hidden\"\n\t\t\t\t}\n\n\t\t\t\tawait this.updateMovedDeployedShip(\n\t\t\t\t\tshipName,\n\t\t\t\t\torigCellDiv,\n\t\t\t\t\thasMoved ? stopCellDiv : origCellDiv,\n\t\t\t\t\torigShipDivTransform\n\t\t\t\t)\n\t\t\t\tshipDiv.classList.remove(onDragClass)\n\t\t\t\tshadowShipDiv.remove()\n\t\t\t\tfallbackShadowShipDiv.remove()\n\t\t\t} else {\n\t\t\t\t// rotate ship\n\t\t\t\tthis.#gameboard.rotateShip(shipName, origCell.coords)\n\t\t\t\tawait this.updateDeployedShip(shipName)\n\t\t\t}\n\n\t\t\tthis.#div.addEventListener(\n\t\t\t\t\"pointerdown\",\n\t\t\t\tthis.#startEditingPointerDownCallbackBinded\n\t\t\t)\n\t\t}\n\n\t\tconst onPointerMoveCallbackBinded = onPointerMoveCallback.bind(this)\n\t\tconst stopEditingPointerUpCallbackBinded =\n\t\t\tstopEditingPointerUpCallback.bind(this)\n\n\t\tdocument.addEventListener(\"pointermove\", onPointerMoveCallbackBinded)\n\t\tdocument.addEventListener(\"pointerup\", stopEditingPointerUpCallbackBinded)\n\t}\n\n\t#disableTouchActionOnFleet() {\n\t\tthis.#gameboard.deployedFleet.forEach((shipName) => {\n\t\t\tconst shipObj = this.#fleetDom.get(shipName)\n\t\t\tshipObj.div.style.touchAction = \"none\"\n\t\t})\n\t}\n\n\t#disableDragStartOnFleet() {\n\t\tthis.#gameboard.deployedFleet.forEach((shipName) => {\n\t\t\tconst shipObj = this.#fleetDom.get(shipName)\n\t\t\tshipObj.div.ondragstart = () => false\n\t\t})\n\t}\n}\n","import PubSub from \"pubsub-js\"\nimport { pubSubTokensUi } from \"../pubSubTokens.js\"\nimport { initDiv, initH3, initSpan } from \"../utils/domComponents.js\"\nimport GameboardDom from \"./GameboardDom.js\"\n\nconst blockName = \"player\"\nconst cssClass = {\n\tplayerH3: \"player-h3\",\n\tnameSpan: \"name-span\",\n\tdividerSpan: \"divider-span\",\n\tdeployedFleetSizeSpan: \"deployed-fleet-size-span\",\n\ttextShipSpan: \"text-ship-span\",\n\tgameboardCnt: \"gameboard\",\n}\n\nconst getCssClass = (element) => `${blockName}__${cssClass[element]}`\n\nexport default class PlayerDom {\n\t#div\n\t#player\n\t#gameboardDiv\n\n\tconstructor(player, canBeModified = false) {\n\t\tthis.#player = player\n\t\tthis.#div = this.#initPlayerDiv(player, canBeModified)\n\t\tthis.#div.obj = this\n\n\t\tPubSub.subscribe(\n\t\t\tpubSubTokensUi.setCurrentPlayer(player),\n\t\t\tthis.#markCurrentPlayer.bind(this)\n\t\t)\n\n\t\tPubSub.subscribe(\n\t\t\tpubSubTokensUi.enableAimingOnGameboard(player),\n\t\t\tthis.#enableAimingOnGameboard.bind(this)\n\t\t)\n\n\t\tPubSub.subscribe(\n\t\t\tpubSubTokensUi.showAttackOutcome(player),\n\t\t\tthis.#showAttackOutcome.bind(this)\n\t\t)\n\n\t\tPubSub.subscribe(pubSubTokensUi.toggleDeployedFleetShown(player), () =>\n\t\t\tthis.#gameboardDiv.obj.toggleDeployedFleet()\n\t\t)\n\n\t\tPubSub.subscribe(pubSubTokensUi.hideDeployedFleetShown(player), () =>\n\t\t\tthis.#gameboardDiv.obj.hideDeployedFleet()\n\t\t)\n\n\t\tPubSub.subscribe(pubSubTokensUi.updateDeployedFleetShown(player), () => {\n\t\t\tthis.#gameboardDiv.obj.updateDeployedFleet()\n\t\t})\n\t}\n\n\tget player() {\n\t\treturn this.#player\n\t}\n\n\tget div() {\n\t\treturn this.#div\n\t}\n\n\t#showAttackOutcome(token, { coords, outcome }) {\n\t\tif (outcome.isSunk) {\n\t\t\tPubSub.publish(pubSubTokensUi.shipHasSunk(this.player))\n\t\t}\n\n\t\tthis.#gameboardDiv.obj.showAttackOutcome(coords, outcome)\n\t}\n\n\t#initPlayerDiv(player, canBeModified) {\n\t\tconst div = initDiv(blockName)\n\t\tconst h3 = this.#initHeaderDiv(player)\n\n\t\tconst gameboardCnt = initDiv(getCssClass(\"gameboardCnt\"))\n\t\tconst gameboardDom = new GameboardDom(player.gameboard, canBeModified)\n\t\tthis.#gameboardDiv = gameboardDom.div\n\t\tgameboardCnt.append(this.#gameboardDiv)\n\n\t\tdiv.append(h3, gameboardCnt)\n\t\treturn div\n\t}\n\n\t#initHeaderDiv(player) {\n\t\tconst h3 = initH3(getCssClass(\"playerH3\"))\n\t\tconst nameSpan = initSpan(getCssClass(\"nameSpan\"))\n\t\tconst dividerSpan = initSpan(getCssClass(\"dividerSpan\"))\n\t\tconst deployedFleetSizeSpan = initSpan(getCssClass(\"deployedFleetSizeSpan\"))\n\t\tconst textShipSpan = initSpan(getCssClass(\"textShipSpan\"))\n\n\t\tnameSpan.textContent = player.name\n\t\tdividerSpan.textContent = \" - \"\n\t\tdeployedFleetSizeSpan.textContent = player.gameboard.deployedFleet.length\n\t\ttextShipSpan.textContent =\n\t\t\tplayer.gameboard.deployedFleet.length > 1 ? \" ships\" : \"ship\"\n\n\t\tPubSub.subscribe(pubSubTokensUi.shipHasSunk(this.player), () => {\n\t\t\tconst fleetLength = player.gameboard.deployedFleet.length\n\t\t\tdeployedFleetSizeSpan.textContent = fleetLength\n\t\t\ttextShipSpan.textContent = fleetLength > 1 ? \" ships\" : \" ship\"\n\t\t})\n\n\t\th3.append(nameSpan, dividerSpan, deployedFleetSizeSpan, textShipSpan)\n\t\treturn h3\n\t}\n\n\t#markCurrentPlayer(token, currentPlayer) {\n\t\tif (currentPlayer) {\n\t\t\tthis.#div.classList.add(\"currentPlayer\")\n\t\t} else {\n\t\t\tthis.#div.classList.remove(\"currentPlayer\")\n\t\t}\n\t}\n\n\t#enableAimingOnGameboard() {\n\t\tthis.#gameboardDiv.obj.enableAiming()\n\t}\n}\n","import PubSub from \"pubsub-js\"\nimport {\n\tinitDiv,\n\tinitP,\n\tinitButton,\n\tinitHeader,\n} from \"../utils/domComponents.js\"\nimport PlayerDom from \"./PlayerDom.js\"\nimport { pubSubTokens, pubSubTokensUi } from \"../pubSubTokens.js\"\n\nconst blockName = \"game\"\nconst cssClass = {\n\theader: \"header\",\n\tplayersDiv: \"players-div\",\n\tplayerDiv: \"player-div\",\n\tmsgP: \"msg-p\",\n\tbtns: \"btns\",\n}\n\nconst getCssClass = (element) => `${blockName}__${cssClass[element]}`\n\nexport default class GameViewDom {\n\t#div\n\t#playersDom\n\t#currentPlayer\n\t#versusAi\n\t#showCurrentPlayerDeployedFleetCallbackBinded\n\t#toggleShowMsgCallbackBinded\n\n\t#msgP\n\n\tconstructor(player1, player2, versusAi) {\n\t\tthis.#showCurrentPlayerDeployedFleetCallbackBinded =\n\t\t\tthis.#showCurrentPlayerDeployedFleetCallback.bind(this)\n\n\t\tthis.#toggleShowMsgCallbackBinded = this.#toggleShowMsgCallback.bind(this)\n\n\t\tthis.#playersDom = [new PlayerDom(player1), new PlayerDom(player2)]\n\t\tthis.#versusAi = versusAi\n\t\tthis.#div = this.#initGameViewDiv(...this.#playersDom)\n\t\tthis.#div.obj = this\n\n\t\t// Temporary\n\t\tthis.#currentPlayer = player1\n\n\t\tPubSub.subscribe(\n\t\t\tpubSubTokensUi.playersSwitch,\n\t\t\t(token, { player, isAIPlayer }) => {\n\t\t\t\tthis.#currentPlayer = player\n\t\t\t\tthis.isAIPlayer = isAIPlayer\n\t\t\t\tconsole.log(\"SWITCH\")\n\t\t\t}\n\t\t)\n\t}\n\n\t// Getters\n\tget div() {\n\t\treturn this.#div\n\t}\n\n\t#initGameViewDiv(player1Dom, player2Dom) {\n\t\tconst div = initDiv(blockName)\n\t\tconst playersDiv = initDiv(getCssClass(\"playersDiv\"))\n\n\t\tconst header = this.#initHeader()\n\n\t\tconst player1Div = initDiv(getCssClass(\"playerDiv\"))\n\t\tplayer1Div.append(player1Dom.div)\n\t\tconst player2Div = initDiv(getCssClass(\"playerDiv\"))\n\t\tplayer2Div.append(player2Dom.div)\n\n\t\tplayersDiv.append(player1Div, player2Div)\n\t\tconst msgP = this.#initGameMsg()\n\t\tthis.#msgP = msgP\n\n\t\tdiv.append(header, playersDiv, msgP)\n\n\t\treturn div\n\t}\n\n\t#initHeader() {\n\t\tconst header = initHeader(getCssClass(\"header\"))\n\n\t\tconst buttonsDiv = initDiv(getCssClass(\"btns\"))\n\t\tconst showFleetBtn = this.#initShowFleetBtn()\n\t\tconst toggleShowMsgBtn = this.#initToggleShowMsgBtn()\n\n\t\tif (this.#versusAi) {\n\t\t\tshowFleetBtn.style.display = \"none\"\n\t\t}\n\t\tbuttonsDiv.append(showFleetBtn, toggleShowMsgBtn)\n\t\theader.append(buttonsDiv)\n\t\treturn header\n\t}\n\n\t#initGameMsg() {\n\t\tconst msg = \"...\"\n\t\tconst p = initP(getCssClass(\"msgP\"), msg)\n\n\t\tPubSub.subscribe(\n\t\t\tpubSubTokensUi.setGameStatusMsg,\n\t\t\t(token, gameStatusMsg) => {\n\t\t\t\tp.textContent = gameStatusMsg\n\t\t\t}\n\t\t)\n\t\treturn p\n\t}\n\n\t#initShowFleetBtn() {\n\t\tconst btn = initButton(\n\t\t\t\"btn\",\n\t\t\tthis.#showCurrentPlayerDeployedFleetCallbackBinded,\n\t\t\tnull,\n\t\t\t\"Toggle My Fleet\"\n\t\t)\n\t\treturn btn\n\t}\n\n\t#toggleShowMsgCallback() {\n\t\tPubSub.publish(pubSubTokensUi.toggleShowMsg)\n\t\tthis.#msgP.classList.toggle(\"hidden\")\n\t}\n\n\t#initToggleShowMsgBtn() {\n\t\tconst btn = initButton(\n\t\t\t\"btn\",\n\t\t\tthis.#toggleShowMsgCallbackBinded,\n\t\t\t\"button\",\n\t\t\t\"Toggle Messages\"\n\t\t)\n\n\t\treturn btn\n\t}\n\n\t#showCurrentPlayerDeployedFleetCallback() {\n\t\tPubSub.publish(pubSubTokensUi.toggleDeployedFleetShown(this.#currentPlayer))\n\t}\n}\n","const home = [\n\t\"BATTLESHIP\",\n\t\"Fair winds and following seas! Until next battle...\",\n]\n\nconst editInstructions =\n\t\"Click/tap on a ship to rotate it. Drag and drop to move it.\"\n\nconst deployFleet = {\n\tplayer1_1p: [\"Prepare for battle, Captain! It's time to arrange your fleet.\"],\n\tplayer2_1p: [\n\t\t\"The enemy is now deploying the fleet. Stay alert: the battle is about to start!\",\n\t],\n\tplayer1_2p: (playerName) =>\n\t\t`Prepare for battle, ${playerName}! Arrange your fleet while your opponent looks away.`,\n\tplayer2_2p: (playerName) =>\n\t\t`It's your turn now, ${playerName}! Deploy your fleet once your opponent isn't watching.`,\n}\n\nconst firstMove = {\n\tplayer_1p: \"By fate's roll, you start the battle.\",\n\tplayerAi_1p: \"By fate's roll, your enemy begins.\",\n\tplayer_2p: (playerName) =>\n\t\t`By fate's roll, you start the battle, ${playerName}.`,\n}\n\nconst gameEnd = {\n\twin_1p: [\"VICTORY!\", \"Your fleet sails victorious across the seven seas!\"],\n\tdefeat_1p: [\"GAME OVER!\", \"Your fleet has been reclaimed by the sea...\"],\n\twin_2p: (winnerPlayerName, defeatPlayerName) => [\n\t\t`Well done, ${winnerPlayerName}!`,\n\t\t`All ${defeatPlayerName}'s ships are lost to the depths.`,\n\t],\n}\n\nconst gameplayIdx = {\n\tmiss: 0,\n\thit: 0,\n\thitAndSunk: 0,\n\tpassingTurn: 0,\n}\n\nconst gameplayMsg = {\n\tmiss: [\n\t\t\"Just a splash in the water...\",\n\t\t\"You missed the shot...\",\n\t\t\"No sign of ships here...\",\n\t\t\"Nothing but water there...\",\n\t\t\"Your aim was off...\",\n\t],\n\n\thit: [\n\t\t\"You've just hit a ship!\",\n\t\t\"You scored a nice shot!\",\n\t\t\"You reached the enemy!\",\n\t\t\"You found your mark!\",\n\t\t\"You've hit the target!\",\n\t],\n\n\thitAndSunk: [\n\t\t\"Your attack sinks a ship!\",\n\t\t\"Your shot sinks a ship!\",\n\t\t\"You brought down a ship!\",\n\t\t\"A direct hit and a sunken ship!\",\n\t\t\"You wreck an enemy ship!\",\n\t],\n\n\tpassingTurn: [\n\t\t\"It's your turn!\",\n\t\t\"Aim your cannons!\",\n\t\t\"Prepare to strike!\",\n\t\t\"Take aim and fire!\",\n\t\t\"Arm your cannons!\",\n\t],\n}\n\nconst gameplayMsgAi = {\n\tmiss: [\n\t\t\"but just gets a splash!\",\n\t\t\"but misses the shot!\",\n\t\t\"but finds no sign of you!\",\n\t\t\"but hits nothing but water!\",\n\t\t\"but misfires!\",\n\t],\n\n\thit: [\n\t\t\"and hits one of your ships...\",\n\t\t\"and scores a nice hit...\",\n\t\t\"and reaches your ship...\",\n\t\t\"and finds its mark...\",\n\t\t\"and targets you perfectly...\",\n\t],\n\n\thitAndSunk: [\n\t\t\"and makes your ship sink...\",\n\t\t\"and wrecks your ship...\",\n\t\t\"and sinks your vessel...\",\n\t\t\"and makes you lose a ship...\",\n\t\t\"and brings down your ship...\",\n\t],\n\n\tpassingTurn: [\n\t\t\"The enemy's turn is up next...\",\n\t\t\"The enemy is aiming the cannons...\",\n\t\t\"The enemy is ready to strike...\",\n\t\t\"The enemy takes aim to fire...\",\n\t\t\"The enemy arms the cannons...\",\n\t],\n}\n\nexport function getEditInstructionsMessage() {\n\treturn editInstructions\n}\n\nexport function getDeployFleetMessage({ playerName, isPlayer1, versusAi }) {\n\tif (versusAi) {\n\t\tif (isPlayer1) {\n\t\t\treturn deployFleet.player1_1p\n\t\t} else {\n\t\t\treturn deployFleet.player2_1p\n\t\t}\n\t} else {\n\t\tif (isPlayer1) {\n\t\t\treturn deployFleet.player1_2p(playerName)\n\t\t} else {\n\t\t\treturn deployFleet.player2_2p(playerName)\n\t\t}\n\t}\n}\n\nexport function getFirstPlayerMessage(playerName, versusAi, isPlayerAi) {\n\tif (versusAi) {\n\t\tif (isPlayerAi) {\n\t\t\treturn firstMove.playerAi_1p\n\t\t} else {\n\t\t\treturn firstMove.player_1p\n\t\t}\n\t} else {\n\t\treturn firstMove.player_2p(playerName)\n\t}\n}\n\nexport function getGameplayStatusMessage(\n\tplayerName,\n\tversusAi,\n\tisPlayerAi,\n\ttype\n) {\n\t// select the message object whether the current player is AI or not\n\tconst msgObj = isPlayerAi ? gameplayMsgAi : gameplayMsg\n\n\t// get the index of the message and update the next one\n\tgameplayIdx[type] = (gameplayIdx[type] + 1) % msgObj[type].length\n\tconst idx = gameplayIdx[type]\n\n\treturn `${versusAi ? \"\" : playerName + \"! \"}${msgObj[type][idx]}`\n}\n\nexport function getGameEndMessage(\n\twinnerPlayerName,\n\tdefeatedPlayerName,\n\tversusAi,\n\tisWinnerAi\n) {\n\tif (versusAi) {\n\t\tif (isWinnerAi) {\n\t\t\treturn gameEnd.defeat_1p\n\t\t} else {\n\t\t\treturn gameEnd.win_1p\n\t\t}\n\t} else {\n\t\treturn gameEnd.win_2p(winnerPlayerName, defeatedPlayerName)\n\t}\n}\n\nexport function getHomeViewMessage() {\n\treturn home\n}\n","import {\n\tinitDiv,\n\tinitP,\n\tinitButton,\n\tinitHeader,\n\tinitH2,\n} from \"../utils/domComponents.js\"\nimport { getGameEndMessage } from \"../messages.js\"\nimport { pubSubTokens } from \"../pubSubTokens.js\"\nimport PubSub from \"pubsub-js\"\n\nconst blockName = \"game-end\"\nconst cssClass = {\n\theader: \"header\",\n\ttitleH2: \"title-h2\",\n\tsubtitleP: \"subtitle-p\",\n\tplayAgainBtn: \"play-again-btn\",\n}\n\nconst getCssClass = (element) => `${blockName}__${cssClass[element]}`\n\nexport default class GameEndViewDom {\n\t#div\n\n\tconstructor(winnerPlayerName, defeatedPlayerName, versusAi, isWinnerAi) {\n\t\tconst [title, subtitle] = getGameEndMessage(\n\t\t\twinnerPlayerName,\n\t\t\tdefeatedPlayerName,\n\t\t\tversusAi,\n\t\t\tisWinnerAi\n\t\t)\n\n\t\tthis.#div = this.#initGameViewDiv(title, subtitle)\n\n\t\tconst typeOfWinnerClass = versusAi\n\t\t\t? isWinnerAi\n\t\t\t\t? \"defeated-1p\"\n\t\t\t\t: \"winner-1p\"\n\t\t\t: \"winner-2p\"\n\n\t\tthis.#div.classList.add(typeOfWinnerClass)\n\t}\n\n\t// getters\n\tget div() {\n\t\treturn this.#div\n\t}\n\n\t#initGameViewDiv(title, subtitle) {\n\t\tconst div = initDiv(blockName)\n\t\tconst header = initHeader(getCssClass(\"header\"))\n\t\tconst titleH2 = initH2(getCssClass(\"titleH2\"), title)\n\t\tconst subtitleP = initP(getCssClass(\"subtitleP\"), subtitle)\n\t\tconst playAgainBtn = this.#initPlayAgainBtn()\n\n\t\theader.append(titleH2, subtitleP)\n\t\tdiv.append(header, playAgainBtn)\n\n\t\treturn div\n\t}\n\n\t#initPlayAgainBtn() {\n\t\tconst btn = initButton(\n\t\t\tgetCssClass(\"playAgainBtn\"),\n\t\t\tthis.#initPlayAgainCallback,\n\t\t\tnull,\n\t\t\t\"PLAY AGAIN\"\n\t\t)\n\t\treturn btn\n\t}\n\n\t#initPlayAgainCallback() {\n\t\tPubSub.publish(pubSubTokens.showHomeView)\n\t}\n}\n","import {\n\tinitDiv,\n\tinitP,\n\tinitButton,\n\tinitHeader,\n} from \"../utils/domComponents.js\"\nimport PlayerDom from \"./PlayerDom.js\"\nimport { pubSubTokens, pubSubTokensUi } from \"../pubSubTokens.js\"\nimport {\n\tgetEditInstructionsMessage,\n\tgetDeployFleetMessage,\n} from \"../../js-modules/messages.js\"\nimport { aiDeployFleetDelay } from \"../delays.js\"\nimport PubSub from \"pubsub-js\"\n\nconst blockName = \"deploy-fleet\"\nconst cssClass = {\n\theader: \"header\",\n\tplayerDiv: \"player-div\",\n\tbtns: \"btns\",\n\tmsgP: \"msg-p\",\n\teditInstructionsP: \"edit-instructions-p\",\n}\nconst getCssClass = (element) => `${blockName}__${cssClass[element]}`\n\nexport default class DeployFleetViewDom {\n\t#div\n\t#playerDom\n\t#playerData\n\n\tconstructor(player, isAi, isPlayer1, versusAi) {\n\t\tplayer.randomShipsPlacement()\n\n\t\tthis.#playerData = {\n\t\t\tplayerName: player.name,\n\t\t\tisPlayer1,\n\t\t\tversusAi,\n\t\t}\n\n\t\tif (!isAi) {\n\t\t\tthis.#playerDom = new PlayerDom(player, true)\n\n\t\t\tthis.#div = this.#initDeployFleetViewDiv()\n\t\t} else {\n\t\t\tthis.#div = this.#initAiDeployFleetViewDiv()\n\n\t\t\t// Notify the initialization of the fleet for the AI\n\t\t\tsetTimeout(\n\t\t\t\t() => PubSub.publish(pubSubTokens.fleetDeployed),\n\t\t\t\taiDeployFleetDelay\n\t\t\t)\n\t\t}\n\t}\n\n\t// Getters\n\tget div() {\n\t\treturn this.#div\n\t}\n\n\t#initDeployFleetViewDiv() {\n\t\tconst div = initDiv(blockName)\n\t\tconst header = this.#initHeader()\n\t\tconst playerDiv = initDiv(getCssClass(\"playerDiv\"))\n\t\tthis.#playerDom.div.append(this.#initEditInstructions())\n\t\tplayerDiv.append(this.#playerDom.div)\n\n\t\t// show the ships\n\t\tPubSub.publish(\n\t\t\tpubSubTokensUi.toggleDeployedFleetShown(this.#playerDom.player)\n\t\t)\n\n\t\tconst msgP = this.#initGameMsg()\n\t\tdiv.append(header, playerDiv, msgP)\n\n\t\treturn div\n\t}\n\n\t#initAiDeployFleetViewDiv() {\n\t\tconst div = initDiv(blockName)\n\t\tconst msg = this.#initGameMsg()\n\t\tdiv.append(msg)\n\t\treturn div\n\t}\n\n\t#initHeader() {\n\t\tconst header = initHeader(getCssClass(\"header\"))\n\n\t\tconst buttonsDiv = initDiv(getCssClass(\"btns\"))\n\t\tconst randomizeFleetBtn = this.#initRandomizeFleetButton()\n\t\tconst fleetReadyBtn = this.#initFleetReadyButton()\n\n\t\tbuttonsDiv.append(randomizeFleetBtn, fleetReadyBtn)\n\t\theader.append(buttonsDiv)\n\n\t\treturn header\n\t}\n\n\t#initEditInstructions() {\n\t\tconst msg = getEditInstructionsMessage()\n\t\treturn initP(getCssClass(\"editInstructionsP\"), msg)\n\t}\n\n\t#initGameMsg() {\n\t\tconst msg = getDeployFleetMessage(this.#playerData)\n\t\treturn initP(getCssClass(\"msgP\"), msg)\n\t}\n\n\t#initRandomizeFleetButton() {\n\t\tconst btn = initButton(\n\t\t\t\"btn\",\n\t\t\tthis.#randomizeFleetCallback.bind(this),\n\t\t\t\"button\",\n\t\t\t\"Randomize\"\n\t\t)\n\t\treturn btn\n\t}\n\n\t#randomizeFleetCallback() {\n\t\tthis.#playerDom.player.repeatRandomShipsPlacement()\n\n\t\tPubSub.publish(\n\t\t\tpubSubTokensUi.updateDeployedFleetShown(this.#playerDom.player)\n\t\t)\n\t}\n\n\t#initFleetReadyButton() {\n\t\tconst btn = initButton(\n\t\t\t\"btn\",\n\t\t\tthis.#fleetReadyCallback,\n\t\t\t\"button\",\n\t\t\t\"I'M READY!\"\n\t\t)\n\t\treturn btn\n\t}\n\n\t#fleetReadyCallback() {\n\t\t// Notify the initialization of the page\n\t\tPubSub.publish(pubSubTokens.fleetDeployed)\n\t}\n}\n","import {\n\tinitDiv,\n\tinitP,\n\tinitButton,\n\tinitH1,\n\tinitHeader,\n} from \"../utils/domComponents.js\"\nimport { getHomeViewMessage } from \"../messages.js\"\nimport { pubSubTokens } from \"../pubSubTokens.js\"\nimport PubSub from \"pubsub-js\"\n\nconst blockName = \"home\"\nconst cssClass = {\n\theader: \"header\",\n\ttitleH1: \"title-h1\",\n\tsubtitleP: \"subtitle-p\",\n\tplay1Player: \"play-1-player\",\n\tplay2Players: \"play-2-players\",\n\tplayersBtns: \"players-btns\",\n}\n\nconst getCssClass = (element) => `${blockName}__${cssClass[element]}`\n\nexport default class HomeViewDom {\n\t#div\n\n\tconstructor() {\n\t\tconst [title, subtitle] = getHomeViewMessage()\n\n\t\tthis.#div = this.#initGameViewDiv(title, subtitle)\n\t}\n\n\t// getters\n\tget div() {\n\t\treturn this.#div\n\t}\n\n\t#initGameViewDiv(title, subtitle) {\n\t\tconst div = initDiv(blockName)\n\n\t\tconst header = initHeader(getCssClass(\"header\"))\n\t\tconst titleH1 = initH1(getCssClass(\"titleH1\"), title)\n\t\tconst subtitleP = initP(getCssClass(\"subtitleP\"), subtitle)\n\n\t\tconst playersBtns = initDiv(getCssClass(\"playersBtns\"))\n\t\tconst play1Player = this.#initPlay1Player()\n\t\tconst play2Players = this.#initPlay2Players()\n\n\t\theader.append(titleH1, subtitleP)\n\t\tplayersBtns.append(play1Player, play2Players)\n\t\tdiv.append(header, playersBtns)\n\t\treturn div\n\t}\n\n\t#initPlay1Player() {\n\t\tconst btn = initButton(\n\t\t\tgetCssClass(\"play1Player\"),\n\t\t\tthis.#initPlay1PlayerCallback,\n\t\t\tnull,\n\t\t\t\"1 PLAYER\"\n\t\t)\n\t\treturn btn\n\t}\n\n\t#initPlay1PlayerCallback() {\n\t\tPubSub.publish(pubSubTokens.showPlayersNameView, { versusAi: true })\n\t}\n\n\t#initPlay2Players() {\n\t\tconst btn = initButton(\n\t\t\tgetCssClass(\"play2Players\"),\n\t\t\tthis.#initPlay2PlayersCallback,\n\t\t\tnull,\n\t\t\t\"2 PLAYERS\"\n\t\t)\n\t\treturn btn\n\t}\n\n\t#initPlay2PlayersCallback() {\n\t\tPubSub.publish(pubSubTokens.showPlayersNameView, { versusAi: false })\n\t}\n}\n","export default class Cell {\n\t#coords\n\t#ship\n\t#hasBeenAttacked\n\n\tconstructor(coords) {\n\t\tthis.#coords = coords\n\t\tthis.#ship = null\n\t\tthis.#hasBeenAttacked = false\n\t}\n\n\tget coords() {\n\t\treturn this.#coords\n\t}\n\n\tget x() {\n\t\treturn this.#coords[0]\n\t}\n\n\tget y() {\n\t\treturn this.#coords[1]\n\t}\n\n\tplaceShip(ship) {\n\t\tthis.#ship = ship\n\t}\n\n\tremoveShip() {\n\t\tthis.#ship = null\n\t}\n\n\thasShip() {\n\t\treturn this.#ship !== null\n\t}\n\n\tgetShip() {\n\t\treturn this.#ship\n\t}\n\n\treceiveAttack() {\n\t\tif (this.#hasBeenAttacked) {\n\t\t\tthrow new Error(\"This cell has already been attacked\")\n\t\t}\n\n\t\tthis.#hasBeenAttacked = true\n\n\t\tif (this.hasShip()) {\n\t\t\tthis.#ship.hit()\n\t\t\treturn true\n\t\t}\n\n\t\treturn false\n\t}\n\n\thasBeenAttacked() {\n\t\treturn this.#hasBeenAttacked\n\t}\n}\n","export default class Ship {\n\t#length\n\t#hits\n\t#name\n\n\tconstructor(length, name = \"\") {\n\t\tthis.#length = length\n\t\tthis.#hits = 0\n\t\tthis.#name = name\n\t}\n\n\tget length() {\n\t\treturn this.#length\n\t}\n\n\tget name() {\n\t\treturn this.#name\n\t}\n\n\tget hits() {\n\t\treturn this.#hits\n\t}\n\n\thit() {\n\t\tif (this.isSunk()) {\n\t\t\tthrow new Error(\"The ship is already sunk\")\n\t\t}\n\n\t\tthis.#hits += 1\n\t}\n\n\tisSunk() {\n\t\treturn this.#hits === this.#length\n\t}\n}\n","import Cell from \"./Cell.js\"\nimport Ship from \"./Ship.js\"\n\nconst directionDisplacement = {\n\tN: [0, -1],\n\tE: [1, 0],\n\tS: [0, 1],\n\tW: [-1, 0],\n}\nconst directionNext = {\n\tN: \"E\",\n\tE: \"S\",\n\tS: \"W\",\n\tW: \"N\",\n}\n\nexport default class Gameboard {\n\t#nCols\n\t#nRows\n\t#cells\n\t#deployedFleet\n\t#notDeployedFleet\n\t#sunkFleet\n\t#fleetPosition\n\t#shipOnMoveData\n\n\tconstructor(nCols, nRows = nCols) {\n\t\tthis.#nCols = nCols\n\t\tthis.#nRows = nRows\n\n\t\tthis.#cells = []\n\t\tfor (let c = 0; c < nCols; c++) {\n\t\t\tthis.#cells.push([])\n\t\t\tfor (let r = 0; r < nRows; r++) {\n\t\t\t\tconst cell = new Cell([c, r])\n\t\t\t\tthis.#cells[c].push(cell)\n\t\t\t}\n\t\t}\n\n\t\tthis.#deployedFleet = new Map()\n\t\tthis.#notDeployedFleet = new Map()\n\t\tthis.#sunkFleet = new Map()\n\t\tthis.#fleetPosition = new Map()\n\t}\n\n\tget size() {\n\t\treturn [this.#nCols, this.#nRows]\n\t}\n\n\tget nCols() {\n\t\treturn this.#nCols\n\t}\n\n\tget nRows() {\n\t\treturn this.#nRows\n\t}\n\n\tget deployedFleet() {\n\t\treturn [...this.#deployedFleet.keys()]\n\t}\n\n\tget notDeployedFleet() {\n\t\treturn [...this.#notDeployedFleet.keys()]\n\t}\n\n\tget sunkFleet() {\n\t\treturn [...this.#sunkFleet.keys()]\n\t}\n\n\tget fleet() {\n\t\t// Returns keys (names)\n\t\treturn [...this.deployedFleet, ...this.notDeployedFleet, ...this.sunkFleet]\n\t}\n\n\tget cells() {\n\t\treturn this.#cells\n\t}\n\n\tget deployedFleetAsShipObj() {\n\t\treturn [...this.#deployedFleet.values()]\n\t}\n\n\tget notDeployedFleetAsShipObj() {\n\t\treturn [...this.#notDeployedFleet.values()]\n\t}\n\n\tget sunkFleetAsShipObj() {\n\t\treturn [...this.#sunkFleet.values()]\n\t}\n\n\tget fleetAsShipObj() {\n\t\treturn [\n\t\t\t...this.deployedFleetAsShipObj,\n\t\t\t...this.notDeployedFleetAsShipObj,\n\t\t\t...this.sunkFleetAsShipObj,\n\t\t]\n\t}\n\n\tstatic getAllDirections() {\n\t\treturn Object.keys(directionDisplacement)\n\t}\n\n\thasDeployedShip(name) {\n\t\treturn this.#deployedFleet.has(name)\n\t}\n\n\thasNotDeployedShip(name) {\n\t\treturn this.#notDeployedFleet.has(name)\n\t}\n\n\tgetCell([c, r]) {\n\t\tif (this.isValidCell([c, r])) return this.#cells[c][r]\n\n\t\tthrow new Error(\"The cell is out-of-bound\")\n\t}\n\n\tisValidCell([c, r]) {\n\t\treturn c >= 0 && c < this.#nCols && r >= 0 && r < this.#nRows\n\t}\n\n\taddShip(name, length) {\n\t\tif (this.hasShip(name)) {\n\t\t\tthrow new Error(\"The ship is already in the fleet\")\n\t\t}\n\n\t\tconst ship = new Ship(length, name)\n\t\tthis.#notDeployedFleet.set(name, ship)\n\t\tthis.#fleetPosition.set(name, null)\n\t}\n\n\thasShip(name) {\n\t\treturn (\n\t\t\tthis.hasDeployedShip(name) ||\n\t\t\tthis.hasNotDeployedShip(name) ||\n\t\t\tthis.hasSunkShip(name)\n\t\t)\n\t}\n\n\tcanPlaceShip(name, [cStart, rStart], direction) {\n\t\tif (!this.hasNotDeployedShip(name)) {\n\t\t\treturn false\n\t\t}\n\n\t\tconst ship = this.#notDeployedFleet.get(name)\n\n\t\t// Compute the end\n\t\tconst [cDisp, rDisp] = directionDisplacement[direction]\n\n\t\t// If the start or end is not in board, return false\n\t\tif (\n\t\t\t!this.isValidCell([cStart, rStart]) ||\n\t\t\t!this.isValidCell([\n\t\t\t\tcStart + cDisp * (ship.length - 1),\n\t\t\t\trStart + rDisp * (ship.length - 1),\n\t\t\t])\n\t\t) {\n\t\t\treturn false\n\t\t}\n\n\t\t// Traverse through the cells to check if there is a ship\n\t\tlet [cCurrent, rCurrent] = [cStart, rStart]\n\t\tlet counter = 0\n\t\twhile (counter < ship.length) {\n\t\t\tif (this.#cells[cCurrent][rCurrent].hasShip()) return false\n\n\t\t\tcCurrent += cDisp\n\t\t\trCurrent += rDisp\n\t\t\tcounter += 1\n\t\t}\n\n\t\treturn true\n\t}\n\n\tplaceShip(name, [cStart, rStart], direction) {\n\t\tif (!this.canPlaceShip(name, [cStart, rStart], direction))\n\t\t\tthrow new Error(\"The ship cannot be placed in this position\")\n\n\t\tconst ship = this.#notDeployedFleet.get(name)\n\t\tconst [cDisp, rDisp] = directionDisplacement[direction]\n\n\t\tlet [cCurrent, rCurrent] = [cStart, rStart]\n\t\tlet counter = 0\n\t\tconst cellsCoords = []\n\t\twhile (counter < ship.length) {\n\t\t\tthis.#cells[cCurrent][rCurrent].placeShip(ship)\n\t\t\tcellsCoords.push([cCurrent, rCurrent])\n\t\t\tcCurrent += cDisp\n\t\t\trCurrent += rDisp\n\n\t\t\tcounter += 1\n\t\t}\n\n\t\tthis.#notDeployedFleet.delete(name)\n\t\tthis.#deployedFleet.set(name, ship)\n\t\tthis.#fleetPosition.set(name, [cellsCoords, direction])\n\t}\n\n\tresetShip(name) {\n\t\t// you can reset a ship only if it is deployed\n\t\tif (!this.hasDeployedShip(name)) {\n\t\t\tthrow new Error(\"The ship is not deployed.\")\n\t\t}\n\n\t\tconst ship = this.#deployedFleet.get(name)\n\n\t\t// reset the cells\n\t\tconst cellCoords = this.#fleetPosition.get(name)[0]\n\t\tcellCoords.forEach(([c, r]) => this.#cells[c][r].removeShip())\n\n\t\tthis.#deployedFleet.delete(name)\n\t\tthis.#notDeployedFleet.set(name, ship)\n\t\tthis.#fleetPosition.set(name, null)\n\t}\n\n\t#offsetRelativeToStern(relativeToCoord, cellCoords) {\n\t\tconst [centerCol, centerRow] = relativeToCoord\n\t\treturn cellCoords.findIndex(([c, r]) => c === centerCol && r === centerRow)\n\t}\n\n\t#sternFromOffset(relativeToCoord, offset, direction) {\n\t\tconst [col, row] = relativeToCoord\n\t\tconst [cDisp, rDisp] = directionDisplacement[direction]\n\t\treturn [col - offset * cDisp, row - offset * rDisp]\n\t}\n\n\trotateShip(name, optionalCenterOfRotation = null) {\n\t\tif (!this.hasDeployedShip(name)) {\n\t\t\tthrow new Error(\"The ship is not deployed.\")\n\t\t}\n\n\t\t// get the old position\n\t\tconst [cellCoords, direction] = this.#fleetPosition.get(name)\n\n\t\t// compute the center of rotation coordinates\n\t\tconst centerOfRotation =\n\t\t\toptionalCenterOfRotation == null\n\t\t\t\t? cellCoords[0]\n\t\t\t\t: optionalCenterOfRotation\n\t\tconst [centerCol, centerRow] = centerOfRotation\n\t\t// compute the offset of the center of rotation from the stern\n\t\tconst offset = this.#offsetRelativeToStern(centerOfRotation, cellCoords)\n\n\t\t// reset the ship (remove it from the gameboard)\n\t\tthis.resetShip(name)\n\n\t\t// find a direction where you could place the rotated ship\n\t\t// note that this loop is finite, since at most you return to the original direction\n\t\tlet newDirection = direction\n\t\tlet newSternCoords\n\t\tdo {\n\t\t\tnewDirection = directionNext[newDirection]\n\t\t\tnewSternCoords = this.#sternFromOffset(\n\t\t\t\tcenterOfRotation,\n\t\t\t\toffset,\n\t\t\t\tnewDirection\n\t\t\t)\n\t\t} while (!this.canPlaceShip(name, newSternCoords, newDirection))\n\n\t\t// place the rotated ship\n\t\tthis.placeShip(name, newSternCoords, newDirection)\n\t}\n\n\tstartMoveShip(name, optionalRelativeToCoords = null) {\n\t\tif (!this.hasDeployedShip(name)) {\n\t\t\tthrow new Error(\"This ship is not deployed.\")\n\t\t}\n\n\t\t// get the current ship position and direction\n\t\tconst [cellCoords, direction] = this.#fleetPosition.get(name)\n\t\tconst sternCoords = cellCoords[0]\n\n\t\t// get the \"relative to\" coordinates: if the optionalRelativeToCoords is omitted\n\t\t// this defaults to sternCoords\n\t\tconst relativeToCoords = optionalRelativeToCoords\n\t\t\t? optionalRelativeToCoords\n\t\t\t: sternCoords\n\n\t\t// compute the offset of the \"relative to\" coordinates from the stern\n\t\tconst offset = this.#offsetRelativeToStern(relativeToCoords, cellCoords)\n\n\t\t// save the current ship stern position, direction, and offset\n\t\tthis.#shipOnMoveData = { name, sternCoords, direction, offset }\n\n\t\t// reset the ship (remove it from the gameboard)\n\t\tthis.resetShip(name)\n\t}\n\n\tcanPlaceShipOnMove(testRelativeCoords) {\n\t\t// test if the ship being moved could be placed in a given position, returning true or false\n\t\t// the ship is not actually placed\n\n\t\tif (!this.#shipOnMoveData) {\n\t\t\tthrow new Error(\"No ship is being moved\")\n\t\t}\n\n\t\t// get the saved ship stern direction and offset from #shipOnMoveData\n\t\tconst { name, direction, offset } = this.#shipOnMoveData\n\n\t\t// get the new stern coords\n\t\tconst testSternCoords = this.#sternFromOffset(\n\t\t\ttestRelativeCoords,\n\t\t\toffset,\n\t\t\tdirection\n\t\t)\n\n\t\treturn this.canPlaceShip(name, testSternCoords, direction)\n\t}\n\n\tendMoveShip(newRelativeCoords = null) {\n\t\t// NOTE: this assumes no other ship is deployed/edited in the original ship position between startMoveShip() and this method call\n\n\t\tif (!this.#shipOnMoveData) {\n\t\t\tthrow new Error(\"No ship is being moved\")\n\t\t}\n\n\t\t// get the saved ship position, direction, and offset from #shipOnMoveData and then reset it\n\t\tconst { name, sternCoords, direction, offset } = this.#shipOnMoveData\n\t\tthis.#shipOnMoveData = null\n\n\t\t// get the new stern coords\n\t\t// use the saved sternCoords if newRelativeCoords is omitted\n\t\t// which defaults it to the old position\n\t\tconst newSternCoords = newRelativeCoords\n\t\t\t? this.#sternFromOffset(newRelativeCoords, offset, direction)\n\t\t\t: sternCoords\n\n\t\t// if you can't place it in the new position, restore the old one\n\t\tconst nextSternCoords = this.canPlaceShip(name, newSternCoords, direction)\n\t\t\t? newSternCoords\n\t\t\t: sternCoords\n\t\t// place the ship in the new position\n\t\tthis.placeShip(name, nextSternCoords, direction)\n\n\t\treturn nextSternCoords.some((itm, idx) => itm !== sternCoords[idx])\n\t}\n\n\tgetShipPosition(shipName) {\n\t\tif (!this.hasShip(shipName)) {\n\t\t\tthrow new Error(\"The ship is not in the fleet\")\n\t\t}\n\n\t\treturn this.#fleetPosition.get(shipName)\n\t}\n\n\treceiveAttack([c, r]) {\n\t\t// Returns the outcomeCode:\n\t\t// 0 (falsy): miss\n\t\t// 1 (truthy): hit\n\t\t// 2 (truthy): hit and sunk\n\t\tconst cell = this.getCell([c, r])\n\t\tconst isHit = cell.receiveAttack()\n\t\tconst ship = cell.getShip()\n\t\tif (isHit) {\n\t\t\tif (ship.isSunk()) {\n\t\t\t\t// get the name of the ship\n\t\t\t\tconst name = ship.name\n\t\t\t\tthis.#sunkFleet.set(name, ship)\n\t\t\t\tthis.#deployedFleet.delete(name)\n\t\t\t\treturn 2\n\t\t\t}\n\n\t\t\treturn 1\n\t\t}\n\n\t\treturn 0\n\t}\n\n\thasSunkShip(name) {\n\t\treturn this.#sunkFleet.has(name)\n\t}\n\n\thasDeployedShips() {\n\t\treturn this.#deployedFleet.size > 0\n\t}\n\n\thasNotDeployedShips() {\n\t\treturn this.#notDeployedFleet.size > 0\n\t}\n}\n","export function randomInt(min, max) {\n\tmin = Math.ceil(min)\n\tmax = Math.floor(max)\n\n\treturn Math.floor(Math.random() * (max - min + 1)) + min\n}\n","import Gameboard from \"./Gameboard\"\nimport { randomInt } from \"../utils/math\"\n\nconst allDirections = Gameboard.getAllDirections()\n\nexport default class Player {\n\t#name\n\t#gameboard\n\t#fleet\n\n\tstatic defaultGameboardSize = 10\n\tstatic defaultFleet = [\n\t\t[\"ship_5\", 5],\n\t\t[\"ship_4\", 4],\n\t\t[\"ship_3b\", 3],\n\t\t[\"ship_3a\", 3],\n\t\t[\"ship_2a\", 2],\n\t]\n\n\tconstructor(\n\t\tname,\n\t\tfleet = Player.defaultFleet,\n\t\tnCols = Player.defaultGameboardSize,\n\t\tnRows = nCols\n\t) {\n\t\tthis.#name = name\n\t\tthis.#gameboard = new Gameboard(nCols, nRows)\n\t\tthis.#fleet = fleet\n\t\tthis.#fleet.forEach(([name, length]) =>\n\t\t\tthis.#gameboard.addShip(name, length)\n\t\t)\n\t}\n\n\tget name() {\n\t\treturn this.#name\n\t}\n\n\tget gameboard() {\n\t\treturn this.#gameboard\n\t}\n\n\tget fleet() {\n\t\treturn this.#fleet.keys()\n\t}\n\n\trandomShipsPlacement() {\n\t\tthis.#gameboard.notDeployedFleet.forEach((name) => {\n\t\t\tlet cStart, rStart, direction\n\t\t\tdo {\n\t\t\t\tcStart = randomInt(0, this.#gameboard.nCols - 1)\n\t\t\t\trStart = randomInt(0, this.#gameboard.nRows - 1)\n\t\t\t\tdirection = allDirections[randomInt(0, allDirections.length - 1)]\n\t\t\t} while (!this.#gameboard.canPlaceShip(name, [cStart, rStart], direction))\n\n\t\t\tthis.#gameboard.placeShip(name, [cStart, rStart], direction)\n\t\t})\n\t}\n\n\trepeatRandomShipsPlacement() {\n\t\t// reset the deployed fleet\n\t\tconst deployedFleet = [...this.#gameboard.deployedFleet]\n\t\tdeployedFleet.forEach((name) => {\n\t\t\tthis.#gameboard.resetShip(name)\n\t\t})\n\n\t\tthis.randomShipsPlacement()\n\t}\n}\n","import Player from \"./Player.js\"\nimport { randomInt } from \"../utils/math.js\"\n\n// The Ai can have different skills, which define different applied strategies.\n// - random: choose just a random cell on the board. A target list is kept,\n// and after each attack, the attacked cell is removed from the list.\n//\n// - huntTarget: choose a random target as a base. However, when you score a hit,\n// add the neighbouring cells which have not been attacked yet to some high\n// priority list. When the priority list is not empty, choose the next cell\n// to attack among these instead of the global one.\n//\n// improvedHuntTarget: the same as the huntTarget one.\n// However, in hunt mode, not all cells are considered,\n// but just the ones for which: (row + col) % opponentMinShipSize === offset,\n// where opponentMinShipSize is the minimum  ship size of the opponent,\n// offset is a number between 0 and opponentMinShipSize-1, such that\n// the set {(row, cols) such that (row + col) % opponentMinShipSize === offset}\n// of target cells has the minimum size.\n//\n// - probabilistic: a frequency map is computed considering each possible\n// target cell, counting all the ways an unsunk ship could be placed\n// in there. Note that each possibility is weighted 1. However, if the ship\n// in a given position crosses N hit cells, the weight is 100^N. This helps\n// prioritizing the cells close to the hit ones.\n//\n// The cell with the highest frequency is selected. If there is more than one\n// with the same maximum frequency, one of them is chosen randomly.\n//\n// When a cell is attacked, it is still removed from the possible targets list.\n// However, its coordinates are saved in a hitTarget list if there is a hit.\n// Once a ship is sunk, its occupied coordinates are removed from hitTargets list.\n//\n// - improvedProbabilistic: when in target mode (i.e., there are hit cells which\n// are not of sunk ship), apply the probabilistic strategy.\n//\n// Otherwise, in hunt mode, consider just the selected cells considering parity\n// (see improvedHuntTarget strategy), and in particular their squared frequencies,\n// from which a probability is recomputed. Then, select a random cell among these cells,\n// taking into account such probability. In this way, at the beginning it is more\n// probable to choose a cell in the middle.\n// However, there is no guarantee to be choosing exactly one of those.\n// See https://towardsdatascience.com/coding-an-intelligent-battleship-agent-bf0064a4b319\n\nconst defaultSkills = \"huntTarget\"\nconst arr2str = (arr) => arr.join(\",\")\nconst neighboursCellDisplacement = [\n\t[0, 1],\n\t[0, -1],\n\t[1, 0],\n\t[-1, 0],\n]\n\nexport default class AiPlayer extends Player {\n\t#possibleTargets\n\t#highPriorityPossibleTargets\n\t#skills\n\t#getOpponentTargetCellCoords // methods initialized based on the #skills\n\t#applyPostAttackActions // methods initialized based on the #skills\n\t#opponentMinShipSize\n\t#opponentShipSizes\n\t#selectedPossibleTargets\n\t#hitTargets\n\t#targetFrequencies\n\n\tconstructor(\n\t\tname,\n\t\tskills = defaultSkills,\n\t\tfleet = Player.defaultFleet,\n\t\tnCols = Player.defaultGameboardSize,\n\t\tnRows = nCols\n\t) {\n\t\tsuper(name, fleet, nCols, nRows)\n\n\t\tthis.#initPossibleTargets()\n\n\t\tif (\n\t\t\tskills == \"improvedHuntTarget\" ||\n\t\t\tskills == \"probabilistic\" ||\n\t\t\tskills == \"improvedProbabilistic\"\n\t\t) {\n\t\t\tthis.#initOpponentShipsSize()\n\t\t}\n\t\tthis.#skills = skills\n\t\tthis.#initPlayerSkills()\n\t}\n\n\t#initPossibleTargets() {\n\t\tthis.#possibleTargets = new Map(\n\t\t\tthis.gameboard.cells\n\t\t\t\t.flat()\n\t\t\t\t.map((cell) => [arr2str(cell.coords), cell.coords])\n\t\t)\n\t\t// [[3, 2], [2, 1]]\n\t\t// [[\"3,2\", [3, 2]], [[\"2,1\"], [2, 1]]]\n\t\t// this.#possibleTargets.set(\"3,2\", [3, 2])\n\t\t// this.#possibleTargets.set(\"2,1\", [2, 1])\n\t\tthis.#highPriorityPossibleTargets = new Map()\n\t\tthis.#hitTargets = new Map()\n\t}\n\n\t#initPlayerSkills() {\n\t\tif (this.#skills == \"random\") {\n\t\t\tthis.#getOpponentTargetCellCoords =\n\t\t\t\tthis.#getOpponentTargetCellCoordsRandom\n\t\t\tthis.#applyPostAttackActions = this.#applyPostAttackActionsRandom\n\t\t} else if (this.#skills == \"huntTarget\") {\n\t\t\tthis.#getOpponentTargetCellCoords =\n\t\t\t\tthis.#getOpponentTargetCellCoordsHuntTarget\n\t\t\tthis.#applyPostAttackActions = this.#applyPostAttackActionsHuntTarget\n\t\t} else if (this.#skills == \"improvedHuntTarget\") {\n\t\t\tthis.#getOpponentTargetCellCoords =\n\t\t\t\tthis.#getOpponentTargetCellCoordsImprovedHuntTarget\n\t\t\tthis.#applyPostAttackActions =\n\t\t\t\tthis.#applyPostAttackActionsImprovedHuntTarget\n\t\t} else if (this.#skills == \"probabilistic\") {\n\t\t\tthis.#getOpponentTargetCellCoords =\n\t\t\t\tthis.#getOpponentTargetCellCoordsProbabilistic\n\t\t\tthis.#applyPostAttackActions = this.#applyPostAttackActionsProbabilistic\n\t\t} else if (this.#skills == \"improvedProbabilistic\") {\n\t\t\tthis.#getOpponentTargetCellCoords =\n\t\t\t\tthis.#getOpponentTargetCellCoordsImprovedProbabilistic\n\t\t\tthis.#applyPostAttackActions =\n\t\t\t\tthis.#applyPostAttackActionsImprovedProbabilistic\n\t\t}\n\t}\n\n\tgetOpponentTargetCellCoords() {\n\t\t// this is a wrapper and allows to use different strategies in the future\n\t\t// implementations using the same interface: todo\n\t\treturn this.#getOpponentTargetCellCoords()\n\t}\n\n\tapplyPostAttackActions(cellCoords, outcome = {}) {\n\t\t// this is a wrapper and allows to use different strategies in the future\n\t\t// implementations using the same interface: todo\n\t\t// outcome is set as argument for future improvements\n\t\treturn this.#applyPostAttackActions(cellCoords, outcome)\n\t}\n\n\t/* random strategy */\n\t#getOpponentTargetCellCoordsRandom(targetMap = this.#possibleTargets) {\n\t\tif (targetMap.size === 0) {\n\t\t\tthrow new Error(\"There are no possible opponent targets\")\n\t\t}\n\n\t\tconst idx = randomInt(0, targetMap.size - 1)\n\t\treturn Array.from(targetMap.values())[idx]\n\t}\n\n\t#applyPostAttackActionsRandom(cellCoords) {\n\t\tthis.#possibleTargets.delete(arr2str(cellCoords))\n\t}\n\n\t/* huntTarget strategy */\n\t#getOpponentTargetCellCoordsHuntTarget() {\n\t\tconst targetMap =\n\t\t\tthis.#highPriorityPossibleTargets.size > 0\n\t\t\t\t? this.#highPriorityPossibleTargets // target mode\n\t\t\t\t: this.#possibleTargets // hunt mode\n\t\treturn this.#getOpponentTargetCellCoordsRandom(targetMap)\n\t}\n\n\t#applyPostAttackActionsHuntTarget(cellCoords, outcome = {}) {\n\t\tthis.#possibleTargets.delete(arr2str(cellCoords))\n\t\tthis.#highPriorityPossibleTargets.delete(arr2str(cellCoords))\n\n\t\tif (outcome.isHit) {\n\t\t\t// give high priority to the next turn\n\t\t\tconst [col, row] = cellCoords\n\n\t\t\tneighboursCellDisplacement.forEach(([dCol, dRow]) => {\n\t\t\t\t// Compute the neighbor cells\n\t\t\t\tconst neighCellCoords = [col + dCol, row + dRow]\n\n\t\t\t\t// If the cell is in the possible targets list (ie, not attacked yet)\n\t\t\t\t// and not yet in the high priority one, move it there\n\t\t\t\t// This also eliminates coords outside of parameter\n\t\t\t\tif (this.#possibleTargets.has(arr2str(neighCellCoords))) {\n\t\t\t\t\tthis.#possibleTargets.delete(arr2str(neighCellCoords))\n\t\t\t\t\tthis.#highPriorityPossibleTargets.set(\n\t\t\t\t\t\tarr2str(neighCellCoords),\n\t\t\t\t\t\tneighCellCoords\n\t\t\t\t\t)\n\t\t\t\t}\n\t\t\t})\n\t\t}\n\t}\n\n\t/* improvedHuntTarget strategy */\n\t#getOpponentTargetCellCoordsImprovedHuntTarget() {\n\t\tconst targetMap =\n\t\t\tthis.#highPriorityPossibleTargets.size > 0\n\t\t\t\t? this.#highPriorityPossibleTargets // target mode\n\t\t\t\t: this.#selectedPossibleTargets // hunt mode\n\t\treturn this.#getOpponentTargetCellCoordsRandom(targetMap)\n\t}\n\n\t#applyPostAttackActionsImprovedHuntTarget(cellCoords, outcome) {\n\t\tthis.#applyPostAttackActionsHuntTarget(cellCoords, outcome)\n\n\t\t// Delete the coords from the selectedPossibleTargets, too\n\t\t// There is no need to delete the neighboring cells if it is a hit,\n\t\t// Because in target mode, you won't be using #selectedPossibleTargets\n\t\tthis.#selectedPossibleTargets.delete(arr2str(cellCoords))\n\n\t\t// If the ship is sunk, update the opponentMinShipSize\n\t\tif (outcome.isSunk) {\n\t\t\tthis.#removeOpponentSunkShipSize(outcome.sunkShip.length)\n\t\t}\n\t}\n\n\t#initOpponentShipsSize() {\n\t\t// The opponent ships' length are the same of the current player\n\t\t// so use this players coordinates\n\t\t// Sort the array by ship length\n\t\tthis.#opponentShipSizes = this.gameboard.fleetAsShipObj\n\t\t\t.map((ship) => ship.length)\n\t\t\t.sort((a, b) => a - b)\n\t\tthis.#updateOpponentMinShipSize()\n\t}\n\n\t#removeOpponentSunkShipSize(size) {\n\t\tthis.#opponentShipSizes.splice(this.#opponentShipSizes.indexOf(size), 1)\n\t\tthis.#updateOpponentMinShipSize()\n\t}\n\n\t#updateOpponentMinShipSize() {\n\t\t// The minimum is the first element, as it is sorted\n\t\tthis.#opponentMinShipSize = this.#opponentShipSizes[0]\n\n\t\t// Get the selected possible targets based on\n\t\t// this.#opponentMinShipSize\n\t\tthis.#getSelectedPossibleTargets()\n\t}\n\n\t#getSelectedPossibleTargets() {\n\t\tconst minShipSize = this.#opponentMinShipSize\n\n\t\t// initialize the possible targets Map with the full possibleTargets list\n\t\t// store it in an array, which will be used to keep track of different sets of the same Map size\n\t\tlet selectedPossibleTargetsArr = [\n\t\t\tnew Map(JSON.parse(JSON.stringify(Array.from(this.#possibleTargets)))),\n\t\t]\n\t\tlet minMapSize = selectedPossibleTargetsArr[0].size\n\n\t\t// There are different possible Maps that can be considered, each one with a different offset.\n\t\t// The elements in each one are those who fulfill: (row + col) % minShipSize === offset\n\t\tfor (let offset = 0; offset < minShipSize; offset++) {\n\t\t\t// Create a temporary Map with the possible targets cells fulfilling parity with this offset\n\t\t\tconst tempSelectedPossibleTargets = new Map()\n\t\t\t;[...this.#possibleTargets.entries()].forEach(([key, [row, col]]) => {\n\t\t\t\tif ((row + col) % minShipSize === offset) {\n\t\t\t\t\ttempSelectedPossibleTargets.set(key, [row, col])\n\t\t\t\t}\n\t\t\t})\n\t\t\tconst tempMapSize = tempSelectedPossibleTargets.size\n\n\t\t\t// If this temporary Map has a smaller size than minMapSize, replace the selectedPossibleTargetsArr and update (reduce) minMapSize\n\t\t\tif (tempMapSize < minMapSize) {\n\t\t\t\tselectedPossibleTargetsArr = [tempSelectedPossibleTargets]\n\t\t\t\tminMapSize = tempMapSize\n\t\t\t} else if (tempMapSize === minMapSize) {\n\t\t\t\tselectedPossibleTargetsArr.push(tempSelectedPossibleTargets)\n\t\t\t}\n\n\t\t\t// Use a set from selectedPossibleTargetsArr. Choose randomly, as they are equivalent\n\t\t\tconst idx = randomInt(0, selectedPossibleTargetsArr.length - 1)\n\t\t\t// console.log(idx, selectedPossibleTargetsArr)\n\t\t\tthis.#selectedPossibleTargets = selectedPossibleTargetsArr[idx]\n\t\t}\n\t}\n\n\t/* probabilistic Strategy */\n\t#getOpponentTargetCellCoordsProbabilistic() {\n\t\tthis.#computeCellsProbabilities()\n\n\t\t// get the cells with the maximum probability\n\t\tlet maxFrequency = 0\n\t\tlet maxFrequenciesCoordsKeys = []\n\n\t\tthis.#targetFrequencies.entries().forEach(([key, frequency]) => {\n\t\t\tif (frequency > maxFrequency) {\n\t\t\t\tmaxFrequenciesCoordsKeys = [key]\n\t\t\t\tmaxFrequency = frequency\n\t\t\t} else if (frequency == maxFrequency) {\n\t\t\t\tmaxFrequenciesCoordsKeys.push(key)\n\t\t\t}\n\t\t})\n\n\t\t// Randomly select one cells coords among maxFrequenciesCoordsKeys\n\t\tconst idx = randomInt(0, maxFrequenciesCoordsKeys.length - 1)\n\n\t\treturn this.#possibleTargets.get(maxFrequenciesCoordsKeys[idx])\n\t}\n\n\t#applyPostAttackActionsProbabilistic(cellCoords, outcome) {\n\t\t// Delete current cell from possible targets\n\t\tthis.#possibleTargets.delete(arr2str(cellCoords))\n\n\t\t// If hit, add cell to hit targets (which does not include sunk ship targets)\n\t\tif (outcome.isHit) {\n\t\t\tthis.#hitTargets.set(arr2str(cellCoords), cellCoords)\n\t\t}\n\n\t\t// If sunk, remove ship coords from hit targets (which does not include sunk ship targets)\n\t\tif (outcome.isSunk) {\n\t\t\tconst sunkShipCoords = outcome.sunkShipCoords[0]\n\n\t\t\tsunkShipCoords.forEach((coords) =>\n\t\t\t\tthis.#hitTargets.delete(arr2str(coords))\n\t\t\t)\n\t\t}\n\t}\n\n\t#computeCellsProbabilities() {\n\t\t// Initialize the frequencies map\n\t\tconst frequencies = new Map()\n\t\tthis.#possibleTargets.keys().forEach((key) => frequencies.set(key, 0))\n\n\t\t// For each ship length\n\t\tfor (const shipSize of this.#opponentShipSizes) {\n\t\t\t// For each possible target\n\t\t\tfor (const [col, row] of this.#possibleTargets.values()) {\n\t\t\t\t// For each possible direction\n\t\t\t\tforDirection: for (const [dCol, dRow] of neighboursCellDisplacement) {\n\t\t\t\t\tconst tempCellsKeys = []\n\t\t\t\t\tlet hits = 0\n\t\t\t\t\t// const tempStr = `ship of length ${shipSize} in cell (${col},${row}) along ${dRow > 0 ? \"S\" : dRow < 0 ? \"N\" : dCol > 0 ? \"E\" : \"W\"}`\n\n\t\t\t\t\t// check if the ship can fit: start from the end, so you could stop early if they overflow\n\t\t\t\t\tfor (let delta = shipSize - 1; delta >= 0; delta--) {\n\t\t\t\t\t\tconst [c, r] = [col + dCol * delta, row + dRow * delta]\n\t\t\t\t\t\tconst tempKey = arr2str([c, r])\n\t\t\t\t\t\tconst isHit = this.#hitTargets.has(tempKey)\n\n\t\t\t\t\t\t// check if the cell could be occupied by this ship\n\t\t\t\t\t\t// i.e., either it is in the possible (not attacked) targets or hit (but unsunk)\n\t\t\t\t\t\t// if not, try next ship direction\n\t\t\t\t\t\tif (!this.#possibleTargets.has(tempKey) && !isHit) {\n\t\t\t\t\t\t\t// console.log(\"no\", tempStr)\n\t\t\t\t\t\t\tcontinue forDirection\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// if hit, increment the hits counter, else save this cell label\n\t\t\t\t\t\tif (isHit) {\n\t\t\t\t\t\t\thits++\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\ttempCellsKeys.push(tempKey)\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\t// Increment the counter for eeach cell that would be occupied by the ship\n\t\t\t\t\t// Note: if there are some hits, this is weighted 100**hits instead of 1\n\t\t\t\t\t// This helps prioritizing the cells close to the hit ones.\n\t\t\t\t\t// Note: each ship is counted twice (it can be placed in two opposite directions)\n\n\t\t\t\t\t// const strTempCells = tempCellsKeys.map((key) => `(${key})`)\n\t\t\t\t\t// console.log(\"ALLOWED\", tempStr, \"-->\", ...strTempCells)\n\n\t\t\t\t\tconst increment = hits === 0 ? 1 : 100 ** hits\n\n\t\t\t\t\ttempCellsKeys.forEach((key) => {\n\t\t\t\t\t\tconst frequency = frequencies.get(key)\n\t\t\t\t\t\tfrequencies.set(key, frequency + increment)\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tconsole.log(frequencies)\n\t\tthis.#targetFrequencies = frequencies\n\t}\n\n\t/* improvedProbabilistic Strategy */\n\t#getOpponentTargetCellCoordsImprovedProbabilistic() {\n\t\t// in target mode: apply the probabilistic approach\n\t\tif (this.#hitTargets.size > 0) {\n\t\t\treturn this.#getOpponentTargetCellCoordsProbabilistic()\n\t\t}\n\n\t\t// hunt mode: consider just the selected sells (see improved hunt target approach)\n\t\t// consider the this.#selectedPossibleTargets list\n\t\tthis.#computeCellsProbabilities()\n\n\t\t// get the squared frequencies of the selected targets\n\t\tconst targetFrequencies = new Map()\n\t\tthis.#selectedPossibleTargets\n\t\t\t.keys()\n\t\t\t.forEach((key) =>\n\t\t\t\ttargetFrequencies.set(key, this.#targetFrequencies.get(key) ** 2)\n\t\t\t)\n\n\t\t// compute the sum of such selected frequencies\n\t\tconst sum = targetFrequencies\n\t\t\t.values()\n\t\t\t.reduce((sum, frequency) => sum + frequency, 0)\n\n\t\t// get a cell randomly, taking into account such probabilities\n\t\tconst rand = randomInt(0, sum - 1)\n\t\tlet cumsum = 0\n\n\t\tfor (const [key, frequency] of targetFrequencies) {\n\t\t\tcumsum += frequency\n\n\t\t\tif (cumsum > rand) {\n\t\t\t\treturn this.#selectedPossibleTargets.get(key)\n\t\t\t}\n\t\t}\n\t}\n\n\t#applyPostAttackActionsImprovedProbabilistic(cellCoords, outcome) {\n\t\tthis.#applyPostAttackActionsProbabilistic(cellCoords, outcome)\n\n\t\t// delete the coords from the selectedPossibleTargets, too\n\t\tthis.#selectedPossibleTargets.delete(arr2str(cellCoords))\n\n\t\t// if the ship is sunk, update the opponentMinShipSize\n\t\tif (outcome.isSunk) {\n\t\t\tthis.#removeOpponentSunkShipSize(outcome.sunkShip.length)\n\t\t}\n\t}\n}\n","import Player from \"./Player.js\"\nimport AiPlayer from \"./AiPlayer.js\"\nimport PubSub from \"pubsub-js\"\nimport { randomInt } from \"../utils/math.js\"\nimport { pubSubTokens, pubSubTokensUi, pubSubTopicUi } from \"../pubSubTokens.js\"\nimport { aiMoveDelay, endGameDelay, msgDelay } from \"../delays.js\"\nimport { getFirstPlayerMessage, getGameplayStatusMessage } from \"../messages.js\"\n\nexport default class GameController {\n\t#player1\n\t#player2\n\t#current // Current player turn\n\t#opponent // Next player turn\n\t#versusAi\n\t#actualMsgDelay\n\t#showMsg\n\n\tconstructor(\n\t\tplayer1Name,\n\t\tplayer2Name,\n\t\tversusAi = true,\n\t\taiSkills = null,\n\t\tshowMsg = true\n\t) {\n\t\tthis.#player1 = this.#initPlayer(player1Name)\n\t\tthis.#player2 = this.#initPlayer(player2Name, versusAi, aiSkills)\n\n\t\tthis.#versusAi = versusAi\n\n\t\t// subscribe to PubSub token to be able to disable the game state messages and speed up the game\n\t\tthis.#showMsg = showMsg\n\t\tconst toggleShowMsg = () => (this.#showMsg = !this.#showMsg)\n\t\tthis.#actualMsgDelay = () => (this.#showMsg ? msgDelay : 0)\n\t\tPubSub.subscribe(pubSubTokensUi.toggleShowMsg, toggleShowMsg.bind(this))\n\n\t\tthis.#initGame()\n\t}\n\n\t/* Player Methods */\n\n\tget player1() {\n\t\treturn this.#player1\n\t}\n\n\tget player2() {\n\t\treturn this.#player2\n\t}\n\n\t#initPlayer(playerName, isAi = false, aiSkills) {\n\t\tif (isAi) {\n\t\t\treturn new AiPlayer(playerName, aiSkills)\n\t\t} else {\n\t\t\treturn new Player(playerName)\n\t\t}\n\t}\n\n\t#initCurrentPlayer() {\n\t\t// Randomly select the first player\n\t\tif (randomInt(0, 1) == 0) {\n\t\t\tthis.#current = this.#player1\n\t\t\tthis.#opponent = this.#player2\n\t\t} else {\n\t\t\tthis.#current = this.#player2\n\t\t\tthis.#opponent = this.#player1\n\t\t}\n\n\t\tif (this.#versusAi) {\n\t\t\tPubSub.publish(pubSubTokensUi.toggleDeployedFleetShown(this.#player1))\n\t\t}\n\n\t\tPubSub.publish(pubSubTokensUi.playersSwitch, {\n\t\t\tplayer: this.#current,\n\t\t\tisAIPlayer: this.#isAIPlayer(),\n\t\t})\n\t}\n\n\t#switchCurrentPlayer() {\n\t\t;[this.#current, this.#opponent] = [this.#opponent, this.#current]\n\n\t\tconst statusMsg = getGameplayStatusMessage(\n\t\t\tthis.#current.name,\n\t\t\tthis.#versusAi,\n\t\t\tthis.#isAIPlayer(),\n\t\t\t\"passingTurn\"\n\t\t)\n\n\t\tPubSub.publish(pubSubTokensUi.setGameStatusMsg, statusMsg)\n\n\t\tPubSub.publish(pubSubTokensUi.playersSwitch, {\n\t\t\tplayer: this.#current,\n\t\t\tisAIPlayer: this.#isAIPlayer(),\n\t\t})\n\n\t\tif (!this.#versusAi) {\n\t\t\tPubSub.publish(pubSubTokensUi.hideDeployedFleetShown(this.#opponent))\n\t\t}\n\t}\n\n\t#isAIPlayer() {\n\t\treturn this.#current instanceof AiPlayer\n\t}\n\n\t/* Init game methods */\n\t#initGame() {\n\t\t// Start by deploying player 1 fleet: player 2 fleet will be deployed next\n\t\tthis.#deployPlayer1Fleet()\n\t}\n\n\t/* Fleet deployment methods */\n\t#deployPlayer1Fleet() {\n\t\tPubSub.subscribe(\n\t\t\tpubSubTokens.fleetDeployed,\n\t\t\tthis.#deployPlayer2Fleet.bind(this)\n\t\t)\n\n\t\tPubSub.publish(pubSubTokens.showDeployFleetView, {\n\t\t\tplayer: this.#player1,\n\t\t\tisAi: false,\n\t\t\tisPlayer1: true,\n\t\t\tversusAi: this.#versusAi,\n\t\t})\n\t}\n\n\t#deployPlayer2Fleet() {\n\t\tPubSub.unsubscribe(pubSubTokens.fleetDeployed)\n\t\tPubSub.unsubscribe(pubSubTokensUi)\n\t\tPubSub.subscribe(pubSubTokens.fleetDeployed, this.#initGameView.bind(this))\n\n\t\tPubSub.publish(pubSubTokens.showDeployFleetView, {\n\t\t\tplayer: this.#player2,\n\t\t\tisAi: this.#versusAi,\n\t\t\tisPlayer1: false,\n\t\t\tversusAi: this.#versusAi,\n\t\t})\n\t}\n\n\t#initGameView() {\n\t\tPubSub.unsubscribe(pubSubTokens.fleetDeployed)\n\t\tPubSub.unsubscribe(pubSubTokensUi)\n\n\t\tPubSub.subscribe(\n\t\t\tpubSubTokens.gameViewInitialized,\n\t\t\tthis.#playGame.bind(this)\n\t\t)\n\n\t\tPubSub.publish(pubSubTokens.showGameView, {\n\t\t\tplayer1: this.#player1,\n\t\t\tplayer2: this.#player2,\n\t\t\tversusAi: this.#versusAi,\n\t\t})\n\t}\n\n\t#playGame() {\n\t\tPubSub.unsubscribe(pubSubTokens.gameViewInitialized)\n\n\t\tthis.#initCurrentPlayer()\n\t\tthis.#consoleLogMessage(\"startGame\")\n\t\tconst statusMsg = getFirstPlayerMessage(\n\t\t\tthis.#current.name,\n\t\t\tthis.#versusAi,\n\t\t\tthis.#isAIPlayer()\n\t\t)\n\t\tPubSub.publish(pubSubTokensUi.setGameStatusMsg, statusMsg)\n\n\t\t// Continue playing until someone wins, or\n\t\t// no more moves are allowed\n\t\tPubSub.subscribe(pubSubTokens.playTurn, this.#playTurn.bind(this))\n\t\t// Play the first turn\n\t\tthis.#playTurn()\n\t}\n\n\t#playTurn() {\n\t\tthis.#consoleLogMessage(\"startTurn\")\n\n\t\tPubSub.publish(pubSubTokensUi.setCurrentPlayer(this.#current), true)\n\t\tPubSub.publish(pubSubTokensUi.setCurrentPlayer(this.#opponent), false)\n\n\t\t// First, subscribe to the token that perform the attack\n\t\t// when its coords are acquired\n\t\tPubSub.subscribe(\n\t\t\tpubSubTokens.attackCoordsAcquired,\n\t\t\tthis.#attackCoordsAcquiredCallback.bind(this)\n\t\t)\n\n\t\tthis.#getAttackCoords()\n\t}\n\n\t#attackCoordsAcquiredCallback(token, coords) {\n\t\tPubSub.unsubscribe(pubSubTokens.attackCoordsAcquired)\n\n\t\t// Perform actions based on hit or miss outcome\n\t\tPubSub.subscribe(\n\t\t\tpubSubTokens.attackOutcomeShown,\n\t\t\tthis.#attackOutcomeShownCallback.bind(this)\n\t\t)\n\n\t\t// Attack the opponent and get outcome info\n\t\tconst outcome = this.#attackTheOpponent(coords)\n\t\t// Perform actions based on hit or miss outcome (todo)\n\t\tsetTimeout(\n\t\t\t() => {\n\t\t\t\tconst statusMsg = getGameplayStatusMessage(\n\t\t\t\t\tthis.#current.name,\n\t\t\t\t\tthis.#versusAi,\n\t\t\t\t\tthis.#isAIPlayer(),\n\t\t\t\t\toutcome.isHit ? (outcome.isSunk ? \"hitAndSunk\" : \"hit\") : \"miss\"\n\t\t\t\t)\n\t\t\t\tPubSub.publish(pubSubTokensUi.setGameStatusMsg, statusMsg)\n\t\t\t\tthis.#showAttackOutcome(coords, outcome)\n\t\t\t},\n\t\t\tthis.#isAIPlayer() ? Math.max(aiMoveDelay, this.#actualMsgDelay()) : 0\n\t\t)\n\t}\n\n\t#getAttackCoords() {\n\t\tif (this.#isAIPlayer()) {\n\t\t\tconst coords = this.#current.getOpponentTargetCellCoords()\n\t\t\tPubSub.publish(pubSubTokens.attackCoordsAcquired, coords)\n\t\t} else {\n\t\t\tPubSub.publish(pubSubTokensUi.enableAimingOnGameboard(this.#opponent))\n\t\t}\n\t}\n\n\t#attackTheOpponent(coords) {\n\t\t// attacks and returns an object with info about the outcome of the attack\n\t\tconst outcomeCode = this.#opponent.gameboard.receiveAttack(coords)\n\n\t\tconst isHit = outcomeCode > 0\n\t\tconst isSunk = outcomeCode == 2\n\t\tconst isWin = !this.#opponent.gameboard.hasDeployedShips()\n\n\t\t// The player can only know the hit ship if this gets sunk\n\t\tconst sunkShip = isSunk\n\t\t\t? this.#opponent.gameboard.getCell(coords).getShip()\n\t\t\t: null\n\n\t\tconst sunkShipCoords = isSunk\n\t\t\t? this.#opponent.gameboard.getShipPosition(sunkShip.name)\n\t\t\t: null\n\n\t\treturn { isHit, isSunk, isWin, sunkShip, sunkShipCoords }\n\t}\n\n\t#applyPostAttackActions(coords, outcome) {\n\t\tif (this.#isAIPlayer()) {\n\t\t\tthis.#current.applyPostAttackActions(coords, outcome)\n\t\t} else {\n\t\t\t// todo\n\t\t}\n\t}\n\n\t#consoleLogMessage(label, data = {}) {\n\t\tconst message = {\n\t\t\tstartGame: () => `${this.#current.name} starts.`,\n\t\t\tstartTurn: () => `${this.#current.name}'s turn.`,\n\t\t\tattackInfo: ({ coords, outcome }) => {\n\t\t\t\tconst coordsStr = `[${coords[0]},${coords[1]}]`\n\t\t\t\tconst outcomeStr = `${outcome.isHit ? \"hit\" : \"miss\"}${\n\t\t\t\t\toutcome.isSunk ? \" and sunk\" : \"\"\n\t\t\t\t}`\n\t\t\t\tconst sunkShip = outcome.isSunk\n\t\t\t\t\t? ` ship of size: ${outcome.sunkShip.length}`\n\t\t\t\t\t: \"\"\n\t\t\t\treturn `Attacks ${coordsStr} > ${outcomeStr}${sunkShip}`\n\t\t\t},\n\t\t\tendGame: () => `${this.#current.name} WINS!`,\n\t\t}\n\n\t\tconsole.log(message[label](data))\n\t}\n\n\t#showAttackOutcome(coords, outcome) {\n\t\tthis.#consoleLogMessage(\"attackInfo\", { coords, outcome })\n\n\t\tPubSub.publish(pubSubTokensUi.showAttackOutcome(this.#opponent), {\n\t\t\tcoords,\n\t\t\toutcome,\n\t\t})\n\t}\n\n\t#attackOutcomeShownCallback(token, { coords, outcome }) {\n\t\t// First, unsubscribe from attackOutcomeShown token\n\t\tPubSub.unsubscribe(pubSubTokens.attackOutcomeShown)\n\n\t\t// End the game if the current player wins\n\t\tif (outcome.isWin) {\n\t\t\tthis.#consoleLogMessage(\"endGame\")\n\t\t\tPubSub.unsubscribe(pubSubTokens.playTurn)\n\t\t\tPubSub.unsubscribe(pubSubTopicUi) // remove all UI PubSub subscriptions\n\n\t\t\tsetTimeout(\n\t\t\t\t() =>\n\t\t\t\t\tPubSub.publish(pubSubTokens.showGameEndView, {\n\t\t\t\t\t\twinnerPlayerName: this.#current.name,\n\t\t\t\t\t\tdefeatedPlayerName: this.#opponent.name,\n\t\t\t\t\t\tversusAi: this.#versusAi,\n\t\t\t\t\t\tisWinnerAi: this.#isAIPlayer(),\n\t\t\t\t\t}),\n\t\t\t\tendGameDelay\n\t\t\t)\n\t\t\treturn\n\t\t}\n\n\t\t// Perform post-attack actions\n\t\tthis.#applyPostAttackActions(coords, outcome)\n\t\t// Pass turn to opponent\n\t\tsetTimeout(() => {\n\t\t\tthis.#switchCurrentPlayer()\n\t\t\tPubSub.publish(pubSubTokens.playTurn)\n\t\t}, this.#actualMsgDelay())\n\t}\n}\n","import {\n\tinitDiv,\n\tinitP,\n\tinitButton,\n\tinitHeader,\n\tinitH1,\n\tinitInput,\n} from \"../utils/domComponents.js\"\nimport { getHomeViewMessage } from \"../messages.js\"\nimport GameController from \"../logic/GameController.js\"\n\nconst blockName = \"players-name\"\nconst cssClass = {\n\theader: \"header\",\n\ttitleH1: \"title-h1\",\n\tsubtitleP: \"subtitle-p\",\n\tplayBtn: \"play-btn\",\n\tplayersCntDiv: \"players-cnt-div\",\n\tplayerDiv: \"player-div\",\n\taiPlayerDiv: \"ai-player-div\",\n\tprevAiBtn: \"prev-ai-btn\",\n\tnextAiBtn: \"next-ai-btn\",\n\tplayerNameP: \"player-name-p\",\n\tplayerTitleP: \"player-title-p\",\n\tplayerNameInput: \"player-name-input\",\n\tvsP: \"vs-p\",\n}\nconst getCssClass = (element) => `${blockName}__${cssClass[element]}`\n\nconst aiPlayers = [\n\t{ title: \"Captain\", name: \"Novice\", skills: \"random\" },\n\t{ title: \"Captain\", name: \"Intermediate\", skills: \"huntTarget\" },\n\t{ title: \"Captain\", name: \"Advanced\", skills: \"improvedHuntTarget\" },\n\t{ title: \"Captain\", name: \"Expert\", skills: \"probabilistic\" },\n\t{ title: \"Captain\", name: \"Master\", skills: \"improvedProbabilistic\" },\n]\nconst defaultData = {\n\tplayer1: { title: \"Captain\", name: \"Hook\" },\n\tplayer2: { title: \"Captain\", name: \"Finch\" },\n\taiPlayerIdx: 2,\n}\n\nexport default class PlayersNameViewDom {\n\t#versusAi\n\t#div\n\t#playersName = []\n\t#aiPlayerIdx\n\t#aiSkills\n\n\tconstructor(versusAi) {\n\t\tthis.#versusAi = versusAi\n\t\tthis.#div = this.#initGameViewDiv()\n\t}\n\n\t// Getters\n\tget div() {\n\t\treturn this.#div\n\t}\n\n\t#initGameViewDiv() {\n\t\tconst div = initDiv(blockName)\n\t\tconst header = initHeader(getCssClass(\"header\"))\n\t\tconst [title, subtitle] = getHomeViewMessage()\n\t\tconst titleH1 = initH1(getCssClass(\"titleH1\"), title)\n\t\tconst subtitleP = initP(getCssClass(\"subtitleP\"), subtitle)\n\t\tconst playersSelection = this.#initPlayersSelection()\n\t\tconst playBtn = this.#initPlayBtn()\n\n\t\theader.append(titleH1, subtitleP)\n\t\tdiv.append(header, playersSelection, playBtn)\n\n\t\treturn div\n\t}\n\n\t#initPlayCallback() {\n\t\t// Create a new game controller (this triggers the start of the game,\n\t\t// once initialized)\n\t\t// console.log(this.#playersName)\n\t\tnew GameController(...this.#playersName, this.#versusAi, this.#aiSkills)\n\t}\n\n\t#initPlayBtn() {\n\t\tconst btn = initButton(\n\t\t\tgetCssClass(\"playBtn\"),\n\t\t\tthis.#initPlayCallback.bind(this),\n\t\t\tnull,\n\t\t\t\"Set sails!\"\n\t\t)\n\n\t\treturn btn\n\t}\n\n\t#initPlayersSelection() {\n\t\tconst playersCntDiv = initDiv(getCssClass(\"playersCntDiv\"))\n\n\t\tconst player1Div = this.#initPlayerNameDiv(defaultData.player1)\n\t\tconst vsP = initP(getCssClass(\"vsP\"), \"VS\")\n\t\tconst player2Div = this.#versusAi\n\t\t\t? this.#initAiPlayerNameDiv(defaultData.aiPlayerIdx)\n\t\t\t: this.#initPlayerNameDiv(defaultData.player2)\n\n\t\tplayersCntDiv.append(player1Div, vsP, player2Div)\n\n\t\treturn playersCntDiv\n\t}\n\n\t#initPlayerNameDiv({ title, name }) {\n\t\tconst playerId = this.#playersName.length\n\t\tconst playerCntDiv = initDiv(getCssClass(\"playerDiv\"))\n\t\tconst playerTitleP = initP(getCssClass(\"playerTitleP\"), title)\n\t\tconst playerNameInput = initInput(\n\t\t\tgetCssClass(\"playerNameInput\"),\n\t\t\t`${getCssClass(\"playerNameInput\")}_${playerId}`,\n\t\t\t`playerName_${playerId}`,\n\t\t\tname,\n\t\t\tfalse\n\t\t)\n\t\tplayerNameInput.maxLength = 15\n\n\t\tplayerCntDiv.append(playerTitleP, playerNameInput)\n\n\t\tconst setPlayerName = () => {\n\t\t\tthis.#playersName[playerId] = `${playerTitleP.textContent.trim()} ${\n\t\t\t\tplayerNameInput.value != \"\"\n\t\t\t\t\t? playerNameInput.value.trim()\n\t\t\t\t\t: playerNameInput.placeholder.trim()\n\t\t\t}`\n\t\t}\n\t\tsetPlayerName()\n\t\tplayerNameInput.addEventListener(\"input\", setPlayerName.bind(this))\n\n\t\treturn playerCntDiv\n\t}\n\n\t#initAiPlayerNameDiv(aiPlayerIdx) {\n\t\tthis.#aiPlayerIdx = aiPlayerIdx\n\n\t\tconst playerId = this.#playersName.length\n\t\tconst playerCntDiv = initDiv([\n\t\t\tgetCssClass(\"playerDiv\"),\n\t\t\tgetCssClass(\"aiPlayerDiv\"),\n\t\t])\n\n\t\tconst playerNameP = initP(getCssClass(\"playerNameP\"))\n\t\tconst playerTitleP = initP(getCssClass(\"playerTitleP\"))\n\n\t\tconst setPlayerName = () => {\n\t\t\tthis.#playersName[\n\t\t\t\tplayerId\n\t\t\t] = `${playerTitleP.textContent.trim()} ${playerNameP.textContent.trim()}`\n\t\t}\n\n\t\tconst setAiPlayer = () => {\n\t\t\tprevAiBtn.disabled = this.#aiPlayerIdx === 0\n\t\t\tnextAiBtn.disabled = this.#aiPlayerIdx === aiPlayers.length - 1\n\n\t\t\tconst { title, name, skills } = aiPlayers[this.#aiPlayerIdx]\n\n\t\t\tplayerNameP.textContent = name\n\t\t\tplayerTitleP.textContent = title\n\t\t\tthis.#aiSkills = skills\n\n\t\t\tsetPlayerName()\n\t\t}\n\n\t\t// Callbacks\n\t\tconst prevAiCallback = () => {\n\t\t\tthis.#aiPlayerIdx--\n\t\t\tsetAiPlayer()\n\t\t}\n\n\t\tconst nextAiCallback = () => {\n\t\t\tthis.#aiPlayerIdx++\n\t\t\tsetAiPlayer()\n\t\t}\n\n\t\tconst prevAiBtn = initButton(\n\t\t\tgetCssClass(\"prevAiBtn\"),\n\t\t\tprevAiCallback.bind(this),\n\t\t\tnull,\n\t\t\t\"<\"\n\t\t)\n\t\tconst nextAiBtn = initButton(\n\t\t\tgetCssClass(\"nextAiBtn\"),\n\t\t\tnextAiCallback.bind(this),\n\t\t\tnull,\n\t\t\t\">\"\n\t\t)\n\n\t\tplayerCntDiv.append(prevAiBtn, playerTitleP, playerNameP, nextAiBtn)\n\n\t\t// Init AI player\n\t\tsetAiPlayer()\n\n\t\treturn playerCntDiv\n\t}\n}\n","import { initFooter, initP } from \"../utils/domComponents.js\"\n\nexport default function initMainFooter() {\n\tconst footer = initFooter(\"main-footer\")\n\tconst p = initP(\"main-footer__p\")\n\n\tconst str1 = `Dialogs and assets (ships, hit/miss marks) generated using ${getAnchorStr(\n\t\t\"Microsoft Copilot\",\n\t\t\"https://copilot.microsoft.com/\"\n\t)}.`\n\tconst str2 = `Background images generated using ${getAnchorStr(\n\t\t\"Google Gemini (Imagen 3)\",\n\t\t\"https://gemini.google.com/\"\n\t)}.`\n\tconst str3 = `Images have been edited using ${getAnchorStr(\n\t\t\"Pixelcut\",\n\t\t\"https://www.pixelcut.ai/\"\n\t)}, ${getAnchorStr(\"removebg\", \"https://www.remove.bg/\")}, ${getAnchorStr(\n\t\t\"onlinepngtools\",\n\t\t\"https://onlinepngtools.com/rotate-png\"\n\t)}, ${getAnchorStr(\n\t\t\"Image Resizer.com\",\n\t\t\"https://imageresizer.com/\"\n\t)}, and ${getAnchorStr(\"TinyPNG\", \"https://tinypng.com/\")}.`\n\n\tp.innerHTML = `${str1} ${str2} ${str3}`\n\n\tfooter.append(p)\n\treturn footer\n}\n\nfunction getAnchorStr(label, link) {\n\treturn `<a href=\"${link}\" target=\"_blank\">${label}</a>`\n}\n","import WebFont from \"webfontloader\"\n\nconst defaultData = {\n\tname: \"JJJ. Mamawag\",\n\tgithubName: \"jjjmdev\",\n}\n\nexport default function setCreditFooter(data, parent = document.body) {\n\tdata = Object.assign({}, defaultData, data)\n\n\tconst footer = document.createElement(\"footer\")\n\tfooter.classList.add(\"credit-footer\")\n\tparent.appendChild(footer)\n\n\tconst a = document.createElement(\"a\")\n\ta.href = `https://github.com/${data.githubName}`\n\ta.textContent = data.name\n\n\tconst p = document.createElement(\"p\")\n\tp.appendChild(document.createTextNode(\"Created by \"))\n\tp.appendChild(a)\n\n\tconst divContainer = document.createElement(\"div\")\n\tdivContainer.classList.add(\"credit-footer\")\n\tdivContainer.appendChild(p)\n\n\t// Apply styling\n\tconst aFont = \"Bad Script\"\n\tconst pFont = \"Montserrat\"\n\n\tWebFont.load({\n\t\tgoogle: {\n\t\t\tfamilies: [aFont, pFont],\n\t\t},\n\t})\n\n\tconst color = \"rgb(0, 0, 0)\"\n\tconst bgColor = \"rgb(210, 210, 210, 80%)\"\n\tconst fontSize = \"16px\"\n\tconst iconSize = \"21px\"\n\tconst padding = \"5px\"\n\tconst lineHeight = \"1.5\"\n\n\ta.style.color = color\n\ta.style.fontFamily = `\"${aFont}\", monospace`\n\ta.style.fontSize = fontSize\n\ta.style.fontWeight = \"800\"\n\ta.style.lineHeight = lineHeight\n\ta.style.textDecoration = \"none\"\n\ta.style.verticalAlign = \"middle\"\n\n\tp.style.color = color\n\tp.style.fontFamily = `\"${pFont}\", sans-serif`\n\tp.style.fontSize = fontSize\n\tp.style.lineHeight = lineHeight\n\tp.style.textAlign = \"center\"\n\tp.style.verticalAlign = \"middle\"\n\tp.style.width = \"100%\"\n\n\tdivContainer.style.display = \"flex\"\n\tdivContainer.style.alignItems = \"center\"\n\tdivContainer.style.justifyContent = \"center\"\n\tdivContainer.style.backgroundColor = bgColor\n\tdivContainer.style.padding = padding\n\tdivContainer.style.width = \"100%\"\n\n\t// Add to DOM\n\tfooter.appendChild(divContainer)\n\n\treturn divContainer\n}\n","import PubSub from \"pubsub-js\"\nimport GameViewDom from \"./dom/GameViewDom.js\"\nimport GameEndViewDom from \"./dom/GameEndViewDom.js\"\nimport DeployFleetViewDom from \"./dom/DeployFleetViewDom.js\"\nimport HomeViewDom from \"./dom/HomeViewDom.js\"\nimport PlayersNameViewDom from \"./dom/PlayersNameViewDom.js\"\nimport initMainFooter from \"./dom/initMainFooter.js\"\nimport setCreditFooter from \"./utils/creditFooter.js\"\nimport { pubSubTokens } from \"./pubSubTokens.js\"\nimport { resetContent } from \"./utils/domUtilities.js\"\n\nlet container\n\nexport default function initWebpage() {\n\tcontainer = document.createElement(\"main\")\n\tconst mainFooter = initMainFooter()\n\tdocument.body.append(container, mainFooter)\n\n\tsetCreditFooter()\n\n\tPubSub.subscribe(pubSubTokens.showDeployFleetView, renderDeployFleetViewDom)\n\tPubSub.subscribe(pubSubTokens.showGameView, renderGameViewDom)\n\tPubSub.subscribe(pubSubTokens.showGameEndView, renderGameViewEndDom)\n\tPubSub.subscribe(pubSubTokens.showHomeView, renderHomeViewDom)\n\tPubSub.subscribe(pubSubTokens.showPlayersNameView, renderPlayersNameViewDom)\n\n\trenderHomeViewDom()\n}\n\nfunction renderDeployFleetViewDom(\n\ttoken,\n\t{ player, isAi, isPlayer1, versusAi }\n) {\n\tconsole.log(`${token} - ${player.name} ${isAi ? \"(AI)\" : \"\"}`)\n\tconst deployFleetViewDom = new DeployFleetViewDom(\n\t\tplayer,\n\t\tisAi,\n\t\tisPlayer1,\n\t\tversusAi\n\t)\n\tresetContent(container, deployFleetViewDom.div)\n}\n\nfunction renderGameViewDom(token, { player1, player2, versusAi }) {\n\tconst gameViewDom = new GameViewDom(player1, player2, versusAi)\n\tresetContent(container, gameViewDom.div)\n\t// Notify the initialization of the page\n\tPubSub.publish(pubSubTokens.gameViewInitialized, renderGameViewDom)\n}\n\nfunction renderGameViewEndDom(\n\ttoken,\n\t{ winnerPlayerName, defeatedPlayerName, versusAi, isWinnerAi }\n) {\n\tconsole.log(`${token} - ${winnerPlayerName} wins over ${defeatedPlayerName}`)\n\tconst gameEndViewDom = new GameEndViewDom(\n\t\twinnerPlayerName,\n\t\tdefeatedPlayerName,\n\t\tversusAi,\n\t\tisWinnerAi\n\t)\n\tresetContent(container, gameEndViewDom.div)\n}\n\nfunction renderHomeViewDom(token) {\n\tconst homeViewDom = new HomeViewDom()\n\tresetContent(container, homeViewDom.div)\n}\n\nfunction renderPlayersNameViewDom(token, { versusAi }) {\n\tconst playersNameViewDom = new PlayersNameViewDom(versusAi)\n\tresetContent(container, playersNameViewDom.div)\n}\n","import \"./styles.css\"\nimport initWebpage from \"./js-modules/initWebpage.js\"\n\ninitWebpage()\n"],"names":["applyClass","element","className","arguments","length","undefined","classList","add","initDiv","document","createElement","initHeader","initH1","text","textContent","initH2","initH3","initP","initButton","clickCallback","type","addEventListener","initA","href","target","initImg","src","alt","initInput","id","name","placeholder","required","ariaLabel","initTextArea","initLabel","forAttribute","setAttribute","initSelect","initDataList","initOption","value","label","initOptionAsChildInList","parentList","appendChild","initUl","initOl","initLi","initLiAsChildInList","initHr","initSpan","initFooter","___CSS_LOADER_URL_IMPORT_0___","URL","___CSS_LOADER_URL_IMPORT_1___","___CSS_LOADER_URL_IMPORT_2___","___CSS_LOADER_URL_IMPORT_3___","___CSS_LOADER_URL_IMPORT_4___","___CSS_LOADER_URL_IMPORT_5___","___CSS_LOADER_URL_IMPORT_6___","___CSS_LOADER_URL_IMPORT_7___","___CSS_LOADER_URL_IMPORT_8___","___CSS_LOADER_EXPORT___","push","module","___CSS_LOADER_URL_REPLACEMENT_0___","___CSS_LOADER_URL_REPLACEMENT_1___","___CSS_LOADER_URL_REPLACEMENT_2___","___CSS_LOADER_URL_REPLACEMENT_3___","___CSS_LOADER_URL_REPLACEMENT_4___","___CSS_LOADER_URL_REPLACEMENT_5___","___CSS_LOADER_URL_REPLACEMENT_6___","___CSS_LOADER_URL_REPLACEMENT_7___","___CSS_LOADER_URL_REPLACEMENT_8___","exports","cssWithMappingToString","list","toString","this","map","item","content","needLayer","concat","join","i","modules","media","dedupe","supports","layer","alreadyImportedModules","k","_k","url","options","String","__esModule","default","test","slice","hash","needQuotes","replace","cssMapping","btoa","base64","unescape","encodeURIComponent","JSON","stringify","data","sourceMapping","root","PubSub","console","warn","messages","lastUid","callSubscriberWithDelayedExceptions","subscriber","message","ex","setTimeout","throwException","callSubscriberWithImmediateExceptions","deliverMessage","originalMessage","matchedMessage","immediateExceptions","s","subscribers","callSubscriber","Object","prototype","hasOwnProperty","call","hasDirectSubscribersFor","topic","Boolean","obj","key","hasKeys","publish","sync","deliver","position","lastIndexOf","substr","createDeliveryFunction","found","messageHasSubscribers","publishSync","subscribe","func","token","subscribeAll","subscribeOnce","unsubscribe","apply","clearAllSubscriptions","clearSubscriptions","m","indexOf","countSubscriptions","count","getSubscriptions","t","isTopic","descendantTopicExists","isToken","isFunction","result","factory","window","g","stylesInDOM","getIndexByIdentifier","identifier","modulesToDom","idCountMap","identifiers","base","indexByIdentifier","css","sourceMap","references","updater","addElementStyle","byIndex","splice","api","domAPI","update","newObj","remove","lastIdentifiers","newList","index","newLastIdentifiers","_i","_index","memo","insert","style","styleTarget","querySelector","HTMLIFrameElement","contentDocument","head","e","getTarget","Error","setAttributes","attributes","styleElement","nonce","insertStyleElement","styleTagTransform","parentNode","removeChild","removeStyleElement","styleSheet","cssText","firstChild","createTextNode","aa","a","b","c","bind","ba","d","Array","unshift","p","Function","q","Date","now","ca","o","da","FontFace","u","getElementsByTagName","documentElement","insertBefore","lastChild","v","w","split","f","y","z","rel","onload","onerror","A","onreadystatechange","readyState","tagName","B","C","D","E","F","G","match","parseInt","I","J","H","ga","toLowerCase","ha","h","j","events","classes","L","K","ja","M","N","O","P","Q","start","Promise","fonts","load","fa","then","race","clearTimeout","R","S","T","exec","navigator","userAgent","la","U","offsetWidth","serif","V","ma","W","X","na","oa","qa","l","n","r","x","xa","vendor","ra","sa","ta","ua","context","timeout","ia","ka","pa","fontfamily","fontStyle","fontWeight","projectId","version","urls","families","testStrings","ya","za","latin","cyrillic","greek","khmer","Hanuman","Aa","thin","extralight","ultralight","light","regular","book","medium","semibold","demibold","bold","extrabold","ultrabold","black","heavy","Ba","italic","normal","Ca","Ea","Fa","Arimo","Cousine","Tinos","Ga","Ha","pop","va","isNaN","Da","wa","Typekit","config","fn","async","__webfontfontdeckmodule__","weight","location","hostname","ea","Y","custom","fontdeck","monotype","typekit","google","Z","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","loaded","__webpack_modules__","getter","definition","defineProperty","enumerable","get","globalThis","prop","Symbol","toStringTag","nmd","paths","children","scriptUrl","importScripts","currentScript","toUpperCase","scripts","baseURI","self","nc","locals","pubSubTokens","pubSubTokensUi","setCurrentPlayer","player","enableAimingOnGameboard","showAttackOutcome","shipHasSunk","toggleDeployedFleetShown","hideDeployedFleetShown","updateDeployedFleetShown","playersSwitch","setGameStatusMsg","toggleShowMsg","require","CellDom","constructor","cell","div","gridColumn","gridRow","aspectRatio","initCellDiv","setAttackStatus","hasBeenAttacked","hasShip","PlaceableObjectDom","static","cellsCoords","blockName","minCol","reduce","min","minRow","maxCol","max","maxRow","width","height","zIndex","updatePosition","ships","ship_2a","ship_2b","ship_3a","ship_3b","ship_4","ship_5","ship_6","ShipDom","direction","super","display","append","makeItSunk","initShadowShipDiv","shadowShipDiv","cloneNode","shadowBlockName","image","backgroundImage","backgroundRepeat","backgroundSize","transform","maskImage","maskRepeat","maskSize","background","borderRadius","MissMarkDom","HitMarkDom","resetContent","contentDiv","newContent","replaceChildren","removeDescendants","scrollTo","getNestedElementByClass","point","requiredClass","nestedElements","elementsFromPoint","includes","waitForAsync","waitInMs","resolve","ensureCssClassForAnimationAsync","requestAnimationFrame","triggerAnimation","animationInitialStateClass","animationDuration","toggle","aimingClass","noTransitionClass","onDragClass","forbiddenShipPositionClass","setProperty","GameboardDom","gameboard","canBeModified","Map","coords","outcome","outcomeMarkDom","isHit","isSunk","shipName","sunkShip","shipObj","enableAiming","getShipPosition","fleet","forEach","set","showDeployedFleet","promiseArray","deployedFleet","all","hideDeployedFleet","toggleDeployedFleet","updateDeployedFleet","updateDeployedShip","nCols","nRows","gridTemplateColumns","gridTemplateRows","cells","column","cellDom","cellDiv","clientX","clientY","removeEventListener","updateMovedDeployedShip","origCellDiv","toCellDiv","origShipDivTransform","shipDiv","translateShipDiv","fromCellDiv","fromcellRect","getBoundingClientRect","toCellRect","deltaX","deltaY","preventDefault","origCell","getShip","fallbackShadowShipDiv","prevCellDiv","origX","origY","dragOn","onPointerMoveCallbackBinded","Math","abs","startMoveShip","thisCellDiv","isForbidden","canPlaceShipOnMove","stopEditingPointerUpCallbackBinded","stopCellDiv","toCell","hasMoved","endMoveShip","visibility","rotateShip","touchAction","ondragstart","cssClass","playerH3","nameSpan","dividerSpan","deployedFleetSizeSpan","textShipSpan","gameboardCnt","getCssClass","PlayerDom","_ref","h3","gameboardDom","fleetLength","currentPlayer","header","playersDiv","playerDiv","msgP","btns","GameViewDom","player1","player2","versusAi","isAIPlayer","log","player1Dom","player2Dom","player1Div","player2Div","buttonsDiv","showFleetBtn","toggleShowMsgBtn","gameStatusMsg","home","deployFleet","gameEnd","gameplayIdx","miss","hit","hitAndSunk","passingTurn","gameplayMsg","gameplayMsgAi","getGameplayStatusMessage","playerName","isPlayerAi","msgObj","idx","getHomeViewMessage","titleH2","subtitleP","playAgainBtn","GameEndViewDom","winnerPlayerName","defeatedPlayerName","isWinnerAi","title","subtitle","win_2p","defeatPlayerName","getGameEndMessage","typeOfWinnerClass","editInstructionsP","DeployFleetViewDom","isAi","isPlayer1","randomShipsPlacement","msg","randomizeFleetBtn","fleetReadyBtn","getDeployFleetMessage","repeatRandomShipsPlacement","titleH1","play1Player","play2Players","playersBtns","HomeViewDom","Cell","placeShip","ship","removeShip","receiveAttack","Ship","hits","directionDisplacement","directionNext","Gameboard","size","keys","notDeployedFleet","sunkFleet","deployedFleetAsShipObj","values","notDeployedFleetAsShipObj","sunkFleetAsShipObj","fleetAsShipObj","getAllDirections","hasDeployedShip","has","hasNotDeployedShip","getCell","isValidCell","_ref2","addShip","hasSunkShip","canPlaceShip","_ref3","cStart","rStart","cDisp","rDisp","cCurrent","rCurrent","counter","_ref4","delete","resetShip","_ref5","relativeToCoord","cellCoords","centerCol","centerRow","findIndex","_ref6","offset","col","row","optionalCenterOfRotation","centerOfRotation","newSternCoords","newDirection","optionalRelativeToCoords","sternCoords","relativeToCoords","testRelativeCoords","testSternCoords","newRelativeCoords","nextSternCoords","some","itm","_ref7","hasDeployedShips","hasNotDeployedShips","randomInt","ceil","floor","random","allDirections","Player","defaultFleet","defaultGameboardSize","arr2str","arr","neighboursCellDisplacement","AiPlayer","skills","flat","getOpponentTargetCellCoords","applyPostAttackActions","targetMap","from","dCol","dRow","neighCellCoords","sort","minShipSize","selectedPossibleTargetsArr","parse","minMapSize","tempSelectedPossibleTargets","entries","tempMapSize","maxFrequency","maxFrequenciesCoordsKeys","frequency","sunkShipCoords","frequencies","shipSize","forDirection","tempCellsKeys","delta","tempKey","increment","targetFrequencies","rand","sum","cumsum","GameController","player1Name","player2Name","aiSkills","showMsg","statusMsg","firstMove","outcomeCode","isWin","startGame","startTurn","attackInfo","endGame","playBtn","playersCntDiv","aiPlayerDiv","prevAiBtn","nextAiBtn","playerNameP","playerTitleP","playerNameInput","vsP","aiPlayers","defaultData","PlayersNameViewDom","playersSelection","playerId","playerCntDiv","maxLength","setPlayerName","trim","aiPlayerIdx","setAiPlayer","disabled","prevAiCallback","nextAiCallback","getAnchorStr","link","githubName","container","renderDeployFleetViewDom","deployFleetViewDom","renderGameViewDom","gameViewDom","renderGameViewEndDom","gameEndViewDom","renderHomeViewDom","homeViewDom","renderPlayersNameViewDom","playersNameViewDom","mainFooter","footer","str1","str2","str3","innerHTML","initMainFooter","body","parent","assign","divContainer","aFont","pFont","WebFont","color","fontSize","fontFamily","lineHeight","textDecoration","verticalAlign","textAlign","alignItems","justifyContent","backgroundColor","padding","setCreditFooter","initWebpage"],"sourceRoot":""}